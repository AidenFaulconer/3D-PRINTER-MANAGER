import{r as ae}from"./state-management-690777ae.js";import{L as sl,R as Gf,U as Wf,a as Hf,O as na,P as ra,S as Vf,b as ul,N as Yf,A as Xf,W as Qf,C as Kf,B as Jf,c as Zf,V as qf,d as nt,e as Dt,f as $f,T as ed,g as wc,Q as wu,h as _u,M as to,i as no,j as td,k as _c,I as xc,F as xu,l as Dl,m as uo,n as nd,o as Jo,p as Nl,q as Ec,r as sa,s as Eu,t as fa,u as hr,v as Tc,w as kc,x as rd,y as Or,z as od,D as id,E as ad,G as ld,H as sd,J as ua,K as ud,X as cd,Y as fd,Z as dd,_ as Bl,$ as hd,a0 as pd,a1 as vd,a2 as md,a3 as gd}from"./three-1b54b8e3.js";import{r as Pc,a as yd,g as Cc}from"./react-vendor-2106b276.js";var cl={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu;function Sd(){if(Tu)return Wo;Tu=1;var h=Pc(),r=Symbol.for("react.element"),v=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,o=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function l(u,s,d){var c,m={},y=null,S=null;d!==void 0&&(y=""+d),s.key!==void 0&&(y=""+s.key),s.ref!==void 0&&(S=s.ref);for(c in s)f.call(s,c)&&!n.hasOwnProperty(c)&&(m[c]=s[c]);if(u&&u.defaultProps)for(c in s=u.defaultProps,s)m[c]===void 0&&(m[c]=s[c]);return{$$typeof:r,type:u,key:y,ref:S,props:m,_owner:o.current}}return Wo.Fragment=v,Wo.jsx=l,Wo.jsxs=l,Wo}var ku;function wd(){return ku||(ku=1,cl.exports=Sd()),cl.exports}var Mn=wd(),Vi={},Pu;function _d(){if(Pu)return Vi;Pu=1;var h=yd();return Vi.createRoot=h.createRoot,Vi.hydrateRoot=h.hydrateRoot,Vi}var Vp=_d();const Ko=new Map,Yi=h=>{const r=Ko.get(h);return r?Object.fromEntries(Object.entries(r.stores).map(([v,f])=>[v,f.getState()])):{}},xd=(h,r,v)=>{if(h===void 0)return{type:"untracked",connection:r.connect(v)};const f=Ko.get(v.name);if(f)return{type:"tracked",store:h,...f};const o={connection:r.connect(v),stores:{}};return Ko.set(v.name,o),{type:"tracked",store:h,...o}},Ed=(h,r)=>{if(r===void 0)return;const v=Ko.get(h);v&&(delete v.stores[r],Object.keys(v.stores).length===0&&Ko.delete(h))},Td=h=>{var r,v;if(!h)return;const f=h.split(`
`),o=f.findIndex(l=>l.includes("api.setState"));if(o<0)return;const n=((r=f[o+1])==null?void 0:r.trim())||"";return(v=/.+ (.+) .+/.exec(n))==null?void 0:v[1]},kd=(h,r={})=>(v,f,o)=>{const{enabled:n,anonymousActionType:l,store:u,...s}=r;let d;try{d=(n??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return h(v,f,o);const{connection:c,...m}=xd(u,d,s);let y=!0;o.setState=(_,x,k)=>{const E=v(_,x);if(!y)return E;const T=k===void 0?{type:l||Td(new Error().stack)||"anonymous"}:typeof k=="string"?{type:k}:k;return u===void 0?(c==null||c.send(T,f()),E):(c==null||c.send({...T,type:`${u}/${T.type}`},{...Yi(s.name),[u]:o.getState()}),E)},o.devtools={cleanup:()=>{c&&typeof c.unsubscribe=="function"&&c.unsubscribe(),Ed(s.name,u)}};const S=(..._)=>{const x=y;y=!1,v(..._),y=x},w=h(o.setState,f,o);if(m.type==="untracked"?c==null||c.init(w):(m.stores[m.store]=o,c==null||c.init(Object.fromEntries(Object.entries(m.stores).map(([_,x])=>[_,_===m.store?w:x.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let _=!1;const x=o.dispatch;o.dispatch=(...k)=>{x(...k)}}return c.subscribe(_=>{var x;switch(_.type){case"ACTION":if(typeof _.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return fl(_.payload,k=>{if(k.type==="__setState"){if(u===void 0){S(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=k.state[u];if(E==null)return;JSON.stringify(o.getState())!==JSON.stringify(E)&&S(E);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(k)});case"DISPATCH":switch(_.payload.type){case"RESET":return S(w),u===void 0?c==null?void 0:c.init(o.getState()):c==null?void 0:c.init(Yi(s.name));case"COMMIT":if(u===void 0){c==null||c.init(o.getState());return}return c==null?void 0:c.init(Yi(s.name));case"ROLLBACK":return fl(_.state,k=>{if(u===void 0){S(k),c==null||c.init(o.getState());return}S(k[u]),c==null||c.init(Yi(s.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return fl(_.state,k=>{if(u===void 0){S(k);return}JSON.stringify(o.getState())!==JSON.stringify(k[u])&&S(k[u])});case"IMPORT_STATE":{const{nextLiftedState:k}=_.payload,E=(x=k.computedStates.slice(-1)[0])==null?void 0:x.state;if(!E)return;S(u===void 0?E:E[u]),c==null||c.send(null,k);return}case"PAUSE_RECORDING":return y=!y}return}}),w},Yp=kd,fl=(h,r)=>{let v;try{v=JSON.parse(h)}catch(f){console.error("[zustand devtools middleware] Could not parse the received json",f)}v!==void 0&&r(v)},Pd=h=>(r,v,f)=>{const o=f.subscribe;return f.subscribe=(l,u,s)=>{let d=l;if(u){const c=(s==null?void 0:s.equalityFn)||Object.is;let m=l(f.getState());d=y=>{const S=l(y);if(!c(m,S)){const w=m;u(m=S,w)}},s!=null&&s.fireImmediately&&u(m,m)}return o(d)},h(r,v,f)},Xp=Pd;function Cd(h,r){let v;try{v=h()}catch{return}return{getItem:o=>{var n;const l=s=>s===null?null:JSON.parse(s,r==null?void 0:r.reviver),u=(n=v.getItem(o))!=null?n:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,n)=>v.setItem(o,JSON.stringify(n,r==null?void 0:r.replacer)),removeItem:o=>v.removeItem(o)}}const Ll=h=>r=>{try{const v=h(r);return v instanceof Promise?v:{then(f){return Ll(f)(v)},catch(f){return this}}}catch(v){return{then(f){return this},catch(f){return Ll(f)(v)}}}},Ud=(h,r)=>(v,f,o)=>{let n={storage:Cd(()=>localStorage),partialize:_=>_,version:0,merge:(_,x)=>({...x,..._}),...r},l=!1;const u=new Set,s=new Set;let d=n.storage;if(!d)return h((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),v(..._)},f,o);const c=()=>{const _=n.partialize({...f()});return d.setItem(n.name,{state:_,version:n.version})},m=o.setState;o.setState=(_,x)=>(m(_,x),c());const y=h((..._)=>(v(..._),c()),f,o);o.getInitialState=()=>y;let S;const w=()=>{var _,x;if(!d)return;l=!1,u.forEach(E=>{var T;return E((T=f())!=null?T:y)});const k=((x=n.onRehydrateStorage)==null?void 0:x.call(n,(_=f())!=null?_:y))||void 0;return Ll(d.getItem.bind(d))(n.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==n.version){if(n.migrate){const T=n.migrate(E.state,E.version);return T instanceof Promise?T.then(U=>[!0,U]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var T;const[U,M]=E;if(S=n.merge(M,(T=f())!=null?T:y),v(S,!0),U)return c()}).then(()=>{k==null||k(S,void 0),S=f(),l=!0,s.forEach(E=>E(S))}).catch(E=>{k==null||k(void 0,E)})};return o.persist={setOptions:_=>{n={...n,..._},_.storage&&(d=_.storage)},clearStorage:()=>{d==null||d.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:_=>(u.add(_),()=>{u.delete(_)}),onFinishHydration:_=>(s.add(_),()=>{s.delete(_)})},n.skipHydration||w(),S||y},Qp=Ud,Md="modulepreload",Rd=function(h){return"/3D-PRINTER-MANAGER/3d-printer-suite/"+h},Cu={},Kp=function(r,v,f){if(!v||v.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(v.map(n=>{if(n=Rd(n),n in Cu)return;Cu[n]=!0;const l=n.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!f)for(let c=o.length-1;c>=0;c--){const m=o[c];if(m.href===n&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Md,l||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),l)return new Promise((c,m)=>{d.addEventListener("load",c),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>r()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})};var dl={exports:{}},dr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu;function Dd(){return Uu||(Uu=1,dr.ConcurrentRoot=1,dr.ContinuousEventPriority=4,dr.DefaultEventPriority=16,dr.DiscreteEventPriority=1,dr.IdleEventPriority=536870912,dr.LegacyRoot=0),dr}var Mu;function Ld(){return Mu||(Mu=1,dl.exports=Dd()),dl.exports}var co=Ld();function Ad(h){let r;const v=new Set,f=(d,c)=>{const m=typeof d=="function"?d(r):d;if(m!==r){const y=r;r=c?m:Object.assign({},r,m),v.forEach(S=>S(r,y))}},o=()=>r,n=(d,c=o,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=c(r);function S(){const w=c(r);if(!m(y,w)){const _=y;d(y=w,_)}}return v.add(S),()=>v.delete(S)},s={setState:f,getState:o,subscribe:(d,c,m)=>c||m?n(d,c,m):(v.add(d),()=>v.delete(d)),destroy:()=>v.clear()};return r=h(f,o,s),s}const Od=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ru=Od?ae.useEffect:ae.useLayoutEffect;function Fd(h){const r=typeof h=="function"?Ad(h):h,v=(f=r.getState,o=Object.is)=>{const[,n]=ae.useReducer(x=>x+1,0),l=r.getState(),u=ae.useRef(l),s=ae.useRef(f),d=ae.useRef(o),c=ae.useRef(!1),m=ae.useRef();m.current===void 0&&(m.current=f(l));let y,S=!1;(u.current!==l||s.current!==f||d.current!==o||c.current)&&(y=f(l),S=!o(m.current,y)),Ru(()=>{S&&(m.current=y),u.current=l,s.current=f,d.current=o,c.current=!1});const w=ae.useRef(l);Ru(()=>{const x=()=>{try{const E=r.getState(),T=s.current(E);d.current(m.current,T)||(u.current=E,m.current=T,n())}catch{c.current=!0,n()}},k=r.subscribe(x);return r.getState()!==w.current&&x(),k},[]);const _=S?y:m.current;return ae.useDebugValue(_),_};return Object.assign(v,r),v[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const f=[v,r];return{next(){const o=f.length<=0;return{value:f.shift(),done:o}}}},v}const Id=h=>typeof h=="object"&&typeof h.then=="function",Xi=[];function bd(h,r,v=(f,o)=>f===o){if(h===r)return!0;if(!h||!r)return!1;const f=h.length;if(r.length!==f)return!1;for(let o=0;o<f;o++)if(!v(h[o],r[o]))return!1;return!0}function zd(h,r=null,v=!1,f={}){r===null&&(r=[h]);for(const n of Xi)if(bd(r,n.keys,n.equal)){if(v)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return f.lifespan&&f.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,f.lifespan)),n.response;if(!v)throw n.promise}const o={keys:r,equal:f.equal,remove:()=>{const n=Xi.indexOf(o);n!==-1&&Xi.splice(n,1)},promise:(Id(h)?h:h(...r)).then(n=>{o.response=n,f.lifespan&&f.lifespan>0&&(o.timeout=setTimeout(o.remove,f.lifespan))}).catch(n=>o.error=n)};if(Xi.push(o),!v)throw o.promise}const Nd=(h,r,v)=>zd(h,r,!1,v);var hl={exports:{}},pl={exports:{}},vl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du;function Bd(){return Du||(Du=1,function(h){function r(Y,j){var I=Y.length;Y.push(j);e:for(;0<I;){var C=I-1>>>1,O=Y[C];if(0<o(O,j))Y[C]=j,Y[I]=O,I=C;else break e}}function v(Y){return Y.length===0?null:Y[0]}function f(Y){if(Y.length===0)return null;var j=Y[0],I=Y.pop();if(I!==j){Y[0]=I;e:for(var C=0,O=Y.length,B=O>>>1;C<B;){var K=2*(C+1)-1,W=Y[K],ee=K+1,q=Y[ee];if(0>o(W,I))ee<O&&0>o(q,W)?(Y[C]=q,Y[ee]=I,C=ee):(Y[C]=W,Y[K]=I,C=K);else if(ee<O&&0>o(q,I))Y[C]=q,Y[ee]=I,C=ee;else break e}}return j}function o(Y,j){var I=Y.sortIndex-j.sortIndex;return I!==0?I:Y.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;h.unstable_now=function(){return n.now()}}else{var l=Date,u=l.now();h.unstable_now=function(){return l.now()-u}}var s=[],d=[],c=1,m=null,y=3,S=!1,w=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var j=v(d);j!==null;){if(j.callback===null)f(d);else if(j.startTime<=Y)f(d),j.sortIndex=j.expirationTime,r(s,j);else break;j=v(d)}}function U(Y){if(_=!1,T(Y),!w)if(v(s)!==null)w=!0,$(M);else{var j=v(d);j!==null&&ce(U,j.startTime-Y)}}function M(Y,j){w=!1,_&&(_=!1,k(N),N=-1),S=!0;var I=y;try{for(T(j),m=v(s);m!==null&&(!(m.expirationTime>j)||Y&&!J());){var C=m.callback;if(typeof C=="function"){m.callback=null,y=m.priorityLevel;var O=C(m.expirationTime<=j);j=h.unstable_now(),typeof O=="function"?m.callback=O:m===v(s)&&f(s),T(j)}else f(s);m=v(s)}if(m!==null)var B=!0;else{var K=v(d);K!==null&&ce(U,K.startTime-j),B=!1}return B}finally{m=null,y=I,S=!1}}var A=!1,b=null,N=-1,V=5,z=-1;function J(){return!(h.unstable_now()-z<V)}function D(){if(b!==null){var Y=h.unstable_now();z=Y;var j=!0;try{j=b(!0,Y)}finally{j?X():(A=!1,b=null)}}else A=!1}var X;if(typeof E=="function")X=function(){E(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=D,X=function(){ie.postMessage(null)}}else X=function(){x(D,0)};function $(Y){b=Y,A||(A=!0,X())}function ce(Y,j){N=x(function(){Y(h.unstable_now())},j)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(Y){Y.callback=null},h.unstable_continueExecution=function(){w||S||(w=!0,$(M))},h.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},h.unstable_getCurrentPriorityLevel=function(){return y},h.unstable_getFirstCallbackNode=function(){return v(s)},h.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var I=y;y=j;try{return Y()}finally{y=I}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(Y,j){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var I=y;y=Y;try{return j()}finally{y=I}},h.unstable_scheduleCallback=function(Y,j,I){var C=h.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?C+I:C):I=C,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=I+O,Y={id:c++,callback:j,priorityLevel:Y,startTime:I,expirationTime:O,sortIndex:-1},I>C?(Y.sortIndex=I,r(d,Y),v(s)===null&&Y===v(d)&&(_?(k(N),N=-1):_=!0,ce(U,I-C))):(Y.sortIndex=O,r(s,Y),w||S||(w=!0,$(M))),Y},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(Y){var j=y;return function(){var I=y;y=j;try{return Y.apply(this,arguments)}finally{y=I}}}}(vl)),vl}var Lu;function Uc(){return Lu||(Lu=1,pl.exports=Bd()),pl.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml,Au;function jd(){return Au||(Au=1,ml=function(r){var v={},f=Pc(),o=Uc(),n=Object.assign;function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),d=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),M=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}function b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E:return t=e.displayName||null,t!==null?t:b(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return b(e(t))}catch{}}return null}function N(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function V(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function z(e){if(V(e)!==e)throw Error(l(188))}function J(e){var t=e.alternate;if(!t){if(t=V(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,a=t;;){var p=i.return;if(p===null)break;var g=p.alternate;if(g===null){if(a=p.return,a!==null){i=a;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===i)return z(p),e;if(g===a)return z(p),t;g=g.sibling}throw Error(l(188))}if(i.return!==a.return)i=p,a=g;else{for(var P=!1,L=p.child;L;){if(L===i){P=!0,i=p,a=g;break}if(L===a){P=!0,a=p,i=g;break}L=L.sibling}if(!P){for(L=g.child;L;){if(L===i){P=!0,i=g,a=p;break}if(L===a){P=!0,a=g,i=p;break}L=L.sibling}if(!P)throw Error(l(189))}}if(i.alternate!==a)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function D(e){return e=J(e),e!==null?X(e):null}function X(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X(e);if(t!==null)return t;e=e.sibling}return null}function H(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=H(e);if(t!==null)return t}e=e.sibling}return null}var ie=Array.isArray,$=r.getPublicInstance,ce=r.getRootHostContext,Y=r.getChildHostContext,j=r.prepareForCommit,I=r.resetAfterCommit,C=r.createInstance,O=r.appendInitialChild,B=r.finalizeInitialChildren,K=r.prepareUpdate,W=r.shouldSetTextContent,ee=r.createTextInstance,q=r.scheduleTimeout,re=r.cancelTimeout,fe=r.noTimeout,we=r.isPrimaryRenderer,le=r.supportsMutation,oe=r.supportsPersistence,De=r.supportsHydration,Fe=r.getInstanceFromNode,me=r.preparePortalMount,Te=r.getCurrentEventPriority,Le=r.detachDeletedInstance,se=r.supportsMicrotasks,Ee=r.scheduleMicrotask,ge=r.supportsTestSelectors,te=r.findFiberRoot,Ne=r.getBoundingRect,ve=r.getTextContent,ye=r.isHiddenSubtree,he=r.matchAccessibilityRole,Ze=r.setFocusIfFocusable,ke=r.setupIntersectionObserver,Pe=r.appendChild,Oe=r.appendChildToContainer,Be=r.commitTextUpdate,rt=r.commitMount,lt=r.commitUpdate,Ve=r.insertBefore,We=r.insertInContainerBefore,Me=r.removeChild,R=r.removeChildFromContainer,ne=r.resetTextContent,xe=r.hideInstance,Ce=r.hideTextInstance,Se=r.unhideInstance,Ye=r.unhideTextInstance,xt=r.clearContainer,ot=r.cloneInstance,He=r.createContainerChildSet,qe=r.appendChildToContainerChildSet,Je=r.finalizeContainerChildren,ze=r.replaceContainerChildren,$e=r.cloneHiddenInstance,ct=r.cloneHiddenTextInstance,dt=r.canHydrateInstance,mt=r.canHydrateTextInstance,$t=r.canHydrateSuspenseInstance,En=r.isSuspenseInstancePending,en=r.isSuspenseInstanceFallback,Rn=r.registerSuspenseInstanceRetry,tn=r.getNextHydratableSibling,Tn=r.getFirstHydratableChild,Lt=r.getFirstHydratableChildWithinContainer,Wn=r.getFirstHydratableChildWithinSuspenseInstance,qo=r.hydrateInstance,po=r.hydrateTextInstance,ha=r.hydrateSuspenseInstance,$o=r.getNextHydratableInstanceAfterSuspenseInstance,pr=r.commitHydratedContainer,vo=r.commitHydratedSuspenseInstance,pa=r.clearSuspenseBoundary,ei=r.clearSuspenseBoundaryFromContainer,Fr=r.shouldDeleteUnhydratedTailInstances,mo=r.didNotMatchHydratedContainerTextInstance,go=r.didNotMatchHydratedTextInstance,Ue;function kn(e){if(Ue===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||""}return`
`+Ue+e}var yo=!1;function Dn(e,t){if(!e||yo)return"";yo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ue){var a=ue}Reflect.construct(e,[],t)}else{try{t.call()}catch(ue){a=ue}e.call(t.prototype)}else{try{throw Error()}catch(ue){a=ue}e()}}catch(ue){if(ue&&a&&typeof ue.stack=="string"){for(var p=ue.stack.split(`
`),g=a.stack.split(`
`),P=p.length-1,L=g.length-1;1<=P&&0<=L&&p[P]!==g[L];)L--;for(;1<=P&&0<=L;P--,L--)if(p[P]!==g[L]){if(P!==1||L!==1)do if(P--,L--,0>L||p[P]!==g[L]){var Z=`
`+p[P].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=P&&0<=L);break}}}finally{yo=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?kn(e):""}var Ir=Object.prototype.hasOwnProperty,br=[],Ln=-1;function nn(e){return{current:e}}function it(e){0>Ln||(e.current=br[Ln],br[Ln]=null,Ln--)}function at(e,t){Ln++,br[Ln]=e.current,e.current=t}var rn={},Et=nn(rn),kt=nn(!1),An=rn;function pn(e,t){var i=e.type.contextTypes;if(!i)return rn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in i)p[g]=t[g];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function Pt(e){return e=e.childContextTypes,e!=null}function Pn(){it(kt),it(Et)}function zr(e,t,i){if(Et.current!==rn)throw Error(l(168));at(Et,t),at(kt,i)}function Nr(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var p in a)if(!(p in t))throw Error(l(108,N(e)||"Unknown",p));return n({},i,a)}function tr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,An=Et.current,at(Et,e),at(kt,kt.current),!0}function on(e,t,i){var a=e.stateNode;if(!a)throw Error(l(169));i?(e=Nr(e,t,An),a.__reactInternalMemoizedMergedChildContext=e,it(kt),it(Et),at(Et,e)):it(kt),at(kt,i)}var an=Math.clz32?Math.clz32:ti,Br=Math.log,vr=Math.LN2;function ti(e){return e>>>=0,e===0?32:31-(Br(e)/vr|0)|0}var Hn=64,Vn=4194304;function Yn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mr(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,p=e.suspendedLanes,g=e.pingedLanes,P=i&268435455;if(P!==0){var L=P&~p;L!==0?a=Yn(L):(g&=P,g!==0&&(a=Yn(g)))}else P=i&~p,P!==0?a=Yn(P):g!==0&&(a=Yn(g));if(a===0)return 0;if(t!==0&&t!==a&&!(t&p)&&(p=a&-a,g=t&-t,p>=g||p===16&&(g&4194240)!==0))return t;if(a&4&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-an(t),p=1<<i,a|=e[i],t&=~p;return a}function ni(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes;0<g;){var P=31-an(g),L=1<<P,Z=p[P];Z===-1?(!(L&i)||L&a)&&(p[P]=ni(L,t)):Z<=t&&(e.expiredLanes|=L),g&=~L}}function Xn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function On(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-an(t),e[t]=i}function nr(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var p=31-an(i),g=1<<p;t[p]=0,a[p]=-1,e[p]=-1,i&=~g}}function Fn(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-an(i),p=1<<a;p&t|e[a]&t&&(e[a]|=t),i&=~p}}var Ke=0;function wo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qn=o.unstable_scheduleCallback,Gr=o.unstable_cancelCallback,_o=o.unstable_shouldYield,ri=o.unstable_requestPaint,ht=o.unstable_now,gr=o.unstable_ImmediatePriority,oi=o.unstable_UserBlockingPriority,Gt=o.unstable_NormalPriority,xo=o.unstable_IdlePriority,yr=null,ln=null;function Eo(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(yr,e,void 0,(e.current.flags&128)===128)}catch{}}function ii(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:ii,Wt=null,In=!1,vn=!1;function To(e){Wt===null?Wt=[e]:Wt.push(e)}function ko(e){In=!0,To(e)}function Kt(){if(!vn&&Wt!==null){vn=!0;var e=0,t=Ke;try{var i=Wt;for(Ke=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Wt=null,In=!1}catch(p){throw Wt!==null&&(Wt=Wt.slice(e+1)),Qn(gr,Kt),p}finally{Ke=t,vn=!1}}return null}var Sr=u.ReactCurrentBatchConfig;function wr(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var p=i[a];if(!Ir.call(t,p)||!sn(e[p],t[p]))return!1}return!0}function _r(e){switch(e.tag){case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 2:case 15:return e=Dn(e.type,!1),e;case 11:return e=Dn(e.type.render,!1),e;case 1:return e=Dn(e.type,!0),e;default:return""}}function Ht(e,t){if(e&&e.defaultProps){t=n({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Ct=nn(null),Wr=null,Cn=null,rr=null;function Hr(){rr=Cn=Wr=null}function ai(e,t,i){we?(at(Ct,t._currentValue),t._currentValue=i):(at(Ct,t._currentValue2),t._currentValue2=i)}function Ut(e){var t=Ct.current;it(Ct),we?e._currentValue=t:e._currentValue2=t}function Vt(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function gt(e,t){Wr=e,rr=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function yt(e){var t=we?e._currentValue:e._currentValue2;if(rr!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(Wr===null)throw Error(l(308));Cn=e,Wr.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var un=null,or=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t){var i=e.updateQueue;i!==null&&(i=i.shared,wt!==null&&e.mode&1&&!(Qe&2)?(e=i.interleaved,e===null?(t.next=t,un===null?un=[i]:un.push(i)):(t.next=e.next,e.next=t),i.interleaved=t):(e=i.pending,e===null?t.next=t:(t.next=e.next,e.next=t),i.pending=t))}function li(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Fn(e,i)}}function Ql(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var p=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var P={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?p=g=P:g=g.next=P,i=i.next}while(i!==null);g===null?p=g=t:g=g.next=t}else p=g=t;i={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function si(e,t,i,a){var p=e.updateQueue;or=!1;var g=p.firstBaseUpdate,P=p.lastBaseUpdate,L=p.shared.pending;if(L!==null){p.shared.pending=null;var Z=L,ue=Z.next;Z.next=null,P===null?g=ue:P.next=ue,P=Z;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,L=_e.lastBaseUpdate,L!==P&&(L===null?_e.firstBaseUpdate=ue:L.next=ue,_e.lastBaseUpdate=Z))}if(g!==null){var je=p.baseState;P=0,_e=ue=Z=null,L=g;do{var Ie=L.lane,st=L.eventTime;if((a&Ie)===Ie){_e!==null&&(_e=_e.next={eventTime:st,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ae=e,jt=L;switch(Ie=t,st=i,jt.tag){case 1:if(Ae=jt.payload,typeof Ae=="function"){je=Ae.call(st,je,Ie);break e}je=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=jt.payload,Ie=typeof Ae=="function"?Ae.call(st,je,Ie):Ae,Ie==null)break e;je=n({},je,Ie);break e;case 2:or=!0}}L.callback!==null&&L.lane!==0&&(e.flags|=64,Ie=p.effects,Ie===null?p.effects=[L]:Ie.push(L))}else st={eventTime:st,lane:Ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},_e===null?(ue=_e=st,Z=je):_e=_e.next=st,P|=Ie;if(L=L.next,L===null){if(L=p.shared.pending,L===null)break;Ie=L,L=Ie.next,Ie.next=null,p.lastBaseUpdate=Ie,p.shared.pending=null}}while(1);if(_e===null&&(Z=je),p.baseState=Z,p.firstBaseUpdate=ue,p.lastBaseUpdate=_e,t=p.shared.interleaved,t!==null){p=t;do P|=p.lane,p=p.next;while(p!==t)}else g===null&&(p.shared.lanes=0);$r|=P,e.lanes=P,e.memoizedState=je}}function Kl(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],p=a.callback;if(p!==null){if(a.callback=null,a=i,typeof p!="function")throw Error(l(191,p));p.call(a)}}}var Jl=new f.Component().refs;function ma(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:n({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ui={isMounted:function(e){return(e=e._reactInternals)?V(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Xt(),p=sr(e),g=Kn(a,p);g.payload=t,i!=null&&(g.callback=i),ir(e,g),t=wn(e,p,a),t!==null&&li(t,e,p)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Xt(),p=sr(e),g=Kn(a,p);g.tag=1,g.payload=t,i!=null&&(g.callback=i),ir(e,g),t=wn(e,p,a),t!==null&&li(t,e,p)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Xt(),a=sr(e),p=Kn(i,a);p.tag=2,t!=null&&(p.callback=t),ir(e,p),t=wn(e,a,i),t!==null&&li(t,e,a)}};function Zl(e,t,i,a,p,g,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,g,P):t.prototype&&t.prototype.isPureReactComponent?!wr(i,a)||!wr(p,g):!0}function ql(e,t,i){var a=!1,p=rn,g=t.contextType;return typeof g=="object"&&g!==null?g=yt(g):(p=Pt(t)?An:Et.current,a=t.contextTypes,g=(a=a!=null)?pn(e,p):rn),t=new t(i,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=g),t}function $l(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function ga(e,t,i,a){var p=e.stateNode;p.props=i,p.state=e.memoizedState,p.refs=Jl,va(e);var g=t.contextType;typeof g=="object"&&g!==null?p.context=yt(g):(g=Pt(t)?An:Et.current,p.context=pn(e,g)),p.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(ma(e,t,g,i),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&ui.enqueueReplaceState(p,p.state,null),si(e,i,p,a),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}var Vr=[],Yr=0,ci=null,fi=0,mn=[],gn=0,xr=null,Jn=1,Zn="";function Er(e,t){Vr[Yr++]=fi,Vr[Yr++]=ci,ci=e,fi=t}function es(e,t,i){mn[gn++]=Jn,mn[gn++]=Zn,mn[gn++]=xr,xr=e;var a=Jn;e=Zn;var p=32-an(a)-1;a&=~(1<<p),i+=1;var g=32-an(t)+p;if(30<g){var P=p-p%5;g=(a&(1<<P)-1).toString(32),a>>=P,p-=P,Jn=1<<32-an(t)+p|i<<p|a,Zn=g+e}else Jn=1<<g|i<<p|a,Zn=e}function ya(e){e.return!==null&&(Er(e,1),es(e,1,0))}function Sa(e){for(;e===ci;)ci=Vr[--Yr],Vr[Yr]=null,fi=Vr[--Yr],Vr[Yr]=null;for(;e===xr;)xr=mn[--gn],mn[gn]=null,Zn=mn[--gn],mn[gn]=null,Jn=mn[--gn],mn[gn]=null}var cn=null,fn=null,ft=!1,Po=!1,Un=null;function ts(e,t){var i=_n(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function ns(e,t){switch(e.tag){case 5:return t=dt(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,cn=e,fn=Tn(t),!0):!1;case 6:return t=mt(t,e.pendingProps),t!==null?(e.stateNode=t,cn=e,fn=null,!0):!1;case 13:if(t=$t(t),t!==null){var i=xr!==null?{id:Jn,overflow:Zn}:null;return e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=_n(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,cn=e,fn=null,!0}return!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _a(e){if(ft){var t=fn;if(t){var i=t;if(!ns(e,t)){if(wa(e))throw Error(l(418));t=tn(i);var a=cn;t&&ns(e,t)?ts(a,i):(e.flags=e.flags&-4097|2,ft=!1,cn=e)}}else{if(wa(e))throw Error(l(418));e.flags=e.flags&-4097|2,ft=!1,cn=e}}}function rs(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function Co(e){if(!De||e!==cn)return!1;if(!ft)return rs(e),ft=!0,!1;if(e.tag!==3&&(e.tag!==5||Fr(e.type)&&!W(e.type,e.memoizedProps))){var t=fn;if(t){if(wa(e)){for(e=fn;e;)e=tn(e);throw Error(l(418))}for(;t;)ts(e,t),t=tn(t)}}if(rs(e),e.tag===13){if(!De)throw Error(l(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));fn=$o(e)}else fn=cn?tn(e.stateNode):null;return!0}function Xr(){De&&(fn=cn=null,Po=ft=!1)}function xa(e){Un===null?Un=[e]:Un.push(e)}function Uo(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(l(309));var a=i.stateNode}if(!a)throw Error(l(147,e));var p=a,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(P){var L=p.refs;L===Jl&&(L=p.refs={}),P===null?delete L[g]:L[g]=P},t._stringRef=g,t)}if(typeof e!="string")throw Error(l(284));if(!i._owner)throw Error(l(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function os(e){var t=e._init;return t(e._payload)}function is(e){function t(G,F){if(e){var Q=G.deletions;Q===null?(G.deletions=[F],G.flags|=16):Q.push(F)}}function i(G,F){if(!e)return null;for(;F!==null;)t(G,F),F=F.sibling;return null}function a(G,F){for(G=new Map;F!==null;)F.key!==null?G.set(F.key,F):G.set(F.index,F),F=F.sibling;return G}function p(G,F){return G=cr(G,F),G.index=0,G.sibling=null,G}function g(G,F,Q){return G.index=Q,e?(Q=G.alternate,Q!==null?(Q=Q.index,Q<F?(G.flags|=2,F):Q):(G.flags|=2,F)):(G.flags|=1048576,F)}function P(G){return e&&G.alternate===null&&(G.flags|=2),G}function L(G,F,Q,pe){return F===null||F.tag!==6?(F=il(Q,G.mode,pe),F.return=G,F):(F=p(F,Q),F.return=G,F)}function Z(G,F,Q,pe){var Re=Q.type;return Re===c?_e(G,F,Q.props.children,pe,Q.key):F!==null&&(F.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===T&&os(Re)===F.type)?(pe=p(F,Q.props),pe.ref=Uo(G,F,Q),pe.return=G,pe):(pe=Wi(Q.type,Q.key,Q.props,null,G.mode,pe),pe.ref=Uo(G,F,Q),pe.return=G,pe)}function ue(G,F,Q,pe){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=al(Q,G.mode,pe),F.return=G,F):(F=p(F,Q.children||[]),F.return=G,F)}function _e(G,F,Q,pe,Re){return F===null||F.tag!==7?(F=Rr(Q,G.mode,pe,Re),F.return=G,F):(F=p(F,Q),F.return=G,F)}function je(G,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return F=il(""+F,G.mode,Q),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case s:return Q=Wi(F.type,F.key,F.props,null,G.mode,Q),Q.ref=Uo(G,null,F),Q.return=G,Q;case d:return F=al(F,G.mode,Q),F.return=G,F;case T:var pe=F._init;return je(G,pe(F._payload),Q)}if(ie(F)||A(F))return F=Rr(F,G.mode,Q,null),F.return=G,F;di(G,F)}return null}function Ie(G,F,Q,pe){var Re=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Re!==null?null:L(G,F,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case s:return Q.key===Re?Z(G,F,Q,pe):null;case d:return Q.key===Re?ue(G,F,Q,pe):null;case T:return Re=Q._init,Ie(G,F,Re(Q._payload),pe)}if(ie(Q)||A(Q))return Re!==null?null:_e(G,F,Q,pe,null);di(G,Q)}return null}function st(G,F,Q,pe,Re){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return G=G.get(Q)||null,L(F,G,""+pe,Re);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case s:return G=G.get(pe.key===null?Q:pe.key)||null,Z(F,G,pe,Re);case d:return G=G.get(pe.key===null?Q:pe.key)||null,ue(F,G,pe,Re);case T:var Xe=pe._init;return st(G,F,Q,Xe(pe._payload),Re)}if(ie(pe)||A(pe))return G=G.get(Q)||null,_e(F,G,pe,Re,null);di(F,pe)}return null}function Ae(G,F,Q,pe){for(var Re=null,Xe=null,Ge=F,et=F=0,Rt=null;Ge!==null&&et<Q.length;et++){Ge.index>et?(Rt=Ge,Ge=null):Rt=Ge.sibling;var tt=Ie(G,Ge,Q[et],pe);if(tt===null){Ge===null&&(Ge=Rt);break}e&&Ge&&tt.alternate===null&&t(G,Ge),F=g(tt,F,et),Xe===null?Re=tt:Xe.sibling=tt,Xe=tt,Ge=Rt}if(et===Q.length)return i(G,Ge),ft&&Er(G,et),Re;if(Ge===null){for(;et<Q.length;et++)Ge=je(G,Q[et],pe),Ge!==null&&(F=g(Ge,F,et),Xe===null?Re=Ge:Xe.sibling=Ge,Xe=Ge);return ft&&Er(G,et),Re}for(Ge=a(G,Ge);et<Q.length;et++)Rt=st(Ge,G,et,Q[et],pe),Rt!==null&&(e&&Rt.alternate!==null&&Ge.delete(Rt.key===null?et:Rt.key),F=g(Rt,F,et),Xe===null?Re=Rt:Xe.sibling=Rt,Xe=Rt);return e&&Ge.forEach(function(fr){return t(G,fr)}),ft&&Er(G,et),Re}function jt(G,F,Q,pe){var Re=A(Q);if(typeof Re!="function")throw Error(l(150));if(Q=Re.call(Q),Q==null)throw Error(l(151));for(var Xe=Re=null,Ge=F,et=F=0,Rt=null,tt=Q.next();Ge!==null&&!tt.done;et++,tt=Q.next()){Ge.index>et?(Rt=Ge,Ge=null):Rt=Ge.sibling;var fr=Ie(G,Ge,tt.value,pe);if(fr===null){Ge===null&&(Ge=Rt);break}e&&Ge&&fr.alternate===null&&t(G,Ge),F=g(fr,F,et),Xe===null?Re=fr:Xe.sibling=fr,Xe=fr,Ge=Rt}if(tt.done)return i(G,Ge),ft&&Er(G,et),Re;if(Ge===null){for(;!tt.done;et++,tt=Q.next())tt=je(G,tt.value,pe),tt!==null&&(F=g(tt,F,et),Xe===null?Re=tt:Xe.sibling=tt,Xe=tt);return ft&&Er(G,et),Re}for(Ge=a(G,Ge);!tt.done;et++,tt=Q.next())tt=st(Ge,G,et,tt.value,pe),tt!==null&&(e&&tt.alternate!==null&&Ge.delete(tt.key===null?et:tt.key),F=g(tt,F,et),Xe===null?Re=tt:Xe.sibling=tt,Xe=tt);return e&&Ge.forEach(function(jf){return t(G,jf)}),ft&&Er(G,et),Re}function xn(G,F,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===c&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case s:e:{for(var Re=Q.key,Xe=F;Xe!==null;){if(Xe.key===Re){if(Re=Q.type,Re===c){if(Xe.tag===7){i(G,Xe.sibling),F=p(Xe,Q.props.children),F.return=G,G=F;break e}}else if(Xe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===T&&os(Re)===Xe.type){i(G,Xe.sibling),F=p(Xe,Q.props),F.ref=Uo(G,Xe,Q),F.return=G,G=F;break e}i(G,Xe);break}else t(G,Xe);Xe=Xe.sibling}Q.type===c?(F=Rr(Q.props.children,G.mode,pe,Q.key),F.return=G,G=F):(pe=Wi(Q.type,Q.key,Q.props,null,G.mode,pe),pe.ref=Uo(G,F,Q),pe.return=G,G=pe)}return P(G);case d:e:{for(Xe=Q.key;F!==null;){if(F.key===Xe)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){i(G,F.sibling),F=p(F,Q.children||[]),F.return=G,G=F;break e}else{i(G,F);break}else t(G,F);F=F.sibling}F=al(Q,G.mode,pe),F.return=G,G=F}return P(G);case T:return Xe=Q._init,xn(G,F,Xe(Q._payload),pe)}if(ie(Q))return Ae(G,F,Q,pe);if(A(Q))return jt(G,F,Q,pe);di(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,F!==null&&F.tag===6?(i(G,F.sibling),F=p(F,Q),F.return=G,G=F):(i(G,F),F=il(Q,G.mode,pe),F.return=G,G=F),P(G)):i(G,F)}return xn}var Qr=is(!0),as=is(!1),Mo={},yn=nn(Mo),Ro=nn(Mo),Kr=nn(Mo);function bn(e){if(e===Mo)throw Error(l(174));return e}function Ea(e,t){at(Kr,t),at(Ro,e),at(yn,Mo),e=ce(t),it(yn),at(yn,e)}function Jr(){it(yn),it(Ro),it(Kr)}function ls(e){var t=bn(Kr.current),i=bn(yn.current);t=Y(i,e.type,t),i!==t&&(at(Ro,e),at(yn,t))}function Ta(e){Ro.current===e&&(it(yn),it(Ro))}var pt=nn(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||En(i)||en(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=[];function Pa(){for(var e=0;e<ka.length;e++){var t=ka[e];we?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}ka.length=0}var pi=u.ReactCurrentDispatcher,Sn=u.ReactCurrentBatchConfig,Zr=0,vt=null,zt=null,Mt=null,vi=!1,Do=!1,Lo=0,df=0;function Nt(){throw Error(l(321))}function Ca(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!sn(e[i],t[i]))return!1;return!0}function Ua(e,t,i,a,p,g){if(Zr=g,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?mf:gf,e=i(a,p),Do){g=0;do{if(Do=!1,Lo=0,25<=g)throw Error(l(301));g+=1,Mt=zt=null,t.updateQueue=null,pi.current=yf,e=i(a,p)}while(Do)}if(pi.current=wi,t=zt!==null&&zt.next!==null,Zr=0,Mt=zt=vt=null,vi=!1,t)throw Error(l(300));return e}function Ma(){var e=Lo!==0;return Lo=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?vt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function zn(){if(zt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Mt===null?vt.memoizedState:Mt.next;if(t!==null)Mt=t,zt=e;else{if(e===null)throw Error(l(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Mt===null?vt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Tr(e,t){return typeof t=="function"?t(e):t}function mi(e){var t=zn(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var a=zt,p=a.baseQueue,g=i.pending;if(g!==null){if(p!==null){var P=p.next;p.next=g.next,g.next=P}a.baseQueue=p=g,i.pending=null}if(p!==null){g=p.next,a=a.baseState;var L=P=null,Z=null,ue=g;do{var _e=ue.lane;if((Zr&_e)===_e)Z!==null&&(Z=Z.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),a=ue.hasEagerState?ue.eagerState:e(a,ue.action);else{var je={lane:_e,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};Z===null?(L=Z=je,P=a):Z=Z.next=je,vt.lanes|=_e,$r|=_e}ue=ue.next}while(ue!==null&&ue!==g);Z===null?P=a:Z.next=L,sn(a,t.memoizedState)||(dn=!0),t.memoizedState=a,t.baseState=P,t.baseQueue=Z,i.lastRenderedState=a}if(e=i.interleaved,e!==null){p=e;do g=p.lane,vt.lanes|=g,$r|=g,p=p.next;while(p!==e)}else p===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function gi(e){var t=zn(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var a=i.dispatch,p=i.pending,g=t.memoizedState;if(p!==null){i.pending=null;var P=p=p.next;do g=e(g,P.action),P=P.next;while(P!==p);sn(g,t.memoizedState)||(dn=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),i.lastRenderedState=g}return[g,a]}function ss(){}function us(e,t){var i=vt,a=zn(),p=t(),g=!sn(a.memoizedState,p);if(g&&(a.memoizedState=p,dn=!0),a=a.queue,Oo(ds.bind(null,i,a,e),[e]),a.getSnapshot!==t||g||Mt!==null&&Mt.memoizedState.tag&1){if(i.flags|=2048,Ao(9,fs.bind(null,i,a,p,t),void 0,null),wt===null)throw Error(l(349));Zr&30||cs(i,t,p)}return p}function cs(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function fs(e,t,i,a){t.value=i,t.getSnapshot=a,hs(t)&&wn(e,1,-1)}function ds(e,t,i){return i(function(){hs(t)&&wn(e,1,-1)})}function hs(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!sn(e,i)}catch{return!0}}function Ra(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},t.queue=e,e=e.dispatch=vf.bind(null,vt,e),[t.memoizedState,e]}function Ao(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function ps(){return zn().memoizedState}function yi(e,t,i,a){var p=qn();vt.flags|=e,p.memoizedState=Ao(1|t,i,void 0,a===void 0?null:a)}function Si(e,t,i,a){var p=zn();a=a===void 0?null:a;var g=void 0;if(zt!==null){var P=zt.memoizedState;if(g=P.destroy,a!==null&&Ca(a,P.deps)){p.memoizedState=Ao(t,i,g,a);return}}vt.flags|=e,p.memoizedState=Ao(1|t,i,g,a)}function Da(e,t){return yi(8390656,8,e,t)}function Oo(e,t){return Si(2048,8,e,t)}function vs(e,t){return Si(4,2,e,t)}function ms(e,t){return Si(4,4,e,t)}function gs(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ys(e,t,i){return i=i!=null?i.concat([e]):null,Si(4,4,gs.bind(null,t,e),i)}function La(){}function Ss(e,t){var i=zn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Ca(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function ws(e,t){var i=zn();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&Ca(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function hf(e,t){var i=Ke;Ke=i!==0&&4>i?i:4,e(!0);var a=Sn.transition;Sn.transition={};try{e(!1),t()}finally{Ke=i,Sn.transition=a}}function _s(){return zn().memoizedState}function pf(e,t,i){var a=sr(e);i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},xs(e)?Es(t,i):(Ts(e,t,i),i=Xt(),e=wn(e,a,i),e!==null&&ks(e,t,a))}function vf(e,t,i){var a=sr(e),p={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(xs(e))Es(t,p);else{Ts(e,t,p);var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var P=t.lastRenderedState,L=g(P,i);if(p.hasEagerState=!0,p.eagerState=L,sn(L,P))return}catch{}finally{}i=Xt(),e=wn(e,a,i),e!==null&&ks(e,t,a)}}function xs(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Es(e,t){Do=vi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Ts(e,t,i){wt!==null&&e.mode&1&&!(Qe&2)?(e=t.interleaved,e===null?(i.next=i,un===null?un=[t]:un.push(t)):(i.next=e.next,e.next=i),t.interleaved=i):(e=t.pending,e===null?i.next=i:(i.next=e.next,e.next=i),t.pending=i)}function ks(e,t,i){if(i&4194240){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Fn(e,i)}}var wi={readContext:yt,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},mf={readContext:yt,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Da,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,yi(4194308,4,gs.bind(null,t,e),i)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var i=qn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=qn();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=pf.bind(null,vt,e),[a.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Ra,useDebugValue:La,useDeferredValue:function(e){var t=Ra(e),i=t[0],a=t[1];return Da(function(){var p=Sn.transition;Sn.transition={};try{a(e)}finally{Sn.transition=p}},[e]),i},useTransition:function(){var e=Ra(!1),t=e[0];return e=hf.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=vt,p=qn();if(ft){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),wt===null)throw Error(l(349));Zr&30||cs(a,t,i)}p.memoizedState=i;var g={value:i,getSnapshot:t};return p.queue=g,Da(ds.bind(null,a,g,e),[e]),a.flags|=2048,Ao(9,fs.bind(null,a,g,i,t),void 0,null),i},useId:function(){var e=qn(),t=wt.identifierPrefix;if(ft){var i=Zn,a=Jn;i=(a&~(1<<32-an(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Lo++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=df++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gf={readContext:yt,useCallback:Ss,useContext:yt,useEffect:Oo,useImperativeHandle:ys,useInsertionEffect:vs,useLayoutEffect:ms,useMemo:ws,useReducer:mi,useRef:ps,useState:function(){return mi(Tr)},useDebugValue:La,useDeferredValue:function(e){var t=mi(Tr),i=t[0],a=t[1];return Oo(function(){var p=Sn.transition;Sn.transition={};try{a(e)}finally{Sn.transition=p}},[e]),i},useTransition:function(){var e=mi(Tr)[0],t=zn().memoizedState;return[e,t]},useMutableSource:ss,useSyncExternalStore:us,useId:_s,unstable_isNewReconciler:!1},yf={readContext:yt,useCallback:Ss,useContext:yt,useEffect:Oo,useImperativeHandle:ys,useInsertionEffect:vs,useLayoutEffect:ms,useMemo:ws,useReducer:gi,useRef:ps,useState:function(){return gi(Tr)},useDebugValue:La,useDeferredValue:function(e){var t=gi(Tr),i=t[0],a=t[1];return Oo(function(){var p=Sn.transition;Sn.transition={};try{a(e)}finally{Sn.transition=p}},[e]),i},useTransition:function(){var e=gi(Tr)[0],t=zn().memoizedState;return[e,t]},useMutableSource:ss,useSyncExternalStore:us,useId:_s,unstable_isNewReconciler:!1};function Aa(e,t){try{var i="",a=t;do i+=_r(a),a=a.return;while(a);var p=i}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:p}}function Oa(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Sf=typeof WeakMap=="function"?WeakMap:Map;function Ps(e,t,i){i=Kn(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ii||(Ii=!0,qa=a),Oa(e,t)},i}function Cs(e,t,i){i=Kn(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var p=t.value;i.payload=function(){return a(p)},i.callback=function(){Oa(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){Oa(e,t),typeof a!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var P=t.stack;this.componentDidCatch(t.value,{componentStack:P!==null?P:""})}),i}function Us(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Sf;var p=new Set;a.set(t,p)}else p=a.get(t),p===void 0&&(p=new Set,a.set(t,p));p.has(i)||(p.add(i),e=Af.bind(null,e,t,i),t.then(e,e))}function Ms(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rs(e,t,i,a,p){return e.mode&1?(e.flags|=65536,e.lanes=p,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Kn(-1,1),t.tag=2,ir(i,t))),i.lanes|=1),e)}function Nn(e){e.flags|=4}function Ds(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var Fo,Io,_i,xi;if(le)Fo=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)O(e,i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Io=function(){},_i=function(e,t,i,a,p){if(e=e.memoizedProps,e!==a){var g=t.stateNode,P=bn(yn.current);i=K(g,i,e,a,p,P),(t.updateQueue=i)&&Nn(t)}},xi=function(e,t,i,a){i!==a&&Nn(t)};else if(oe){Fo=function(e,t,i,a){for(var p=t.child;p!==null;){if(p.tag===5){var g=p.stateNode;i&&a&&(g=$e(g,p.type,p.memoizedProps,p)),O(e,g)}else if(p.tag===6)g=p.stateNode,i&&a&&(g=ct(g,p.memoizedProps,p)),O(e,g);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)g=p.child,g!==null&&(g.return=p),Fo(e,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};var Ls=function(e,t,i,a){for(var p=t.child;p!==null;){if(p.tag===5){var g=p.stateNode;i&&a&&(g=$e(g,p.type,p.memoizedProps,p)),qe(e,g)}else if(p.tag===6)g=p.stateNode,i&&a&&(g=ct(g,p.memoizedProps,p)),qe(e,g);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)g=p.child,g!==null&&(g.return=p),Ls(e,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===t)break;for(;p.sibling===null;){if(p.return===null||p.return===t)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};Io=function(e,t){var i=t.stateNode;if(!Ds(e,t)){e=i.containerInfo;var a=He(e);Ls(a,t,!1,!1),i.pendingChildren=a,Nn(t),Je(e,a)}},_i=function(e,t,i,a,p){var g=e.stateNode,P=e.memoizedProps;if((e=Ds(e,t))&&P===a)t.stateNode=g;else{var L=t.stateNode,Z=bn(yn.current),ue=null;P!==a&&(ue=K(L,i,P,a,p,Z)),e&&ue===null?t.stateNode=g:(g=ot(g,ue,i,P,a,t,e,L),B(g,i,a,p,Z)&&Nn(t),t.stateNode=g,e?Nn(t):Fo(g,t,!1,!1))}},xi=function(e,t,i,a){i!==a?(e=bn(Kr.current),i=bn(yn.current),t.stateNode=ee(a,e,i,t),Nn(t)):t.stateNode=e.stateNode}}else Io=function(){},_i=function(){},xi=function(){};function bo(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var p=e.child;p!==null;)i|=p.lanes|p.childLanes,a|=p.subtreeFlags&14680064,a|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)i|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function wf(e,t,i){var a=t.pendingProps;switch(Sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return Pt(t.type)&&Pn(),Bt(t),null;case 3:return a=t.stateNode,Jr(),it(kt),it(Et),Pa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(tl(Un),Un=null))),Io(e,t),Bt(t),null;case 5:Ta(t),i=bn(Kr.current);var p=t.type;if(e!==null&&t.stateNode!=null)_i(e,t,p,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(l(166));return Bt(t),null}if(e=bn(yn.current),Co(t)){if(!De)throw Error(l(175));e=qo(t.stateNode,t.type,t.memoizedProps,i,e,t,!Po),t.updateQueue=e,e!==null&&Nn(t)}else{var g=C(p,a,i,e,t);Fo(g,t,!1,!1),t.stateNode=g,B(g,p,a,i,e)&&Nn(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)xi(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(l(166));if(e=bn(Kr.current),i=bn(yn.current),Co(t)){if(!De)throw Error(l(176));if(e=t.stateNode,a=t.memoizedProps,(i=po(e,a,t,!Po))&&(p=cn,p!==null))switch(g=(p.mode&1)!==0,p.tag){case 3:mo(p.stateNode.containerInfo,e,a,g);break;case 5:go(p.type,p.memoizedProps,p.stateNode,e,a,g)}i&&Nn(t)}else t.stateNode=ee(a,e,i,t)}return Bt(t),null;case 13:if(it(pt),a=t.memoizedState,ft&&fn!==null&&t.mode&1&&!(t.flags&128)){for(e=fn;e;)e=tn(e);return Xr(),t.flags|=98560,t}if(a!==null&&a.dehydrated!==null){if(a=Co(t),e===null){if(!a)throw Error(l(318));if(!De)throw Error(l(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ha(e,t)}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return Bt(t),null}return Un!==null&&(tl(Un),Un=null),t.flags&128?(t.lanes=i,t):(a=a!==null,i=!1,e===null?Co(t):i=e.memoizedState!==null,a&&!i&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Tt===0&&(Tt=3):rl())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Jr(),Io(e,t),e===null&&me(t.stateNode.containerInfo),Bt(t),null;case 10:return Ut(t.type._context),Bt(t),null;case 17:return Pt(t.type)&&Pn(),Bt(t),null;case 19:if(it(pt),p=t.memoizedState,p===null)return Bt(t),null;if(a=(t.flags&128)!==0,g=p.rendering,g===null)if(a)bo(p,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=hi(e),g!==null){for(t.flags|=128,bo(p,!1),e=g.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=i,a=t.child;a!==null;)i=a,p=e,i.flags&=14680066,g=i.alternate,g===null?(i.childLanes=0,i.lanes=p,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=g.childLanes,i.lanes=g.lanes,i.child=g.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=g.memoizedProps,i.memoizedState=g.memoizedState,i.updateQueue=g.updateQueue,i.type=g.type,p=g.dependencies,i.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),a=a.sibling;return at(pt,pt.current&1|2),t.child}e=e.sibling}p.tail!==null&&ht()>Za&&(t.flags|=128,a=!0,bo(p,!1),t.lanes=4194304)}else{if(!a)if(e=hi(g),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),bo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!ft)return Bt(t),null}else 2*ht()-p.renderingStartTime>Za&&i!==1073741824&&(t.flags|=128,a=!0,bo(p,!1),t.lanes=4194304);p.isBackwards?(g.sibling=t.child,t.child=g):(e=p.last,e!==null?e.sibling=g:t.child=g,p.last=g)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=ht(),t.sibling=null,e=pt.current,at(pt,a?e&1|2:e&1),t):(Bt(t),null);case 22:case 23:return nl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?hn&1073741824&&(Bt(t),le&&t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(l(156,t.tag))}var _f=u.ReactCurrentOwner,dn=!1;function Yt(e,t,i,a){t.child=e===null?as(t,null,i,a):Qr(t,e.child,i,a)}function As(e,t,i,a,p){i=i.render;var g=t.ref;return gt(t,p),a=Ua(e,t,i,a,g,p),i=Ma(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,$n(e,t,p)):(ft&&i&&ya(t),t.flags|=1,Yt(e,t,a,p),t.child)}function Os(e,t,i,a,p){if(e===null){var g=i.type;return typeof g=="function"&&!ol(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=g,Fs(e,t,g,a,p)):(e=Wi(i.type,null,a,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!(e.lanes&p)){var P=g.memoizedProps;if(i=i.compare,i=i!==null?i:wr,i(P,a)&&e.ref===t.ref)return $n(e,t,p)}return t.flags|=1,e=cr(g,a),e.ref=t.ref,e.return=t,t.child=e}function Fs(e,t,i,a,p){if(e!==null&&wr(e.memoizedProps,a)&&e.ref===t.ref)if(dn=!1,(e.lanes&p)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,$n(e,t,p);return Fa(e,t,i,a,p)}function Is(e,t,i){var a=t.pendingProps,p=a.children,g=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},at(qr,hn),hn|=i;else if(i&1073741824)t.memoizedState={baseLanes:0,cachePool:null},a=g!==null?g.baseLanes:i,at(qr,hn),hn|=a;else return e=g!==null?g.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,at(qr,hn),hn|=e,null;else g!==null?(a=g.baseLanes|i,t.memoizedState=null):a=i,at(qr,hn),hn|=a;return Yt(e,t,p,i),t.child}function bs(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Fa(e,t,i,a,p){var g=Pt(i)?An:Et.current;return g=pn(t,g),gt(t,p),i=Ua(e,t,i,a,g,p),a=Ma(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,$n(e,t,p)):(ft&&a&&ya(t),t.flags|=1,Yt(e,t,i,p),t.child)}function zs(e,t,i,a,p){if(Pt(i)){var g=!0;tr(t)}else g=!1;if(gt(t,p),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),ql(t,i,a),ga(t,i,a,p),a=!0;else if(e===null){var P=t.stateNode,L=t.memoizedProps;P.props=L;var Z=P.context,ue=i.contextType;typeof ue=="object"&&ue!==null?ue=yt(ue):(ue=Pt(i)?An:Et.current,ue=pn(t,ue));var _e=i.getDerivedStateFromProps,je=typeof _e=="function"||typeof P.getSnapshotBeforeUpdate=="function";je||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(L!==a||Z!==ue)&&$l(t,P,a,ue),or=!1;var Ie=t.memoizedState;P.state=Ie,si(t,a,P,p),Z=t.memoizedState,L!==a||Ie!==Z||kt.current||or?(typeof _e=="function"&&(ma(t,i,_e,a),Z=t.memoizedState),(L=or||Zl(t,i,L,a,Ie,Z,ue))?(je||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(t.flags|=4194308)):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),P.props=a,P.state=Z,P.context=ue,a=L):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{P=t.stateNode,Xl(e,t),L=t.memoizedProps,ue=t.type===t.elementType?L:Ht(t.type,L),P.props=ue,je=t.pendingProps,Ie=P.context,Z=i.contextType,typeof Z=="object"&&Z!==null?Z=yt(Z):(Z=Pt(i)?An:Et.current,Z=pn(t,Z));var st=i.getDerivedStateFromProps;(_e=typeof st=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(L!==je||Ie!==Z)&&$l(t,P,a,Z),or=!1,Ie=t.memoizedState,P.state=Ie,si(t,a,P,p);var Ae=t.memoizedState;L!==je||Ie!==Ae||kt.current||or?(typeof st=="function"&&(ma(t,i,st,a),Ae=t.memoizedState),(ue=or||Zl(t,i,ue,a,Ie,Ae,Z)||!1)?(_e||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(a,Ae,Z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(a,Ae,Z)),typeof P.componentDidUpdate=="function"&&(t.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof P.componentDidUpdate!="function"||L===e.memoizedProps&&Ie===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&Ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=Ae),P.props=a,P.state=Ae,P.context=Z,a=ue):(typeof P.componentDidUpdate!="function"||L===e.memoizedProps&&Ie===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&Ie===e.memoizedState||(t.flags|=1024),a=!1)}return Ia(e,t,i,a,g,p)}function Ia(e,t,i,a,p,g){bs(e,t);var P=(t.flags&128)!==0;if(!a&&!P)return p&&on(t,i,!1),$n(e,t,g);a=t.stateNode,_f.current=t;var L=P&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&P?(t.child=Qr(t,e.child,null,g),t.child=Qr(t,null,L,g)):Yt(e,t,L,g),t.memoizedState=a.state,p&&on(t,i,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?zr(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zr(e,t.context,!1),Ea(e,t.containerInfo)}function Bs(e,t,i,a,p){return Xr(),xa(p),t.flags|=256,Yt(e,t,i,a),t.child}var Ei={dehydrated:null,treeContext:null,retryLane:0};function Ti(e){return{baseLanes:e,cachePool:null}}function js(e,t,i){var a=t.pendingProps,p=pt.current,g=!1,P=(t.flags&128)!==0,L;if((L=P)||(L=e!==null&&e.memoizedState===null?!1:(p&2)!==0),L?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),at(pt,p&1),e===null)return _a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?en(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=a.children,e=a.fallback,g?(a=t.mode,g=t.child,p={mode:"hidden",children:p},!(a&1)&&g!==null?(g.childLanes=0,g.pendingProps=p):g=Hi(p,a,0,null),e=Rr(e,a,i,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=Ti(i),t.memoizedState=Ei,e):ba(t,p));if(p=e.memoizedState,p!==null){if(L=p.dehydrated,L!==null){if(P)return t.flags&256?(t.flags&=-257,ki(e,t,i,Error(l(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=a.fallback,p=t.mode,a=Hi({mode:"visible",children:a.children},p,0,null),g=Rr(g,p,i,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,t.mode&1&&Qr(t,e.child,null,i),t.child.memoizedState=Ti(i),t.memoizedState=Ei,g);if(!(t.mode&1))t=ki(e,t,i,null);else if(en(L))t=ki(e,t,i,Error(l(419)));else if(a=(i&e.childLanes)!==0,dn||a){if(a=wt,a!==null){switch(i&-i){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}a=g&(a.suspendedLanes|i)?0:g,a!==0&&a!==p.retryLane&&(p.retryLane=a,wn(e,a,-1))}rl(),t=ki(e,t,i,Error(l(421)))}else En(L)?(t.flags|=128,t.child=e.child,t=Of.bind(null,e),Rn(L,t),t=null):(i=p.treeContext,De&&(fn=Wn(L),cn=t,ft=!0,Un=null,Po=!1,i!==null&&(mn[gn++]=Jn,mn[gn++]=Zn,mn[gn++]=xr,Jn=i.id,Zn=i.overflow,xr=t)),t=ba(t,t.pendingProps.children),t.flags|=4096);return t}return g?(a=Ws(e,t,a.children,a.fallback,i),g=t.child,p=e.child.memoizedState,g.memoizedState=p===null?Ti(i):{baseLanes:p.baseLanes|i,cachePool:null},g.childLanes=e.childLanes&~i,t.memoizedState=Ei,a):(i=Gs(e,t,a.children,i),t.memoizedState=null,i)}return g?(a=Ws(e,t,a.children,a.fallback,i),g=t.child,p=e.child.memoizedState,g.memoizedState=p===null?Ti(i):{baseLanes:p.baseLanes|i,cachePool:null},g.childLanes=e.childLanes&~i,t.memoizedState=Ei,a):(i=Gs(e,t,a.children,i),t.memoizedState=null,i)}function ba(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,i,a){var p=e.child;return e=p.sibling,i=cr(p,{mode:"visible",children:i}),!(t.mode&1)&&(i.lanes=a),i.return=t,i.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=i}function Ws(e,t,i,a,p){var g=t.mode;e=e.child;var P=e.sibling,L={mode:"hidden",children:i};return!(g&1)&&t.child!==e?(i=t.child,i.childLanes=0,i.pendingProps=L,t.deletions=null):(i=cr(e,L),i.subtreeFlags=e.subtreeFlags&14680064),P!==null?a=cr(P,a):(a=Rr(a,g,p,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,a}function ki(e,t,i,a){return a!==null&&xa(a),Qr(t,e.child,null,i),e=ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hs(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Vt(e.return,t,i)}function za(e,t,i,a,p){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:p}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=i,g.tailMode=p)}function Vs(e,t,i){var a=t.pendingProps,p=a.revealOrder,g=a.tail;if(Yt(e,t,a.children,i),a=pt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hs(e,i,t);else if(e.tag===19)Hs(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(at(pt,a),!(t.mode&1))t.memoizedState=null;else switch(p){case"forwards":for(i=t.child,p=null;i!==null;)e=i.alternate,e!==null&&hi(e)===null&&(p=i),i=i.sibling;i=p,i===null?(p=t.child,t.child=null):(p=i.sibling,i.sibling=null),za(t,!1,p,i,g);break;case"backwards":for(i=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&hi(e)===null){t.child=p;break}e=p.sibling,p.sibling=i,i=p,p=e}za(t,!0,i,null,g);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $n(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xf(e,t,i){switch(t.tag){case 3:Ns(t),Xr();break;case 5:ls(t);break;case 1:Pt(t.type)&&tr(t);break;case 4:Ea(t,t.stateNode.containerInfo);break;case 10:ai(t,t.type._context,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(at(pt,pt.current&1),t.flags|=128,null):i&t.child.childLanes?js(e,t,i):(at(pt,pt.current&1),e=$n(e,t,i),e!==null?e.sibling:null);at(pt,pt.current&1);break;case 19:if(a=(i&t.childLanes)!==0,e.flags&128){if(a)return Vs(e,t,i);t.flags|=128}var p=t.memoizedState;if(p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(pt,pt.current),a)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,i)}return $n(e,t,i)}function Ef(e,t){switch(Sa(t),t.tag){case 1:return Pt(t.type)&&Pn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),it(kt),it(Et),Pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ta(t),null;case 13:if(it(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(pt),null;case 4:return Jr(),null;case 10:return Ut(t.type._context),null;case 22:case 23:return nl(),null;case 24:return null;default:return null}}var Pi=!1,kr=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ci(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){qt(e,t,a)}else i.current=null}function Na(e,t,i){try{i()}catch(a){qt(e,t,a)}}var Ys=!1;function kf(e,t){for(j(e.containerInfo),de=t;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var i=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(i!==null){var a=i.memoizedProps,p=i.memoizedState,g=e.stateNode,P=g.getSnapshotBeforeUpdate(e.elementType===e.type?a:Ht(e.type,a),p);g.__reactInternalSnapshotBeforeUpdate=P}break;case 3:le&&xt(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(L){qt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return i=Ys,Ys=!1,i}function Pr(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&e)===e){var g=p.destroy;p.destroy=void 0,g!==void 0&&Na(t,i,g)}p=p.next}while(p!==a)}}function zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ba(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=$(i);break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Xs(e,t,i){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(yr,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var a=e=e.next;do{var p=a,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&Na(t,i,g),a=a.next}while(a!==e)}break;case 1:if(Ci(t,i),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(P){qt(t,i,P)}break;case 5:Ci(t,i);break;case 4:le?$s(e,t,i):oe&&oe&&(t=t.stateNode.containerInfo,i=He(t),ze(t,i))}}function Qs(e,t,i){for(var a=t;;)if(Xs(e,a,i),a.child===null||le&&a.tag===4){if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}function Ks(e){var t=e.alternate;t!==null&&(e.alternate=null,Ks(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Le(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Js(e){return e.tag===5||e.tag===3||e.tag===4}function Zs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Js(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qs(e){if(le){e:{for(var t=e.return;t!==null;){if(Js(t))break e;t=t.return}throw Error(l(160))}var i=t;switch(i.tag){case 5:t=i.stateNode,i.flags&32&&(ne(t),i.flags&=-33),i=Zs(e),Ga(e,i,t);break;case 3:case 4:t=i.stateNode.containerInfo,i=Zs(e),ja(e,i,t);break;default:throw Error(l(161))}}}function ja(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?We(i,e,t):Oe(i,e);else if(a!==4&&(e=e.child,e!==null))for(ja(e,t,i),e=e.sibling;e!==null;)ja(e,t,i),e=e.sibling}function Ga(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?Ve(i,e,t):Pe(i,e);else if(a!==4&&(e=e.child,e!==null))for(Ga(e,t,i),e=e.sibling;e!==null;)Ga(e,t,i),e=e.sibling}function $s(e,t,i){for(var a=t,p=!1,g,P;;){if(!p){p=a.return;e:for(;;){if(p===null)throw Error(l(160));switch(g=p.stateNode,p.tag){case 5:P=!1;break e;case 3:g=g.containerInfo,P=!0;break e;case 4:g=g.containerInfo,P=!0;break e}p=p.return}p=!0}if(a.tag===5||a.tag===6)Qs(e,a,i),P?R(g,a.stateNode):Me(g,a.stateNode);else if(a.tag===18)P?ei(g,a.stateNode):pa(g,a.stateNode);else if(a.tag===4){if(a.child!==null){g=a.stateNode.containerInfo,P=!0,a.child.return=a,a=a.child;continue}}else if(Xs(e,a,i),a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return,a.tag===4&&(p=!1)}a.sibling.return=a.return,a=a.sibling}}function Wa(e,t){if(le){switch(t.tag){case 0:case 11:case 14:case 15:Pr(3,t,t.return),zo(3,t),Pr(5,t,t.return);return;case 1:return;case 5:var i=t.stateNode;if(i!=null){var a=t.memoizedProps;e=e!==null?e.memoizedProps:a;var p=t.type,g=t.updateQueue;t.updateQueue=null,g!==null&&lt(i,g,p,e,a,t)}return;case 6:if(t.stateNode===null)throw Error(l(162));i=t.memoizedProps,Be(t.stateNode,e!==null?e.memoizedProps:i,i);return;case 3:De&&e!==null&&e.memoizedState.isDehydrated&&pr(t.stateNode.containerInfo);return;case 12:return;case 13:Ui(t);return;case 19:Ui(t);return;case 17:return}throw Error(l(163))}switch(t.tag){case 0:case 11:case 14:case 15:Pr(3,t,t.return),zo(3,t),Pr(5,t,t.return);return;case 12:return;case 13:Ui(t);return;case 19:Ui(t);return;case 3:De&&e!==null&&e.memoizedState.isDehydrated&&pr(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(oe){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ze(t.containerInfo,t.pendingChildren);break e}throw Error(l(163))}}function Ui(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Tf),t.forEach(function(a){var p=Ff.bind(null,e,a);i.has(a)||(i.add(a),a.then(p,p))})}}function Pf(e,t){for(de=t;de!==null;){t=de;var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var p=i[a];try{var g=e;le?$s(g,p,t):Qs(g,p,t);var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(Re){qt(p,t,Re)}}if(i=t.child,t.subtreeFlags&12854&&i!==null)i.return=t,de=i;else for(;de!==null;){t=de;try{var L=t.flags;if(L&32&&le&&ne(t.stateNode),L&512){var Z=t.alternate;if(Z!==null){var ue=Z.ref;ue!==null&&(typeof ue=="function"?ue(null):ue.current=null)}}if(L&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var _e=t.alternate;(_e===null||_e.memoizedState===null)&&(Ja=ht())}break;case 22:var je=t.memoizedState!==null,Ie=t.alternate,st=Ie!==null&&Ie.memoizedState!==null;if(i=t,le){e:if(a=i,p=je,g=null,le)for(var Ae=a;;){if(Ae.tag===5){if(g===null){g=Ae;var jt=Ae.stateNode;p?xe(jt):Se(Ae.stateNode,Ae.memoizedProps)}}else if(Ae.tag===6){if(g===null){var xn=Ae.stateNode;p?Ce(xn):Ye(xn,Ae.memoizedProps)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===a)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===a)break;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===a)break e;g===Ae&&(g=null),Ae=Ae.return}g===Ae&&(g=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}if(je&&!st&&i.mode&1){de=i;for(var G=i.child;G!==null;){for(i=de=G;de!==null;){a=de;var F=a.child;switch(a.tag){case 0:case 11:case 14:case 15:Pr(4,a,a.return);break;case 1:Ci(a,a.return);var Q=a.stateNode;if(typeof Q.componentWillUnmount=="function"){var pe=a.return;try{Q.props=a.memoizedProps,Q.state=a.memoizedState,Q.componentWillUnmount()}catch(Re){qt(a,pe,Re)}}break;case 5:Ci(a,a.return);break;case 22:if(a.memoizedState!==null){nu(i);continue}}F!==null?(F.return=a,de=F):nu(i)}G=G.sibling}}}switch(L&4102){case 2:qs(t),t.flags&=-3;break;case 6:qs(t),t.flags&=-3,Wa(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Wa(t.alternate,t);break;case 4:Wa(t.alternate,t)}}catch(Re){qt(t,t.return,Re)}if(i=t.sibling,i!==null){i.return=t.return,de=i;break}de=t.return}}}function Cf(e,t,i){de=e,eu(e)}function eu(e,t,i){for(var a=(e.mode&1)!==0;de!==null;){var p=de,g=p.child;if(p.tag===22&&a){var P=p.memoizedState!==null||Pi;if(!P){var L=p.alternate,Z=L!==null&&L.memoizedState!==null||kr;L=Pi;var ue=kr;if(Pi=P,(kr=Z)&&!ue)for(de=p;de!==null;)P=de,Z=P.child,P.tag===22&&P.memoizedState!==null?ru(p):Z!==null?(Z.return=P,de=Z):ru(p);for(;g!==null;)de=g,eu(g),g=g.sibling;de=p,Pi=L,kr=ue}tu(e)}else p.subtreeFlags&8772&&g!==null?(g.return=p,de=g):tu(e)}}function tu(e){for(;de!==null;){var t=de;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||zo(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!kr)if(i===null)a.componentDidMount();else{var p=t.elementType===t.type?i.memoizedProps:Ht(t.type,i.memoizedProps);a.componentDidUpdate(p,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&Kl(t,g,a);break;case 3:var P=t.updateQueue;if(P!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=$(t.child.stateNode);break;case 1:i=t.child.stateNode}Kl(t,P,i)}break;case 5:var L=t.stateNode;i===null&&t.flags&4&&rt(L,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&t.memoizedState===null){var Z=t.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var _e=ue.dehydrated;_e!==null&&vo(_e)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(l(163))}kr||t.flags&512&&Ba(t)}catch(je){qt(t,t.return,je)}}if(t===e){de=null;break}if(i=t.sibling,i!==null){i.return=t.return,de=i;break}de=t.return}}function nu(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var i=t.sibling;if(i!==null){i.return=t.return,de=i;break}de=t.return}}function ru(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{zo(4,t)}catch(Z){qt(t,i,Z)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var p=t.return;try{a.componentDidMount()}catch(Z){qt(t,p,Z)}}var g=t.return;try{Ba(t)}catch(Z){qt(t,g,Z)}break;case 5:var P=t.return;try{Ba(t)}catch(Z){qt(t,P,Z)}}}catch(Z){qt(t,t.return,Z)}if(t===e){de=null;break}var L=t.sibling;if(L!==null){L.return=t.return,de=L;break}de=t.return}}var Mi=0,Ri=1,Di=2,Li=3,Ai=4;if(typeof Symbol=="function"&&Symbol.for){var No=Symbol.for;Mi=No("selector.component"),Ri=No("selector.has_pseudo_class"),Di=No("selector.role"),Li=No("selector.test_id"),Ai=No("selector.text")}function Ha(e){var t=Fe(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(l(364));return t}if(e=te(e),e===null)throw Error(l(362));return e.stateNode.current}function Va(e,t){switch(t.$$typeof){case Mi:if(e.type===t.value)return!0;break;case Ri:e:{t=t.value,e=[e,0];for(var i=0;i<e.length;){var a=e[i++],p=e[i++],g=t[p];if(a.tag!==5||!ye(a)){for(;g!=null&&Va(a,g);)p++,g=t[p];if(p===t.length){t=!0;break e}else for(a=a.child;a!==null;)e.push(a,p),a=a.sibling}}t=!1}return t;case Di:if(e.tag===5&&he(e.stateNode,t.value))return!0;break;case Ai:if((e.tag===5||e.tag===6)&&(e=ve(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Li:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function Ya(e){switch(e.$$typeof){case Mi:return"<"+(b(e.value)||"Unknown")+">";case Ri:return":has("+(Ya(e)||"")+")";case Di:return'[role="'+e.value+'"]';case Ai:return'"'+e.value+'"';case Li:return'[data-testname="'+e.value+'"]';default:throw Error(l(365))}}function ou(e,t){var i=[];e=[e,0];for(var a=0;a<e.length;){var p=e[a++],g=e[a++],P=t[g];if(p.tag!==5||!ye(p)){for(;P!=null&&Va(p,P);)g++,P=t[g];if(g===t.length)i.push(p);else for(p=p.child;p!==null;)e.push(p,g),p=p.sibling}}return i}function Xa(e,t){if(!ge)throw Error(l(363));e=Ha(e),e=ou(e,t),t=[],e=Array.from(e);for(var i=0;i<e.length;){var a=e[i++];if(a.tag===5)ye(a)||t.push(a.stateNode);else for(a=a.child;a!==null;)e.push(a),a=a.sibling}return t}var Uf=Math.ceil,Oi=u.ReactCurrentDispatcher,Qa=u.ReactCurrentOwner,St=u.ReactCurrentBatchConfig,Qe=0,wt=null,_t=null,At=0,hn=0,qr=nn(0),Tt=0,Bo=null,$r=0,Fi=0,Ka=0,jo=null,Jt=null,Ja=0,Za=1/0;function eo(){Za=ht()+500}var Ii=!1,qa=null,ar=null,bi=!1,lr=null,zi=0,Go=0,$a=null,Ni=-1,Bi=0;function Xt(){return Qe&6?ht():Ni!==-1?Ni:Ni=ht()}function sr(e){return e.mode&1?Qe&2&&At!==0?At&-At:Sr.transition!==null?(Bi===0&&(e=Hn,Hn<<=1,!(Hn&4194240)&&(Hn=64),Bi=e),Bi):(e=Ke,e!==0?e:Te()):1}function wn(e,t,i){if(50<Go)throw Go=0,$a=null,Error(l(185));var a=ji(e,t);return a===null?null:(On(a,t,i),(!(Qe&2)||a!==wt)&&(a===wt&&(!(Qe&2)&&(Fi|=t),Tt===4&&ur(a,At)),Zt(a,i),t===1&&Qe===0&&!(e.mode&1)&&(eo(),In&&Kt())),a)}function ji(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}function Zt(e,t){var i=e.callbackNode;So(e,t);var a=mr(e,e===wt?At:0);if(a===0)i!==null&&Gr(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Gr(i),t===1)e.tag===0?ko(au.bind(null,e)):To(au.bind(null,e)),se?Ee(function(){Qe===0&&Kt()}):Qn(gr,Kt),i=null;else{switch(wo(a)){case 1:i=gr;break;case 4:i=oi;break;case 16:i=Gt;break;case 536870912:i=xo;break;default:i=Gt}i=vu(i,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function iu(e,t){if(Ni=-1,Bi=0,Qe&6)throw Error(l(327));var i=e.callbackNode;if(Mr()&&e.callbackNode!==i)return null;var a=mr(e,e===wt?At:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Gi(e,a);else{t=a;var p=Qe;Qe|=2;var g=uu();(wt!==e||At!==t)&&(eo(),Cr(e,t));do try{Df();break}catch(L){su(e,L)}while(1);Hr(),Oi.current=g,Qe=p,_t!==null?t=0:(wt=null,At=0,t=Tt)}if(t!==0){if(t===2&&(p=Xn(e),p!==0&&(a=p,t=el(e,p))),t===1)throw i=Bo,Cr(e,0),ur(e,a),Zt(e,ht()),i;if(t===6)ur(e,a);else{if(p=e.current.alternate,!(a&30)&&!Mf(p)&&(t=Gi(e,a),t===2&&(g=Xn(e),g!==0&&(a=g,t=el(e,g))),t===1))throw i=Bo,Cr(e,0),ur(e,a),Zt(e,ht()),i;switch(e.finishedWork=p,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:Ur(e,Jt);break;case 3:if(ur(e,a),(a&130023424)===a&&(t=Ja+500-ht(),10<t)){if(mr(e,0)!==0)break;if(p=e.suspendedLanes,(p&a)!==a){Xt(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=q(Ur.bind(null,e,Jt),t);break}Ur(e,Jt);break;case 4:if(ur(e,a),(a&4194240)===a)break;for(t=e.eventTimes,p=-1;0<a;){var P=31-an(a);g=1<<P,P=t[P],P>p&&(p=P),a&=~g}if(a=p,a=ht()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Uf(a/1960))-a,10<a){e.timeoutHandle=q(Ur.bind(null,e,Jt),a);break}Ur(e,Jt);break;case 5:Ur(e,Jt);break;default:throw Error(l(329))}}}return Zt(e,ht()),e.callbackNode===i?iu.bind(null,e):null}function el(e,t){var i=jo;return e.current.memoizedState.isDehydrated&&(Cr(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=Jt,Jt=i,t!==null&&tl(t)),e}function tl(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function Mf(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var p=i[a],g=p.getSnapshot;p=p.value;try{if(!sn(g(),p))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~Ka,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-an(t),a=1<<i;e[i]=-1,t&=~a}}function au(e){if(Qe&6)throw Error(l(327));Mr();var t=mr(e,0);if(!(t&1))return Zt(e,ht()),null;var i=Gi(e,t);if(e.tag!==0&&i===2){var a=Xn(e);a!==0&&(t=a,i=el(e,a))}if(i===1)throw i=Bo,Cr(e,0),ur(e,t),Zt(e,ht()),i;if(i===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,Jt),Zt(e,ht()),null}function lu(e){lr!==null&&lr.tag===0&&!(Qe&6)&&Mr();var t=Qe;Qe|=1;var i=St.transition,a=Ke;try{if(St.transition=null,Ke=1,e)return e()}finally{Ke=a,St.transition=i,Qe=t,!(Qe&6)&&Kt()}}function nl(){hn=qr.current,it(qr)}function Cr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==fe&&(e.timeoutHandle=fe,re(i)),_t!==null)for(i=_t.return;i!==null;){var a=i;switch(Sa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Pn();break;case 3:Jr(),it(kt),it(Et),Pa();break;case 5:Ta(a);break;case 4:Jr();break;case 13:it(pt);break;case 19:it(pt);break;case 10:Ut(a.type._context);break;case 22:case 23:nl()}i=i.return}if(wt=e,_t=e=cr(e.current,null),At=hn=t,Tt=0,Bo=null,Ka=Fi=$r=0,Jt=jo=null,un!==null){for(t=0;t<un.length;t++)if(i=un[t],a=i.interleaved,a!==null){i.interleaved=null;var p=a.next,g=i.pending;if(g!==null){var P=g.next;g.next=p,a.next=P}i.pending=a}un=null}return e}function su(e,t){do{var i=_t;try{if(Hr(),pi.current=wi,vi){for(var a=vt.memoizedState;a!==null;){var p=a.queue;p!==null&&(p.pending=null),a=a.next}vi=!1}if(Zr=0,Mt=zt=vt=null,Do=!1,Lo=0,Qa.current=null,i===null||i.return===null){Tt=1,Bo=t,_t=null;break}e:{var g=e,P=i.return,L=i,Z=t;if(t=At,L.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ue=Z,_e=L,je=_e.tag;if(!(_e.mode&1)&&(je===0||je===11||je===15)){var Ie=_e.alternate;Ie?(_e.updateQueue=Ie.updateQueue,_e.memoizedState=Ie.memoizedState,_e.lanes=Ie.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var st=Ms(P);if(st!==null){st.flags&=-257,Rs(st,P,L,g,t),st.mode&1&&Us(g,ue,t),t=st,Z=ue;var Ae=t.updateQueue;if(Ae===null){var jt=new Set;jt.add(Z),t.updateQueue=jt}else Ae.add(Z);break e}else{if(!(t&1)){Us(g,ue,t),rl();break e}Z=Error(l(426))}}else if(ft&&L.mode&1){var xn=Ms(P);if(xn!==null){!(xn.flags&65536)&&(xn.flags|=256),Rs(xn,P,L,g,t),xa(Z);break e}}g=Z,Tt!==4&&(Tt=2),jo===null?jo=[g]:jo.push(g),Z=Aa(Z,L),L=P;do{switch(L.tag){case 3:L.flags|=65536,t&=-t,L.lanes|=t;var G=Ps(L,Z,t);Ql(L,G);break e;case 1:g=Z;var F=L.type,Q=L.stateNode;if(!(L.flags&128)&&(typeof F.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(ar===null||!ar.has(Q)))){L.flags|=65536,t&=-t,L.lanes|=t;var pe=Cs(L,g,t);Ql(L,pe);break e}}L=L.return}while(L!==null)}fu(i)}catch(Re){t=Re,_t===i&&i!==null&&(_t=i=i.return);continue}break}while(1)}function uu(){var e=Oi.current;return Oi.current=wi,e===null?wi:e}function rl(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),wt===null||!($r&268435455)&&!(Fi&268435455)||ur(wt,At)}function Gi(e,t){var i=Qe;Qe|=2;var a=uu();wt===e&&At===t||Cr(e,t);do try{Rf();break}catch(p){su(e,p)}while(1);if(Hr(),Qe=i,Oi.current=a,_t!==null)throw Error(l(261));return wt=null,At=0,Tt}function Rf(){for(;_t!==null;)cu(_t)}function Df(){for(;_t!==null&&!_o();)cu(_t)}function cu(e){var t=pu(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?fu(e):_t=t,Qa.current=null}function fu(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Ef(i,t),i!==null){i.flags&=32767,_t=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,_t=null;return}}else if(i=wf(i,t,hn),i!==null){_t=i;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Tt===0&&(Tt=5)}function Ur(e,t){var i=Ke,a=St.transition;try{St.transition=null,Ke=1,Lf(e,t,i)}finally{St.transition=a,Ke=i}return null}function Lf(e,t,i){do Mr();while(lr!==null);if(Qe&6)throw Error(l(327));var a=e.finishedWork,p=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var g=a.lanes|a.childLanes;if(nr(e,g),e===wt&&(_t=wt=null,At=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||bi||(bi=!0,vu(Gt,function(){return Mr(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=St.transition,St.transition=null;var P=Ke;Ke=1;var L=Qe;Qe|=4,Qa.current=null,kf(e,a),Pf(e,a),I(e.containerInfo),e.current=a,Cf(a),ri(),Qe=L,Ke=P,St.transition=g}else e.current=a;if(bi&&(bi=!1,lr=e,zi=p),g=e.pendingLanes,g===0&&(ar=null),Eo(a.stateNode),Zt(e,ht()),t!==null)for(i=e.onRecoverableError,a=0;a<t.length;a++)i(t[a]);if(Ii)throw Ii=!1,e=qa,qa=null,e;return zi&1&&e.tag!==0&&Mr(),g=e.pendingLanes,g&1?e===$a?Go++:(Go=0,$a=e):Go=0,Kt(),null}function Mr(){if(lr!==null){var e=wo(zi),t=St.transition,i=Ke;try{if(St.transition=null,Ke=16>e?16:e,lr===null)var a=!1;else{if(e=lr,lr=null,zi=0,Qe&6)throw Error(l(331));var p=Qe;for(Qe|=4,de=e.current;de!==null;){var g=de,P=g.child;if(de.flags&16){var L=g.deletions;if(L!==null){for(var Z=0;Z<L.length;Z++){var ue=L[Z];for(de=ue;de!==null;){var _e=de;switch(_e.tag){case 0:case 11:case 15:Pr(8,_e,g)}var je=_e.child;if(je!==null)je.return=_e,de=je;else for(;de!==null;){_e=de;var Ie=_e.sibling,st=_e.return;if(Ks(_e),_e===ue){de=null;break}if(Ie!==null){Ie.return=st,de=Ie;break}de=st}}}var Ae=g.alternate;if(Ae!==null){var jt=Ae.child;if(jt!==null){Ae.child=null;do{var xn=jt.sibling;jt.sibling=null,jt=xn}while(jt!==null)}}de=g}}if(g.subtreeFlags&2064&&P!==null)P.return=g,de=P;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pr(9,g,g.return)}var G=g.sibling;if(G!==null){G.return=g.return,de=G;break e}de=g.return}}var F=e.current;for(de=F;de!==null;){P=de;var Q=P.child;if(P.subtreeFlags&2064&&Q!==null)Q.return=P,de=Q;else e:for(P=F;de!==null;){if(L=de,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:zo(9,L)}}catch(Re){qt(L,L.return,Re)}if(L===P){de=null;break e}var pe=L.sibling;if(pe!==null){pe.return=L.return,de=pe;break e}de=L.return}}if(Qe=p,Kt(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(yr,e)}catch{}a=!0}return a}finally{Ke=i,St.transition=t}}return!1}function du(e,t,i){t=Aa(i,t),t=Ps(e,t,1),ir(e,t),t=Xt(),e=ji(e,1),e!==null&&(On(e,1,t),Zt(e,t))}function qt(e,t,i){if(e.tag===3)du(e,e,i);else for(;t!==null;){if(t.tag===3){du(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ar===null||!ar.has(a))){e=Aa(i,e),e=Cs(t,e,1),ir(t,e),e=Xt(),t=ji(t,1),t!==null&&(On(t,1,e),Zt(t,e));break}}t=t.return}}function Af(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&i,wt===e&&(At&i)===i&&(Tt===4||Tt===3&&(At&130023424)===At&&500>ht()-Ja?Cr(e,0):Ka|=i),Zt(e,t)}function hu(e,t){t===0&&(e.mode&1?(t=Vn,Vn<<=1,!(Vn&130023424)&&(Vn=4194304)):t=1);var i=Xt();e=ji(e,t),e!==null&&(On(e,t,i),Zt(e,i))}function Of(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),hu(e,i)}function Ff(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,p=e.memoizedState;p!==null&&(i=p.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}a!==null&&a.delete(t),hu(e,i)}var pu;pu=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)dn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return dn=!1,xf(e,t,i);dn=!!(e.flags&131072)}else dn=!1,ft&&t.flags&1048576&&es(t,fi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var p=pn(t,Et.current);gt(t,i),p=Ua(null,t,a,e,p,i);var g=Ma();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(a)?(g=!0,tr(t)):g=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,va(t),p.updater=ui,t.stateNode=p,p._reactInternals=t,ga(t,a,e,i),t=Ia(null,t,a,!0,g,i)):(t.tag=0,ft&&g&&ya(t),Yt(null,t,p,i),t=t.child),t;case 16:a=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,p=a._init,a=p(a._payload),t.type=a,p=t.tag=bf(a),e=Ht(a,e),p){case 0:t=Fa(null,t,a,e,i);break e;case 1:t=zs(null,t,a,e,i);break e;case 11:t=As(null,t,a,e,i);break e;case 14:t=Os(null,t,a,Ht(a.type,e),i);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,p=t.pendingProps,p=t.elementType===a?p:Ht(a,p),Fa(e,t,a,p,i);case 1:return a=t.type,p=t.pendingProps,p=t.elementType===a?p:Ht(a,p),zs(e,t,a,p,i);case 3:e:{if(Ns(t),e===null)throw Error(l(387));a=t.pendingProps,g=t.memoizedState,p=g.element,Xl(e,t),si(t,a,null,i);var P=t.memoizedState;if(a=P.element,De&&g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:P.cache,transitions:P.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){p=Error(l(423)),t=Bs(e,t,a,i,p);break e}else if(a!==p){p=Error(l(424)),t=Bs(e,t,a,i,p);break e}else for(De&&(fn=Lt(t.stateNode.containerInfo),cn=t,ft=!0,Un=null,Po=!1),i=as(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Xr(),a===p){t=$n(e,t,i);break e}Yt(e,t,a,i)}t=t.child}return t;case 5:return ls(t),e===null&&_a(t),a=t.type,p=t.pendingProps,g=e!==null?e.memoizedProps:null,P=p.children,W(a,p)?P=null:g!==null&&W(a,g)&&(t.flags|=32),bs(e,t),Yt(e,t,P,i),t.child;case 6:return e===null&&_a(t),null;case 13:return js(e,t,i);case 4:return Ea(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qr(t,null,a,i):Yt(e,t,a,i),t.child;case 11:return a=t.type,p=t.pendingProps,p=t.elementType===a?p:Ht(a,p),As(e,t,a,p,i);case 7:return Yt(e,t,t.pendingProps,i),t.child;case 8:return Yt(e,t,t.pendingProps.children,i),t.child;case 12:return Yt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,p=t.pendingProps,g=t.memoizedProps,P=p.value,ai(t,a,P),g!==null)if(sn(g.value,P)){if(g.children===p.children&&!kt.current){t=$n(e,t,i);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var L=g.dependencies;if(L!==null){P=g.child;for(var Z=L.firstContext;Z!==null;){if(Z.context===a){if(g.tag===1){Z=Kn(-1,i&-i),Z.tag=2;var ue=g.updateQueue;if(ue!==null){ue=ue.shared;var _e=ue.pending;_e===null?Z.next=Z:(Z.next=_e.next,_e.next=Z),ue.pending=Z}}g.lanes|=i,Z=g.alternate,Z!==null&&(Z.lanes|=i),Vt(g.return,i,t),L.lanes|=i;break}Z=Z.next}}else if(g.tag===10)P=g.type===t.type?null:g.child;else if(g.tag===18){if(P=g.return,P===null)throw Error(l(341));P.lanes|=i,L=P.alternate,L!==null&&(L.lanes|=i),Vt(P,i,t),P=g.sibling}else P=g.child;if(P!==null)P.return=g;else for(P=g;P!==null;){if(P===t){P=null;break}if(g=P.sibling,g!==null){g.return=P.return,P=g;break}P=P.return}g=P}Yt(e,t,p.children,i),t=t.child}return t;case 9:return p=t.type,a=t.pendingProps.children,gt(t,i),p=yt(p),a=a(p),t.flags|=1,Yt(e,t,a,i),t.child;case 14:return a=t.type,p=Ht(a,t.pendingProps),p=Ht(a.type,p),Os(e,t,a,p,i);case 15:return Fs(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,p=t.pendingProps,p=t.elementType===a?p:Ht(a,p),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pt(a)?(e=!0,tr(t)):e=!1,gt(t,i),ql(t,a,p),ga(t,a,p,i),Ia(null,t,a,!0,e,i);case 19:return Vs(e,t,i);case 22:return Is(e,t,i)}throw Error(l(156,t.tag))};function vu(e,t){return Qn(e,t)}function If(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,i,a){return new If(e,t,i,a)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bf(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_)return 11;if(e===E)return 14}return 2}function cr(e,t){var i=e.alternate;return i===null?(i=_n(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Wi(e,t,i,a,p,g){var P=2;if(a=e,typeof e=="function")ol(e)&&(P=1);else if(typeof e=="string")P=5;else e:switch(e){case c:return Rr(i.children,p,g,t);case m:P=8,p|=8;break;case y:return e=_n(12,i,t,p|2),e.elementType=y,e.lanes=g,e;case x:return e=_n(13,i,t,p),e.elementType=x,e.lanes=g,e;case k:return e=_n(19,i,t,p),e.elementType=k,e.lanes=g,e;case U:return Hi(i,p,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:P=10;break e;case w:P=9;break e;case _:P=11;break e;case E:P=14;break e;case T:P=16,a=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return t=_n(P,i,t,p),t.elementType=e,t.type=a,t.lanes=g,t}function Rr(e,t,i,a){return e=_n(7,e,a,t),e.lanes=i,e}function Hi(e,t,i,a){return e=_n(22,e,a,t),e.elementType=U,e.lanes=i,e.stateNode={},e}function il(e,t,i){return e=_n(6,e,null,t),e.lanes=i,e}function al(e,t,i){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zf(e,t,i,a,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=a,this.onRecoverableError=p,De&&(this.mutableSourceEagerHydrationData=null)}function mu(e,t,i,a,p,g,P,L,Z){return e=new zf(e,t,i,L,Z),t===1?(t=1,g===!0&&(t|=8)):t=0,g=_n(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null},va(g),e}function gu(e){if(!e)return rn;e=e._reactInternals;e:{if(V(e)!==e||e.tag!==1)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(l(171))}if(e.tag===1){var i=e.type;if(Pt(i))return Nr(e,i,t)}return t}function yu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=D(t),e===null?null:e.stateNode}function Su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ll(e,t){Su(e,t),(e=e.alternate)&&Su(e,t)}function Nf(e){return e=D(e),e===null?null:e.stateNode}function Bf(){return null}return v.attemptContinuousHydration=function(e){if(e.tag===13){var t=Xt();wn(e,134217728,t),ll(e,134217728)}},v.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Xt(),i=sr(e);wn(e,i,t),ll(e,i)}},v.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Yn(t.pendingLanes);i!==0&&(Fn(t,i|1),Zt(t,ht()),!(Qe&6)&&(eo(),Kt()))}break;case 13:var a=Xt();lu(function(){return wn(e,1,a)}),ll(e,1)}},v.batchedUpdates=function(e,t){var i=Qe;Qe|=1;try{return e(t)}finally{Qe=i,Qe===0&&(eo(),In&&Kt())}},v.createComponentSelector=function(e){return{$$typeof:Mi,value:e}},v.createContainer=function(e,t,i,a,p,g,P){return mu(e,t,!1,null,i,a,p,g,P)},v.createHasPseudoClassSelector=function(e){return{$$typeof:Ri,value:e}},v.createHydrationContainer=function(e,t,i,a,p,g,P,L,Z){return e=mu(i,a,!0,e,p,g,P,L,Z),e.context=gu(null),i=e.current,a=Xt(),p=sr(i),g=Kn(a,p),g.callback=t??null,ir(i,g),e.current.lanes=p,On(e,p,a),Zt(e,a),e},v.createPortal=function(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}},v.createRoleSelector=function(e){return{$$typeof:Di,value:e}},v.createTestNameSelector=function(e){return{$$typeof:Li,value:e}},v.createTextSelector=function(e){return{$$typeof:Ai,value:e}},v.deferredUpdates=function(e){var t=Ke,i=St.transition;try{return St.transition=null,Ke=16,e()}finally{Ke=t,St.transition=i}},v.discreteUpdates=function(e,t,i,a,p){var g=Ke,P=St.transition;try{return St.transition=null,Ke=1,e(t,i,a,p)}finally{Ke=g,St.transition=P,Qe===0&&eo()}},v.findAllNodes=Xa,v.findBoundingRects=function(e,t){if(!ge)throw Error(l(363));t=Xa(e,t),e=[];for(var i=0;i<t.length;i++)e.push(Ne(t[i]));for(t=e.length-1;0<t;t--){i=e[t];for(var a=i.x,p=a+i.width,g=i.y,P=g+i.height,L=t-1;0<=L;L--)if(t!==L){var Z=e[L],ue=Z.x,_e=ue+Z.width,je=Z.y,Ie=je+Z.height;if(a>=ue&&g>=je&&p<=_e&&P<=Ie){e.splice(t,1);break}else if(a!==ue||i.width!==Z.width||Ie<g||je>P){if(!(g!==je||i.height!==Z.height||_e<a||ue>p)){ue>a&&(Z.width+=ue-a,Z.x=a),_e<p&&(Z.width=p-ue),e.splice(t,1);break}}else{je>g&&(Z.height+=je-g,Z.y=g),Ie<P&&(Z.height=P-je),e.splice(t,1);break}}}return e},v.findHostInstance=yu,v.findHostInstanceWithNoPortals=function(e){return e=J(e),e=e!==null?H(e):null,e===null?null:e.stateNode},v.findHostInstanceWithWarning=function(e){return yu(e)},v.flushControlled=function(e){var t=Qe;Qe|=1;var i=St.transition,a=Ke;try{St.transition=null,Ke=1,e()}finally{Ke=a,St.transition=i,Qe=t,Qe===0&&(eo(),Kt())}},v.flushPassiveEffects=Mr,v.flushSync=lu,v.focusWithin=function(e,t){if(!ge)throw Error(l(363));for(e=Ha(e),t=ou(e,t),t=Array.from(t),e=0;e<t.length;){var i=t[e++];if(!ye(i)){if(i.tag===5&&Ze(i.stateNode))return!0;for(i=i.child;i!==null;)t.push(i),i=i.sibling}}return!1},v.getCurrentUpdatePriority=function(){return Ke},v.getFindAllNodesFailureDescription=function(e,t){if(!ge)throw Error(l(363));var i=0,a=[];e=[Ha(e),0];for(var p=0;p<e.length;){var g=e[p++],P=e[p++],L=t[P];if((g.tag!==5||!ye(g))&&(Va(g,L)&&(a.push(Ya(L)),P++,P>i&&(i=P)),P<t.length))for(g=g.child;g!==null;)e.push(g,P),g=g.sibling}if(i<t.length){for(e=[];i<t.length;i++)e.push(Ya(t[i]));return`findAllNodes was able to match part of the selector:
  `+(a.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},v.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return $(e.child.stateNode);default:return e.child.stateNode}},v.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:Nf,findFiberByHostInstance:e.findFiberByHostInstance||Bf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{yr=t.inject(e),ln=t}catch{}e=!!t.checkDCE}}return e},v.isAlreadyRendering=function(){return!1},v.observeVisibleRects=function(e,t,i,a){if(!ge)throw Error(l(363));e=Xa(e,t);var p=ke(e,i,a).disconnect;return{disconnect:function(){p()}}},v.registerMutableSourceForHydration=function(e,t){var i=t._getVersion;i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)},v.runWithPriority=function(e,t){var i=Ke;try{return Ke=e,t()}finally{Ke=i}},v.shouldError=function(){return null},v.shouldSuspend=function(){return!1},v.updateContainer=function(e,t,i,a){var p=t.current,g=Xt(),P=sr(p);return i=gu(i),t.context===null?t.context=i:t.pendingContext=i,t=Kn(g,P),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),ir(p,t),e=wn(p,P,g),e!==null&&li(e,p,P),P},v}),ml}var Ou;function Gd(){return Ou||(Ou=1,hl.exports=jd()),hl.exports}var Wd=Gd();const Hd=Cc(Wd);var Fu=Uc();const jl={},Mc=h=>void Object.assign(jl,h);function Vd(h,r){function v(c,{args:m=[],attach:y,...S},w){let _=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const k=S.object;x=ao(k,{type:c,root:w,attach:y,primitive:!0})}else{const k=jl[_];if(!k)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");x=ao(new k(...m),{type:c,root:w,attach:y,memoizedProps:{args:m}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&Sl(x,S),x}function f(c,m){let y=!1;if(m){var S,w;(S=m.__r3f)!=null&&S.attach?yl(c,m,m.__r3f.attach):m.isObject3D&&c.isObject3D&&(c.add(m),y=!0),y||(w=c.__r3f)==null||w.objects.push(m),m.__r3f||ao(m,{}),m.__r3f.parent=c,Ol(m),lo(m)}}function o(c,m,y){let S=!1;if(m){var w,_;if((w=m.__r3f)!=null&&w.attach)yl(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){m.parent=c,m.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:m});const x=c.children.filter(E=>E!==m),k=x.indexOf(y);c.children=[...x.slice(0,k),m,...x.slice(k)],S=!0}S||(_=c.__r3f)==null||_.objects.push(m),m.__r3f||ao(m,{}),m.__r3f.parent=c,Ol(m),lo(m)}}function n(c,m,y=!1){c&&[...c].forEach(S=>l(m,S,y))}function l(c,m,y){if(m){var S,w,_;if(m.__r3f&&(m.__r3f.parent=null),(S=c.__r3f)!=null&&S.objects&&(c.__r3f.objects=c.__r3f.objects.filter(U=>U!==m)),(w=m.__r3f)!=null&&w.attach)Bu(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){var x;c.remove(m),(x=m.__r3f)!=null&&x.root&&$d(oa(m),m)}const E=(_=m.__r3f)==null?void 0:_.primitive,T=!E&&(y===void 0?m.dispose!==null:y);if(!E){var k;n((k=m.__r3f)==null?void 0:k.objects,m,T),n(m.children,m,T)}if(delete m.__r3f,T&&m.dispose&&m.type!=="Scene"){const U=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Fu.unstable_scheduleCallback(Fu.unstable_IdlePriority,U):U()}lo(c)}}function u(c,m,y,S){var w;const _=(w=c.__r3f)==null?void 0:w.parent;if(!_)return;const x=v(m,y,c.__r3f.root);if(c.children){for(const k of c.children)k.__r3f&&f(x,k);c.children=c.children.filter(k=>!k.__r3f)}c.__r3f.objects.forEach(k=>f(x,k)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||l(_,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),f(_,x),x.raycast&&x.__r3f.eventCount&&oa(x).getState().internal.interaction.push(x),[S,S.alternate].forEach(k=>{k!==null&&(k.stateNode=x,k.ref&&(typeof k.ref=="function"?k.ref(x):k.ref.current=x))})}const s=()=>{};return{reconciler:Hd({createInstance:v,removeChild:l,appendChild:f,appendInitialChild:f,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,m)=>{if(!m)return;const y=c.getState().scene;y.__r3f&&(y.__r3f.root=c,f(y,m))},removeChildFromContainer:(c,m)=>{m&&l(c.getState().scene,m)},insertInContainerBefore:(c,m,y)=>{if(!m||!y)return;const S=c.getState().scene;S.__r3f&&o(S,m,y)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var m;return!!((m=c==null?void 0:c.__r3f)!=null?m:{}).handlers},prepareUpdate(c,m,y,S){var w;if(((w=c==null?void 0:c.__r3f)!=null?w:{}).primitive&&S.object&&S.object!==c)return[!0];{const{args:x=[],children:k,...E}=S,{args:T=[],children:U,...M}=y;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((b,N)=>b!==T[N]))return[!0];const A=Ic(c,E,M,!0);return A.changes.length?[!1,A]:null}},commitUpdate(c,[m,y],S,w,_,x){m?u(c,S,_,x):Sl(c,y)},commitMount(c,m,y,S){var w;const _=(w=c.__r3f)!=null?w:{};c.raycast&&_.handlers&&_.eventCount&&oa(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>ao(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var m;const{attach:y,parent:S}=(m=c.__r3f)!=null?m:{};y&&S&&Bu(S,c,y),c.isObject3D&&(c.visible=!1),lo(c)},unhideInstance(c,m){var y;const{attach:S,parent:w}=(y=c.__r3f)!=null?y:{};S&&w&&yl(w,c,S),(c.isObject3D&&m.visible==null||m.visible)&&(c.visible=!0),lo(c)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>r?r():co.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ut.fun(performance.now)?performance.now:ut.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ut.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ut.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Sl}}var Iu,bu;const gl=h=>"colorSpace"in h||"outputColorSpace"in h,Rc=()=>{var h;return(h=jl.ColorManagement)!=null?h:null},Dc=h=>h&&h.isOrthographicCamera,Yd=h=>h&&h.hasOwnProperty("current"),Zo=typeof window<"u"&&((Iu=window.document)!=null&&Iu.createElement||((bu=window.navigator)==null?void 0:bu.product)==="ReactNative")?ae.useLayoutEffect:ae.useEffect;function Lc(h){const r=ae.useRef(h);return Zo(()=>void(r.current=h),[h]),r}function Xd({set:h}){return Zo(()=>(h(new Promise(()=>null)),()=>h(!1)),[h]),null}class Ac extends ae.Component{constructor(...r){super(...r),this.state={error:!1}}componentDidCatch(r){this.props.set(r)}render(){return this.state.error?null:this.props.children}}Ac.getDerivedStateFromError=()=>({error:!0});const Oc="__default",zu=new Map,Qd=h=>h&&!!h.memoized&&!!h.changes;function Fc(h){var r;const v=typeof window<"u"?(r=window.devicePixelRatio)!=null?r:2:1;return Array.isArray(h)?Math.min(Math.max(h[0],v),h[1]):h}const Ho=h=>{var r;return(r=h.__r3f)==null?void 0:r.root.getState()};function oa(h){let r=h.__r3f.root;for(;r.getState().previousRoot;)r=r.getState().previousRoot;return r}const ut={obj:h=>h===Object(h)&&!ut.arr(h)&&typeof h!="function",fun:h=>typeof h=="function",str:h=>typeof h=="string",num:h=>typeof h=="number",boo:h=>typeof h=="boolean",und:h=>h===void 0,arr:h=>Array.isArray(h),equ(h,r,{arrays:v="shallow",objects:f="reference",strict:o=!0}={}){if(typeof h!=typeof r||!!h!=!!r)return!1;if(ut.str(h)||ut.num(h)||ut.boo(h))return h===r;const n=ut.obj(h);if(n&&f==="reference")return h===r;const l=ut.arr(h);if(l&&v==="reference")return h===r;if((l||n)&&h===r)return!0;let u;for(u in h)if(!(u in r))return!1;if(n&&v==="shallow"&&f==="shallow"){for(u in o?r:h)if(!ut.equ(h[u],r[u],{strict:o,objects:"reference"}))return!1}else for(u in o?r:h)if(h[u]!==r[u])return!1;if(ut.und(u)){if(l&&h.length===0&&r.length===0||n&&Object.keys(h).length===0&&Object.keys(r).length===0)return!0;if(h!==r)return!1}return!0}};function Kd(h){h.dispose&&h.type!=="Scene"&&h.dispose();for(const r in h)r.dispose==null||r.dispose(),delete h[r]}function ao(h,r){const v=h;return v.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...r},h}function Al(h,r){let v=h;if(r.includes("-")){const f=r.split("-"),o=f.pop();return v=f.reduce((n,l)=>n[l],h),{target:v,key:o}}else return{target:v,key:r}}const Nu=/-\d+$/;function yl(h,r,v){if(ut.str(v)){if(Nu.test(v)){const n=v.replace(Nu,""),{target:l,key:u}=Al(h,n);Array.isArray(l[u])||(l[u]=[])}const{target:f,key:o}=Al(h,v);r.__r3f.previousAttach=f[o],f[o]=r}else r.__r3f.previousAttach=v(h,r)}function Bu(h,r,v){var f,o;if(ut.str(v)){const{target:n,key:l}=Al(h,v),u=r.__r3f.previousAttach;u===void 0?delete n[l]:n[l]=u}else(f=r.__r3f)==null||f.previousAttach==null||f.previousAttach(h,r);(o=r.__r3f)==null||delete o.previousAttach}function Ic(h,{children:r,key:v,ref:f,...o},{children:n,key:l,ref:u,...s}={},d=!1){const c=h.__r3f,m=Object.entries(o),y=[];if(d){const w=Object.keys(s);for(let _=0;_<w.length;_++)o.hasOwnProperty(w[_])||m.unshift([w[_],Oc+"remove"])}m.forEach(([w,_])=>{var x;if((x=h.__r3f)!=null&&x.primitive&&w==="object"||ut.equ(_,s[w]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(w))return y.push([w,_,!0,[]]);let k=[];w.includes("-")&&(k=w.split("-")),y.push([w,_,!1,k]);for(const E in o){const T=o[E];E.startsWith(`${w}-`)&&y.push([E,T,!1,E.split("-")])}});const S={...o};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(S.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(S.attach=c.memoizedProps.attach),{memoized:S,changes:y}}const Jd=typeof process<"u"&&!1;function Sl(h,r){var v;const f=h.__r3f,o=f==null?void 0:f.root,n=o==null||o.getState==null?void 0:o.getState(),{memoized:l,changes:u}=Qd(r)?r:Ic(h,r),s=f==null?void 0:f.eventCount;h.__r3f&&(h.__r3f.memoizedProps=l);for(let y=0;y<u.length;y++){let[S,w,_,x]=u[y];if(gl(h)){const U="srgb",M="srgb-linear";S==="encoding"?(S="colorSpace",w=w===3001?U:M):S==="outputEncoding"&&(S="outputColorSpace",w=w===3001?U:M)}let k=h,E=k[S];if(x.length&&(E=x.reduce((T,U)=>T[U],h),!(E&&E.set))){const[T,...U]=x.reverse();k=U.reverse().reduce((M,A)=>M[A],h),S=T}if(w===Oc+"remove")if(k.constructor){let T=zu.get(k.constructor);T||(T=new k.constructor,zu.set(k.constructor,T)),w=T[S]}else w=0;if(_&&f)w?f.handlers[S]=w:delete f.handlers[S],f.eventCount=Object.keys(f.handlers).length;else if(E&&E.set&&(E.copy||E instanceof sl)){if(Array.isArray(w))E.fromArray?E.fromArray(w):E.set(...w);else if(E.copy&&w&&w.constructor&&(Jd?E.constructor.name===w.constructor.name:E.constructor===w.constructor))E.copy(w);else if(w!==void 0){var d;const T=(d=E)==null?void 0:d.isColor;!T&&E.setScalar?E.setScalar(w):E instanceof sl&&w instanceof sl?E.mask=w.mask:E.set(w),!Rc()&&n&&!n.linear&&T&&E.convertSRGBToLinear()}}else{var c;if(k[S]=w,(c=k[S])!=null&&c.isTexture&&k[S].format===Gf&&k[S].type===Wf&&n){const T=k[S];gl(T)&&gl(n.gl)?T.colorSpace=n.gl.outputColorSpace:T.encoding=n.gl.outputEncoding}}lo(h)}if(f&&f.parent&&h.raycast&&s!==f.eventCount){const y=oa(h).getState().internal,S=y.interaction.indexOf(h);S>-1&&y.interaction.splice(S,1),f.eventCount&&y.interaction.push(h)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(v=h.__r3f)!=null&&v.parent&&Ol(h),h}function lo(h){var r,v;const f=(r=h.__r3f)==null||(v=r.root)==null||v.getState==null?void 0:v.getState();f&&f.internal.frames===0&&f.invalidate()}function Ol(h){h.onUpdate==null||h.onUpdate(h)}function Zd(h,r){h.manual||(Dc(h)?(h.left=r.width/-2,h.right=r.width/2,h.top=r.height/2,h.bottom=r.height/-2):h.aspect=r.width/r.height,h.updateProjectionMatrix(),h.updateMatrixWorld())}function Qi(h){return(h.eventObject||h.object).uuid+"/"+h.index+h.instanceId}function qd(){var h;const r=typeof self<"u"&&self||typeof window<"u"&&window;if(!r)return co.DefaultEventPriority;switch((h=r.event)==null?void 0:h.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return co.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return co.ContinuousEventPriority;default:return co.DefaultEventPriority}}function bc(h,r,v,f){const o=v.get(r);o&&(v.delete(r),v.size===0&&(h.delete(f),o.target.releasePointerCapture(f)))}function $d(h,r){const{internal:v}=h.getState();v.interaction=v.interaction.filter(f=>f!==r),v.initialHits=v.initialHits.filter(f=>f!==r),v.hovered.forEach((f,o)=>{(f.eventObject===r||f.object===r)&&v.hovered.delete(o)}),v.capturedMap.forEach((f,o)=>{bc(v.capturedMap,r,f,o)})}function eh(h){function r(s){const{internal:d}=h.getState(),c=s.offsetX-d.initialClick[0],m=s.offsetY-d.initialClick[1];return Math.round(Math.sqrt(c*c+m*m))}function v(s){return s.filter(d=>["Move","Over","Enter","Out","Leave"].some(c=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+c]}))}function f(s,d){const c=h.getState(),m=new Set,y=[],S=d?d(c.internal.interaction):c.internal.interaction;for(let k=0;k<S.length;k++){const E=Ho(S[k]);E&&(E.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(s,c);function w(k){const E=Ho(k);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var T;E.events.compute==null||E.events.compute(s,E,(T=E.previousRoot)==null?void 0:T.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(k,!0):[]}let _=S.flatMap(w).sort((k,E)=>{const T=Ho(k.object),U=Ho(E.object);return!T||!U?k.distance-E.distance:U.events.priority-T.events.priority||k.distance-E.distance}).filter(k=>{const E=Qi(k);return m.has(E)?!1:(m.add(E),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const k of _){let E=k.object;for(;E;){var x;(x=E.__r3f)!=null&&x.eventCount&&y.push({...k,eventObject:E}),E=E.parent}}if("pointerId"in s&&c.internal.capturedMap.has(s.pointerId))for(let k of c.internal.capturedMap.get(s.pointerId).values())m.has(Qi(k.intersection))||y.push(k.intersection);return y}function o(s,d,c,m){const y=h.getState();if(s.length){const S={stopped:!1};for(const w of s){const _=Ho(w.object)||y,{raycaster:x,pointer:k,camera:E,internal:T}=_,U=new nt(k.x,k.y,0).unproject(E),M=z=>{var J,D;return(J=(D=T.capturedMap.get(z))==null?void 0:D.has(w.eventObject))!=null?J:!1},A=z=>{const J={intersection:w,target:d.target};T.capturedMap.has(z)?T.capturedMap.get(z).set(w.eventObject,J):T.capturedMap.set(z,new Map([[w.eventObject,J]])),d.target.setPointerCapture(z)},b=z=>{const J=T.capturedMap.get(z);J&&bc(T.capturedMap,w.eventObject,J,z)};let N={};for(let z in d){let J=d[z];typeof J!="function"&&(N[z]=J)}let V={...w,...N,pointer:k,intersections:s,stopped:S.stopped,delta:c,unprojectedPoint:U,ray:x.ray,camera:E,stopPropagation(){const z="pointerId"in d&&T.capturedMap.get(d.pointerId);if((!z||z.has(w.eventObject))&&(V.stopped=S.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(J=>J.eventObject===w.eventObject))){const J=s.slice(0,s.indexOf(w));n([...J,w])}},target:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:b},currentTarget:{hasPointerCapture:M,setPointerCapture:A,releasePointerCapture:b},nativeEvent:d};if(m(V),S.stopped===!0)break}}return s}function n(s){const{internal:d}=h.getState();for(const c of d.hovered.values())if(!s.length||!s.find(m=>m.object===c.object&&m.index===c.index&&m.instanceId===c.instanceId)){const y=c.eventObject.__r3f,S=y==null?void 0:y.handlers;if(d.hovered.delete(Qi(c)),y!=null&&y.eventCount){const w={...c,intersections:s};S.onPointerOut==null||S.onPointerOut(w),S.onPointerLeave==null||S.onPointerLeave(w)}}}function l(s,d){for(let c=0;c<d.length;c++){const m=d[c].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(s)}}function u(s){switch(s){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return d=>{const{internal:c}=h.getState();"pointerId"in d&&c.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(d.pointerId)&&(c.capturedMap.delete(d.pointerId),n([]))})}}return function(c){const{onPointerMissed:m,internal:y}=h.getState();y.lastEvent.current=c;const S=s==="onPointerMove",w=s==="onClick"||s==="onContextMenu"||s==="onDoubleClick",x=f(c,S?v:void 0),k=w?r(c):0;s==="onPointerDown"&&(y.initialClick=[c.offsetX,c.offsetY],y.initialHits=x.map(T=>T.eventObject)),w&&!x.length&&k<=2&&(l(c,y.interaction),m&&m(c)),S&&n(x);function E(T){const U=T.eventObject,M=U.__r3f,A=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(S){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const b=Qi(T),N=y.hovered.get(b);N?N.stopped&&T.stopPropagation():(y.hovered.set(b,T),A.onPointerOver==null||A.onPointerOver(T),A.onPointerEnter==null||A.onPointerEnter(T))}A.onPointerMove==null||A.onPointerMove(T)}else{const b=A[s];b?(!w||y.initialHits.includes(U))&&(l(c,y.interaction.filter(N=>!y.initialHits.includes(N))),b(T)):w&&y.initialHits.includes(U)&&l(c,y.interaction.filter(N=>!y.initialHits.includes(N)))}}o(x,c,k,E)}}return{handlePointer:u}}const zc=h=>!!(h!=null&&h.render),Nc=ae.createContext(null),th=(h,r)=>{const v=Fd((u,s)=>{const d=new nt,c=new nt,m=new nt;function y(k=s().camera,E=c,T=s().size){const{width:U,height:M,top:A,left:b}=T,N=U/M;E.isVector3?m.copy(E):m.set(...E);const V=k.getWorldPosition(d).distanceTo(m);if(Dc(k))return{width:U/k.zoom,height:M/k.zoom,top:A,left:b,factor:1,distance:V,aspect:N};{const z=k.fov*Math.PI/180,J=2*Math.tan(z/2)*V,D=J*(U/M);return{width:D,height:J,top:A,left:b,factor:U/D,distance:V,aspect:N}}}let S;const w=k=>u(E=>({performance:{...E.performance,current:k}})),_=new Dt;return{set:u,get:s,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(k=1)=>h(s(),k),advance:(k,E)=>r(k,E,s()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $f,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const k=s();S&&clearTimeout(S),k.performance.current!==k.performance.min&&w(k.performance.min),S=setTimeout(()=>w(s().performance.max),k.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:k=>u(E=>({...E,events:{...E.events,...k}})),setSize:(k,E,T,U,M)=>{const A=s().camera,b={width:k,height:E,top:U||0,left:M||0,updateStyle:T};u(N=>({size:b,viewport:{...N.viewport,...y(A,c,b)}}))},setDpr:k=>u(E=>{const T=Fc(k);return{viewport:{...E.viewport,dpr:T,initialDpr:E.viewport.initialDpr||T}}}),setFrameloop:(k="always")=>{const E=s().clock;E.stop(),E.elapsedTime=0,k!=="never"&&(E.start(),E.elapsedTime=0),u(()=>({frameloop:k}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ae.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(k,E,T)=>{const U=s().internal;return U.priority=U.priority+(E>0?1:0),U.subscribers.push({ref:k,priority:E,store:T}),U.subscribers=U.subscribers.sort((M,A)=>M.priority-A.priority),()=>{const M=s().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(E>0?1:0),M.subscribers=M.subscribers.filter(A=>A.ref!==k))}}}}}),f=v.getState();let o=f.size,n=f.viewport.dpr,l=f.camera;return v.subscribe(()=>{const{camera:u,size:s,viewport:d,gl:c,set:m}=v.getState();if(s.width!==o.width||s.height!==o.height||d.dpr!==n){var y;o=s,n=d.dpr,Zd(u,s),c.setPixelRatio(d.dpr);const S=(y=s.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(s.width,s.height,S)}u!==l&&(l=u,m(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(u)}})))}),v.subscribe(u=>h(u)),v};function Bc(h,r){const v={callback:h};return r.add(v),()=>void r.delete(v)}let Ki,jc=new Set,Gc=new Set,nh=new Set;const rh=h=>Bc(h,jc),oh=h=>Bc(h,Gc);function wl(h,r){if(h.size)for(const{callback:v}of h.values())v(r)}function Vo(h,r){switch(h){case"before":return wl(jc,r);case"after":return wl(Gc,r);case"tail":return wl(nh,r)}}let _l,xl;function El(h,r,v){let f=r.clock.getDelta();for(r.frameloop==="never"&&typeof h=="number"&&(f=h-r.clock.elapsedTime,r.clock.oldTime=r.clock.elapsedTime,r.clock.elapsedTime=h),_l=r.internal.subscribers,Ki=0;Ki<_l.length;Ki++)xl=_l[Ki],xl.ref.current(xl.store.getState(),f,v);return!r.internal.priority&&r.gl.render&&r.gl.render(r.scene,r.camera),r.internal.frames=Math.max(0,r.internal.frames-1),r.frameloop==="always"?1:r.internal.frames}function ih(h){let r=!1,v=!1,f,o,n;function l(d){o=requestAnimationFrame(l),r=!0,f=0,Vo("before",d),v=!0;for(const m of h.values()){var c;n=m.store.getState(),n.internal.active&&(n.frameloop==="always"||n.internal.frames>0)&&!((c=n.gl.xr)!=null&&c.isPresenting)&&(f+=El(d,n))}if(v=!1,Vo("after",d),f===0)return Vo("tail",d),r=!1,cancelAnimationFrame(o)}function u(d,c=1){var m;if(!d)return h.forEach(y=>u(y.store.getState(),c));(m=d.gl.xr)!=null&&m.isPresenting||!d.internal.active||d.frameloop==="never"||(c>1?d.internal.frames=Math.min(60,d.internal.frames+c):v?d.internal.frames=2:d.internal.frames=1,r||(r=!0,requestAnimationFrame(l)))}function s(d,c=!0,m,y){if(c&&Vo("before",d),m)El(d,m,y);else for(const S of h.values())El(d,S.store.getState());c&&Vo("after",d)}return{loop:l,invalidate:u,advance:s}}function Wc(){const h=ae.useContext(Nc);if(!h)throw new Error("R3F: Hooks can only be used within the Canvas component!");return h}function Qt(h=v=>v,r){return Wc()(h,r)}function Gl(h,r=0){const v=Wc(),f=v.getState().internal.subscribe,o=Lc(h);return Zo(()=>f(o,r,v),[r,f,v]),null}const fo=new Map,{invalidate:ju,advance:Gu}=ih(fo),{reconciler:ca,applyProps:ro}=Vd(fo,qd),oo={objects:"shallow",strict:!1},ah=(h,r)=>{const v=typeof h=="function"?h(r):h;return zc(v)?v:new Qf({powerPreference:"high-performance",canvas:r,antialias:!0,alpha:!0,...h})};function lh(h,r){const v=typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement;if(r){const{width:f,height:o,top:n,left:l,updateStyle:u=v}=r;return{width:f,height:o,top:n,left:l,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&h instanceof HTMLCanvasElement&&h.parentElement){const{width:f,height:o,top:n,left:l}=h.parentElement.getBoundingClientRect();return{width:f,height:o,top:n,left:l,updateStyle:v}}else if(typeof OffscreenCanvas<"u"&&h instanceof OffscreenCanvas)return{width:h.width,height:h.height,top:0,left:0,updateStyle:v};return{width:0,height:0,top:0,left:0}}function sh(h){const r=fo.get(h),v=r==null?void 0:r.fiber,f=r==null?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,n=f||th(ju,Gu),l=v||ca.createContainer(n,co.ConcurrentRoot,null,!1,null,"",o,null);r||fo.set(h,{fiber:l,store:n});let u,s=!1,d;return{configure(c={}){let{gl:m,size:y,scene:S,events:w,onCreated:_,shadows:x=!1,linear:k=!1,flat:E=!1,legacy:T=!1,orthographic:U=!1,frameloop:M="always",dpr:A=[1,2],performance:b,raycaster:N,camera:V,onPointerMissed:z}=c,J=n.getState(),D=J.gl;J.gl||J.set({gl:D=ah(m,h)});let X=J.raycaster;X||J.set({raycaster:X=new Hf});const{params:H,...ie}=N||{};if(ut.equ(ie,X,oo)||ro(X,{...ie}),ut.equ(H,X.params,oo)||ro(X,{params:{...X.params,...H}}),!J.camera||J.camera===d&&!ut.equ(d,V,oo)){d=V;const I=V instanceof Kf,C=I?V:U?new na(0,0,0,0,.1,1e3):new ra(75,0,.1,1e3);I||(C.position.z=5,V&&(ro(C,V),("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(C.manual=!0,C.updateProjectionMatrix())),!J.camera&&!(V!=null&&V.rotation)&&C.lookAt(0,0,0)),J.set({camera:C}),X.camera=C}if(!J.scene){let I;S!=null&&S.isScene?I=S:(I=new Vf,S&&ro(I,S)),J.set({scene:ao(I)})}if(!J.xr){var $;const I=(B,K)=>{const W=n.getState();W.frameloop!=="never"&&Gu(B,!0,W,K)},C=()=>{const B=n.getState();B.gl.xr.enabled=B.gl.xr.isPresenting,B.gl.xr.setAnimationLoop(B.gl.xr.isPresenting?I:null),B.gl.xr.isPresenting||ju(B)},O={connect(){const B=n.getState().gl;B.xr.addEventListener("sessionstart",C),B.xr.addEventListener("sessionend",C)},disconnect(){const B=n.getState().gl;B.xr.removeEventListener("sessionstart",C),B.xr.removeEventListener("sessionend",C)}};typeof(($=D.xr)==null?void 0:$.addEventListener)=="function"&&O.connect(),J.set({xr:O})}if(D.shadowMap){const I=D.shadowMap.enabled,C=D.shadowMap.type;if(D.shadowMap.enabled=!!x,ut.boo(x))D.shadowMap.type=ul;else if(ut.str(x)){var ce;const O={basic:Jf,percentage:Zf,soft:ul,variance:qf};D.shadowMap.type=(ce=O[x])!=null?ce:ul}else ut.obj(x)&&Object.assign(D.shadowMap,x);(I!==D.shadowMap.enabled||C!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const Y=Rc();Y&&("enabled"in Y?Y.enabled=!T:"legacyMode"in Y&&(Y.legacyMode=T)),s||ro(D,{outputEncoding:k?3e3:3001,toneMapping:E?Yf:Xf}),J.legacy!==T&&J.set(()=>({legacy:T})),J.linear!==k&&J.set(()=>({linear:k})),J.flat!==E&&J.set(()=>({flat:E})),m&&!ut.fun(m)&&!zc(m)&&!ut.equ(m,D,oo)&&ro(D,m),w&&!J.events.handlers&&J.set({events:w(n)});const j=lh(h,y);return ut.equ(j,J.size,oo)||J.setSize(j.width,j.height,j.updateStyle,j.top,j.left),A&&J.viewport.dpr!==Fc(A)&&J.setDpr(A),J.frameloop!==M&&J.setFrameloop(M),J.onPointerMissed||J.set({onPointerMissed:z}),b&&!ut.equ(b,J.performance,oo)&&J.set(I=>({performance:{...I.performance,...b}})),u=_,s=!0,this},render(c){return s||this.configure(),ca.updateContainer(Mn.jsx(uh,{store:n,children:c,onCreated:u,rootElement:h}),l,null,()=>{}),n},unmount(){Hc(h)}}}function uh({store:h,children:r,onCreated:v,rootElement:f}){return Zo(()=>{const o=h.getState();o.set(n=>({internal:{...n.internal,active:!0}})),v&&v(o),h.getState().events.connected||o.events.connect==null||o.events.connect(f)},[]),Mn.jsx(Nc.Provider,{value:h,children:r})}function Hc(h,r){const v=fo.get(h),f=v==null?void 0:v.fiber;if(f){const o=v==null?void 0:v.store.getState();o&&(o.internal.active=!1),ca.updateContainer(null,f,null,()=>{o&&setTimeout(()=>{try{var n,l,u,s;o.events.disconnect==null||o.events.disconnect(),(n=o.gl)==null||(l=n.renderLists)==null||l.dispose==null||l.dispose(),(u=o.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(s=o.gl)!=null&&s.xr&&o.xr.disconnect(),Kd(o),fo.delete(h),r&&r(h)}catch{}},500)})}}ca.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ae.version});const Tl={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ch(h){const{handlePointer:r}=eh(h);return{priority:1,enabled:!0,compute(v,f,o){f.pointer.set(v.offsetX/f.size.width*2-1,-(v.offsetY/f.size.height)*2+1),f.raycaster.setFromCamera(f.pointer,f.camera)},connected:void 0,handlers:Object.keys(Tl).reduce((v,f)=>({...v,[f]:r(f)}),{}),update:()=>{var v;const{events:f,internal:o}=h.getState();(v=o.lastEvent)!=null&&v.current&&f.handlers&&f.handlers.onPointerMove(o.lastEvent.current)},connect:v=>{var f;const{set:o,events:n}=h.getState();n.disconnect==null||n.disconnect(),o(l=>({events:{...l.events,connected:v}})),Object.entries((f=n.handlers)!=null?f:[]).forEach(([l,u])=>{const[s,d]=Tl[l];v.addEventListener(s,u,{passive:d})})},disconnect:()=>{const{set:v,events:f}=h.getState();if(f.connected){var o;Object.entries((o=f.handlers)!=null?o:[]).forEach(([n,l])=>{if(f&&f.connected instanceof HTMLElement){const[u]=Tl[n];f.connected.removeEventListener(u,l)}}),v(n=>({events:{...n.events,connected:void 0}}))}}}}function Wu(h,r){let v;return(...f)=>{window.clearTimeout(v),v=window.setTimeout(()=>h(...f),r)}}function fh({debounce:h,scroll:r,polyfill:v,offsetSize:f}={debounce:0,scroll:!1,offsetSize:!1}){const o=v||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[n,l]=ae.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=ae.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:n,orientationHandler:null}),s=h?typeof h=="number"?h:h.scroll:null,d=h?typeof h=="number"?h:h.resize:null,c=ae.useRef(!1);ae.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[m,y,S]=ae.useMemo(()=>{const k=()=>{if(!u.current.element)return;const{left:E,top:T,width:U,height:M,bottom:A,right:b,x:N,y:V}=u.current.element.getBoundingClientRect(),z={left:E,top:T,width:U,height:M,bottom:A,right:b,x:N,y:V};u.current.element instanceof HTMLElement&&f&&(z.height=u.current.element.offsetHeight,z.width=u.current.element.offsetWidth),Object.freeze(z),c.current&&!vh(u.current.lastBounds,z)&&l(u.current.lastBounds=z)};return[k,d?Wu(k,d):k,s?Wu(k,s):k]},[l,f,s,d]);function w(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(k=>k.removeEventListener("scroll",S,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function _(){u.current.element&&(u.current.resizeObserver=new o(S),u.current.resizeObserver.observe(u.current.element),r&&u.current.scrollContainers&&u.current.scrollContainers.forEach(k=>k.addEventListener("scroll",S,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const x=k=>{!k||k===u.current.element||(w(),u.current.element=k,u.current.scrollContainers=Vc(k),_())};return hh(S,!!r),dh(y),ae.useEffect(()=>{w(),_()},[r,S,y]),ae.useEffect(()=>w,[]),[x,n,m]}function dh(h){ae.useEffect(()=>{const r=h;return window.addEventListener("resize",r),()=>void window.removeEventListener("resize",r)},[h])}function hh(h,r){ae.useEffect(()=>{if(r){const v=h;return window.addEventListener("scroll",v,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",v,!0)}},[h,r])}function Vc(h){const r=[];if(!h||h===document.body)return r;const{overflow:v,overflowX:f,overflowY:o}=window.getComputedStyle(h);return[v,f,o].some(n=>n==="auto"||n==="scroll")&&r.push(h),[...r,...Vc(h.parentElement)]}const ph=["x","y","top","bottom","left","right","width","height"],vh=(h,r)=>ph.every(v=>h[v]===r[v]);var mh=Object.defineProperty,gh=Object.defineProperties,yh=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,Sh=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable,Vu=(h,r,v)=>r in h?mh(h,r,{enumerable:!0,configurable:!0,writable:!0,value:v}):h[r]=v,Yu=(h,r)=>{for(var v in r||(r={}))Sh.call(r,v)&&Vu(h,v,r[v]);if(Hu)for(var v of Hu(r))wh.call(r,v)&&Vu(h,v,r[v]);return h},_h=(h,r)=>gh(h,yh(r)),Xu,Qu;typeof window<"u"&&((Xu=window.document)!=null&&Xu.createElement||((Qu=window.navigator)==null?void 0:Qu.product)==="ReactNative")?ae.useLayoutEffect:ae.useEffect;function Yc(h,r,v){if(!h)return;if(v(h)===!0)return h;let f=r?h.return:h.child;for(;f;){const o=Yc(f,r,v);if(o)return o;f=r?null:f.sibling}}function Xc(h){try{return Object.defineProperties(h,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return h}}const Ku=console.error;console.error=function(){const h=[...arguments].join("");if(h!=null&&h.startsWith("Warning:")&&h.includes("useContext")){console.error=Ku;return}return Ku.apply(this,arguments)};const Wl=Xc(ae.createContext(null));class Qc extends ae.Component{render(){return ae.createElement(Wl.Provider,{value:this._reactInternals},this.props.children)}}function xh(){const h=ae.useContext(Wl);if(h===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=ae.useId();return ae.useMemo(()=>{for(const f of[h,h==null?void 0:h.alternate]){if(!f)continue;const o=Yc(f,!1,n=>{let l=n.memoizedState;for(;l;){if(l.memoizedState===r)return!0;l=l.next}});if(o)return o}},[h,r])}function Eh(){const h=xh(),[r]=ae.useState(()=>new Map);r.clear();let v=h;for(;v;){if(v.type&&typeof v.type=="object"){const o=v.type._context===void 0&&v.type.Provider===v.type?v.type:v.type._context;o&&o!==Wl&&!r.has(o)&&r.set(o,ae.useContext(Xc(o)))}v=v.return}return r}function Th(){const h=Eh();return ae.useMemo(()=>Array.from(h.keys()).reduce((r,v)=>f=>ae.createElement(r,null,ae.createElement(v.Provider,_h(Yu({},f),{value:h.get(v)}))),r=>ae.createElement(Qc,Yu({},r))),[h])}const kh=ae.forwardRef(function({children:r,fallback:v,resize:f,style:o,gl:n,events:l=ch,eventSource:u,eventPrefix:s,shadows:d,linear:c,flat:m,legacy:y,orthographic:S,frameloop:w,dpr:_,performance:x,raycaster:k,camera:E,scene:T,onPointerMissed:U,onCreated:M,...A},b){ae.useMemo(()=>Mc(ed),[]);const N=Th(),[V,z]=fh({scroll:!0,debounce:{scroll:50,resize:0},...f}),J=ae.useRef(null),D=ae.useRef(null);ae.useImperativeHandle(b,()=>J.current);const X=Lc(U),[H,ie]=ae.useState(!1),[$,ce]=ae.useState(!1);if(H)throw H;if($)throw $;const Y=ae.useRef(null);Zo(()=>{const I=J.current;z.width>0&&z.height>0&&I&&(Y.current||(Y.current=sh(I)),Y.current.configure({gl:n,events:l,shadows:d,linear:c,flat:m,legacy:y,orthographic:S,frameloop:w,dpr:_,performance:x,raycaster:k,camera:E,scene:T,size:z,onPointerMissed:(...C)=>X.current==null?void 0:X.current(...C),onCreated:C=>{C.events.connect==null||C.events.connect(u?Yd(u)?u.current:u:D.current),s&&C.setEvents({compute:(O,B)=>{const K=O[s+"X"],W=O[s+"Y"];B.pointer.set(K/B.size.width*2-1,-(W/B.size.height)*2+1),B.raycaster.setFromCamera(B.pointer,B.camera)}}),M==null||M(C)}}),Y.current.render(Mn.jsx(N,{children:Mn.jsx(Ac,{set:ce,children:Mn.jsx(ae.Suspense,{fallback:Mn.jsx(Xd,{set:ie}),children:r??null})})})))}),ae.useEffect(()=>{const I=J.current;if(I)return()=>Hc(I)},[]);const j=u?"none":"auto";return Mn.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...o},...A,children:Mn.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:Mn.jsx("canvas",{ref:J,style:{display:"block"},children:v})})})}),Jp=ae.forwardRef(function(r,v){return Mn.jsx(Qc,{children:Mn.jsx(kh,{...r,ref:v})})});function er(){return er=Object.assign?Object.assign.bind():function(h){for(var r=1;r<arguments.length;r++){var v=arguments[r];for(var f in v)({}).hasOwnProperty.call(v,f)&&(h[f]=v[f])}return h},er.apply(null,arguments)}const Kc=(()=>parseInt(wc.replace(/\D+/g,"")))(),Jc=Kc>=125?"uv1":"uv2";var Ph=Object.defineProperty,Ch=(h,r,v)=>r in h?Ph(h,r,{enumerable:!0,configurable:!0,writable:!0,value:v}):h[r]=v,Uh=(h,r,v)=>(Ch(h,typeof r!="symbol"?r+"":r,v),v);class Mh{constructor(){Uh(this,"_listeners")}addEventListener(r,v){this._listeners===void 0&&(this._listeners={});const f=this._listeners;f[r]===void 0&&(f[r]=[]),f[r].indexOf(v)===-1&&f[r].push(v)}hasEventListener(r,v){if(this._listeners===void 0)return!1;const f=this._listeners;return f[r]!==void 0&&f[r].indexOf(v)!==-1}removeEventListener(r,v){if(this._listeners===void 0)return;const o=this._listeners[r];if(o!==void 0){const n=o.indexOf(v);n!==-1&&o.splice(n,1)}}dispatchEvent(r){if(this._listeners===void 0)return;const f=this._listeners[r.type];if(f!==void 0){r.target=this;const o=f.slice(0);for(let n=0,l=o.length;n<l;n++)o[n].call(this,r);r.target=null}}}var Rh=Object.defineProperty,Dh=(h,r,v)=>r in h?Rh(h,r,{enumerable:!0,configurable:!0,writable:!0,value:v}):h[r]=v,be=(h,r,v)=>(Dh(h,typeof r!="symbol"?r+"":r,v),v);const Ji=new td,Ju=new _c,Lh=Math.cos(70*(Math.PI/180)),Zu=(h,r)=>(h%r+r)%r;let Ah=class extends Mh{constructor(r,v){super(),be(this,"object"),be(this,"domElement"),be(this,"enabled",!0),be(this,"target",new nt),be(this,"minDistance",0),be(this,"maxDistance",1/0),be(this,"minZoom",0),be(this,"maxZoom",1/0),be(this,"minPolarAngle",0),be(this,"maxPolarAngle",Math.PI),be(this,"minAzimuthAngle",-1/0),be(this,"maxAzimuthAngle",1/0),be(this,"enableDamping",!1),be(this,"dampingFactor",.05),be(this,"enableZoom",!0),be(this,"zoomSpeed",1),be(this,"enableRotate",!0),be(this,"rotateSpeed",1),be(this,"enablePan",!0),be(this,"panSpeed",1),be(this,"screenSpacePanning",!0),be(this,"keyPanSpeed",7),be(this,"zoomToCursor",!1),be(this,"autoRotate",!1),be(this,"autoRotateSpeed",2),be(this,"reverseOrbit",!1),be(this,"reverseHorizontalOrbit",!1),be(this,"reverseVerticalOrbit",!1),be(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),be(this,"mouseButtons",{LEFT:to.ROTATE,MIDDLE:to.DOLLY,RIGHT:to.PAN}),be(this,"touches",{ONE:no.ROTATE,TWO:no.DOLLY_PAN}),be(this,"target0"),be(this,"position0"),be(this,"zoom0"),be(this,"_domElementKeyEvents",null),be(this,"getPolarAngle"),be(this,"getAzimuthalAngle"),be(this,"setPolarAngle"),be(this,"setAzimuthalAngle"),be(this,"getDistance"),be(this,"getZoomScale"),be(this,"listenToKeyEvents"),be(this,"stopListenToKeyEvents"),be(this,"saveState"),be(this,"reset"),be(this,"update"),be(this,"connect"),be(this,"dispose"),be(this,"dollyIn"),be(this,"dollyOut"),be(this,"getScale"),be(this,"setScale"),this.object=r,this.domElement=v,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=R=>{let ne=Zu(R,2*Math.PI),xe=c.phi;xe<0&&(xe+=2*Math.PI),ne<0&&(ne+=2*Math.PI);let Ce=Math.abs(ne-xe);2*Math.PI-Ce<Ce&&(ne<xe?ne+=2*Math.PI:xe+=2*Math.PI),m.phi=ne-xe,f.update()},this.setAzimuthalAngle=R=>{let ne=Zu(R,2*Math.PI),xe=c.theta;xe<0&&(xe+=2*Math.PI),ne<0&&(ne+=2*Math.PI);let Ce=Math.abs(ne-xe);2*Math.PI-Ce<Ce&&(ne<xe?ne+=2*Math.PI:xe+=2*Math.PI),m.theta=ne-xe,f.update()},this.getDistance=()=>f.object.position.distanceTo(f.target),this.listenToKeyEvents=R=>{R.addEventListener("keydown",Pe),this._domElementKeyEvents=R},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Pe),this._domElementKeyEvents=null},this.saveState=()=>{f.target0.copy(f.target),f.position0.copy(f.object.position),f.zoom0=f.object.zoom},this.reset=()=>{f.target.copy(f.target0),f.object.position.copy(f.position0),f.object.zoom=f.zoom0,f.object.updateProjectionMatrix(),f.dispatchEvent(o),f.update(),s=u.NONE},this.update=(()=>{const R=new nt,ne=new nt(0,1,0),xe=new wu().setFromUnitVectors(r.up,ne),Ce=xe.clone().invert(),Se=new nt,Ye=new wu,xt=2*Math.PI;return function(){const He=f.object.position;xe.setFromUnitVectors(r.up,ne),Ce.copy(xe).invert(),R.copy(He).sub(f.target),R.applyQuaternion(xe),c.setFromVector3(R),f.autoRotate&&s===u.NONE&&H(D()),f.enableDamping?(c.theta+=m.theta*f.dampingFactor,c.phi+=m.phi*f.dampingFactor):(c.theta+=m.theta,c.phi+=m.phi);let qe=f.minAzimuthAngle,Je=f.maxAzimuthAngle;isFinite(qe)&&isFinite(Je)&&(qe<-Math.PI?qe+=xt:qe>Math.PI&&(qe-=xt),Je<-Math.PI?Je+=xt:Je>Math.PI&&(Je-=xt),qe<=Je?c.theta=Math.max(qe,Math.min(Je,c.theta)):c.theta=c.theta>(qe+Je)/2?Math.max(qe,c.theta):Math.min(Je,c.theta)),c.phi=Math.max(f.minPolarAngle,Math.min(f.maxPolarAngle,c.phi)),c.makeSafe(),f.enableDamping===!0?f.target.addScaledVector(S,f.dampingFactor):f.target.add(S),f.zoomToCursor&&V||f.object.isOrthographicCamera?c.radius=B(c.radius):c.radius=B(c.radius*y),R.setFromSpherical(c),R.applyQuaternion(Ce),He.copy(f.target).add(R),f.object.matrixAutoUpdate||f.object.updateMatrix(),f.object.lookAt(f.target),f.enableDamping===!0?(m.theta*=1-f.dampingFactor,m.phi*=1-f.dampingFactor,S.multiplyScalar(1-f.dampingFactor)):(m.set(0,0,0),S.set(0,0,0));let ze=!1;if(f.zoomToCursor&&V){let $e=null;if(f.object instanceof ra&&f.object.isPerspectiveCamera){const ct=R.length();$e=B(ct*y);const dt=ct-$e;f.object.position.addScaledVector(b,dt),f.object.updateMatrixWorld()}else if(f.object.isOrthographicCamera){const ct=new nt(N.x,N.y,0);ct.unproject(f.object),f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom/y)),f.object.updateProjectionMatrix(),ze=!0;const dt=new nt(N.x,N.y,0);dt.unproject(f.object),f.object.position.sub(dt).add(ct),f.object.updateMatrixWorld(),$e=R.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),f.zoomToCursor=!1;$e!==null&&(f.screenSpacePanning?f.target.set(0,0,-1).transformDirection(f.object.matrix).multiplyScalar($e).add(f.object.position):(Ji.origin.copy(f.object.position),Ji.direction.set(0,0,-1).transformDirection(f.object.matrix),Math.abs(f.object.up.dot(Ji.direction))<Lh?r.lookAt(f.target):(Ju.setFromNormalAndCoplanarPoint(f.object.up,f.target),Ji.intersectPlane(Ju,f.target))))}else f.object instanceof na&&f.object.isOrthographicCamera&&(ze=y!==1,ze&&(f.object.zoom=Math.max(f.minZoom,Math.min(f.maxZoom,f.object.zoom/y)),f.object.updateProjectionMatrix()));return y=1,V=!1,ze||Se.distanceToSquared(f.object.position)>d||8*(1-Ye.dot(f.object.quaternion))>d?(f.dispatchEvent(o),Se.copy(f.object.position),Ye.copy(f.object.quaternion),ze=!1,!0):!1}})(),this.connect=R=>{f.domElement=R,f.domElement.style.touchAction="none",f.domElement.addEventListener("contextmenu",rt),f.domElement.addEventListener("pointerdown",Ne),f.domElement.addEventListener("pointercancel",ye),f.domElement.addEventListener("wheel",ke)},this.dispose=()=>{var R,ne,xe,Ce,Se,Ye;f.domElement&&(f.domElement.style.touchAction="auto"),(R=f.domElement)==null||R.removeEventListener("contextmenu",rt),(ne=f.domElement)==null||ne.removeEventListener("pointerdown",Ne),(xe=f.domElement)==null||xe.removeEventListener("pointercancel",ye),(Ce=f.domElement)==null||Ce.removeEventListener("wheel",ke),(Se=f.domElement)==null||Se.ownerDocument.removeEventListener("pointermove",ve),(Ye=f.domElement)==null||Ye.ownerDocument.removeEventListener("pointerup",ye),f._domElementKeyEvents!==null&&f._domElementKeyEvents.removeEventListener("keydown",Pe)};const f=this,o={type:"change"},n={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=u.NONE;const d=1e-6,c=new _u,m=new _u;let y=1;const S=new nt,w=new Dt,_=new Dt,x=new Dt,k=new Dt,E=new Dt,T=new Dt,U=new Dt,M=new Dt,A=new Dt,b=new nt,N=new Dt;let V=!1;const z=[],J={};function D(){return 2*Math.PI/60/60*f.autoRotateSpeed}function X(){return Math.pow(.95,f.zoomSpeed)}function H(R){f.reverseOrbit||f.reverseHorizontalOrbit?m.theta+=R:m.theta-=R}function ie(R){f.reverseOrbit||f.reverseVerticalOrbit?m.phi+=R:m.phi-=R}const $=(()=>{const R=new nt;return function(xe,Ce){R.setFromMatrixColumn(Ce,0),R.multiplyScalar(-xe),S.add(R)}})(),ce=(()=>{const R=new nt;return function(xe,Ce){f.screenSpacePanning===!0?R.setFromMatrixColumn(Ce,1):(R.setFromMatrixColumn(Ce,0),R.crossVectors(f.object.up,R)),R.multiplyScalar(xe),S.add(R)}})(),Y=(()=>{const R=new nt;return function(xe,Ce){const Se=f.domElement;if(Se&&f.object instanceof ra&&f.object.isPerspectiveCamera){const Ye=f.object.position;R.copy(Ye).sub(f.target);let xt=R.length();xt*=Math.tan(f.object.fov/2*Math.PI/180),$(2*xe*xt/Se.clientHeight,f.object.matrix),ce(2*Ce*xt/Se.clientHeight,f.object.matrix)}else Se&&f.object instanceof na&&f.object.isOrthographicCamera?($(xe*(f.object.right-f.object.left)/f.object.zoom/Se.clientWidth,f.object.matrix),ce(Ce*(f.object.top-f.object.bottom)/f.object.zoom/Se.clientHeight,f.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),f.enablePan=!1)}})();function j(R){f.object instanceof ra&&f.object.isPerspectiveCamera||f.object instanceof na&&f.object.isOrthographicCamera?y=R:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),f.enableZoom=!1)}function I(R){j(y/R)}function C(R){j(y*R)}function O(R){if(!f.zoomToCursor||!f.domElement)return;V=!0;const ne=f.domElement.getBoundingClientRect(),xe=R.clientX-ne.left,Ce=R.clientY-ne.top,Se=ne.width,Ye=ne.height;N.x=xe/Se*2-1,N.y=-(Ce/Ye)*2+1,b.set(N.x,N.y,1).unproject(f.object).sub(f.object.position).normalize()}function B(R){return Math.max(f.minDistance,Math.min(f.maxDistance,R))}function K(R){w.set(R.clientX,R.clientY)}function W(R){O(R),U.set(R.clientX,R.clientY)}function ee(R){k.set(R.clientX,R.clientY)}function q(R){_.set(R.clientX,R.clientY),x.subVectors(_,w).multiplyScalar(f.rotateSpeed);const ne=f.domElement;ne&&(H(2*Math.PI*x.x/ne.clientHeight),ie(2*Math.PI*x.y/ne.clientHeight)),w.copy(_),f.update()}function re(R){M.set(R.clientX,R.clientY),A.subVectors(M,U),A.y>0?I(X()):A.y<0&&C(X()),U.copy(M),f.update()}function fe(R){E.set(R.clientX,R.clientY),T.subVectors(E,k).multiplyScalar(f.panSpeed),Y(T.x,T.y),k.copy(E),f.update()}function we(R){O(R),R.deltaY<0?C(X()):R.deltaY>0&&I(X()),f.update()}function le(R){let ne=!1;switch(R.code){case f.keys.UP:Y(0,f.keyPanSpeed),ne=!0;break;case f.keys.BOTTOM:Y(0,-f.keyPanSpeed),ne=!0;break;case f.keys.LEFT:Y(f.keyPanSpeed,0),ne=!0;break;case f.keys.RIGHT:Y(-f.keyPanSpeed,0),ne=!0;break}ne&&(R.preventDefault(),f.update())}function oe(){if(z.length==1)w.set(z[0].pageX,z[0].pageY);else{const R=.5*(z[0].pageX+z[1].pageX),ne=.5*(z[0].pageY+z[1].pageY);w.set(R,ne)}}function De(){if(z.length==1)k.set(z[0].pageX,z[0].pageY);else{const R=.5*(z[0].pageX+z[1].pageX),ne=.5*(z[0].pageY+z[1].pageY);k.set(R,ne)}}function Fe(){const R=z[0].pageX-z[1].pageX,ne=z[0].pageY-z[1].pageY,xe=Math.sqrt(R*R+ne*ne);U.set(0,xe)}function me(){f.enableZoom&&Fe(),f.enablePan&&De()}function Te(){f.enableZoom&&Fe(),f.enableRotate&&oe()}function Le(R){if(z.length==1)_.set(R.pageX,R.pageY);else{const xe=Me(R),Ce=.5*(R.pageX+xe.x),Se=.5*(R.pageY+xe.y);_.set(Ce,Se)}x.subVectors(_,w).multiplyScalar(f.rotateSpeed);const ne=f.domElement;ne&&(H(2*Math.PI*x.x/ne.clientHeight),ie(2*Math.PI*x.y/ne.clientHeight)),w.copy(_)}function se(R){if(z.length==1)E.set(R.pageX,R.pageY);else{const ne=Me(R),xe=.5*(R.pageX+ne.x),Ce=.5*(R.pageY+ne.y);E.set(xe,Ce)}T.subVectors(E,k).multiplyScalar(f.panSpeed),Y(T.x,T.y),k.copy(E)}function Ee(R){const ne=Me(R),xe=R.pageX-ne.x,Ce=R.pageY-ne.y,Se=Math.sqrt(xe*xe+Ce*Ce);M.set(0,Se),A.set(0,Math.pow(M.y/U.y,f.zoomSpeed)),I(A.y),U.copy(M)}function ge(R){f.enableZoom&&Ee(R),f.enablePan&&se(R)}function te(R){f.enableZoom&&Ee(R),f.enableRotate&&Le(R)}function Ne(R){var ne,xe;f.enabled!==!1&&(z.length===0&&((ne=f.domElement)==null||ne.ownerDocument.addEventListener("pointermove",ve),(xe=f.domElement)==null||xe.ownerDocument.addEventListener("pointerup",ye)),lt(R),R.pointerType==="touch"?Oe(R):he(R))}function ve(R){f.enabled!==!1&&(R.pointerType==="touch"?Be(R):Ze(R))}function ye(R){var ne,xe,Ce;Ve(R),z.length===0&&((ne=f.domElement)==null||ne.releasePointerCapture(R.pointerId),(xe=f.domElement)==null||xe.ownerDocument.removeEventListener("pointermove",ve),(Ce=f.domElement)==null||Ce.ownerDocument.removeEventListener("pointerup",ye)),f.dispatchEvent(l),s=u.NONE}function he(R){let ne;switch(R.button){case 0:ne=f.mouseButtons.LEFT;break;case 1:ne=f.mouseButtons.MIDDLE;break;case 2:ne=f.mouseButtons.RIGHT;break;default:ne=-1}switch(ne){case to.DOLLY:if(f.enableZoom===!1)return;W(R),s=u.DOLLY;break;case to.ROTATE:if(R.ctrlKey||R.metaKey||R.shiftKey){if(f.enablePan===!1)return;ee(R),s=u.PAN}else{if(f.enableRotate===!1)return;K(R),s=u.ROTATE}break;case to.PAN:if(R.ctrlKey||R.metaKey||R.shiftKey){if(f.enableRotate===!1)return;K(R),s=u.ROTATE}else{if(f.enablePan===!1)return;ee(R),s=u.PAN}break;default:s=u.NONE}s!==u.NONE&&f.dispatchEvent(n)}function Ze(R){if(f.enabled!==!1)switch(s){case u.ROTATE:if(f.enableRotate===!1)return;q(R);break;case u.DOLLY:if(f.enableZoom===!1)return;re(R);break;case u.PAN:if(f.enablePan===!1)return;fe(R);break}}function ke(R){f.enabled===!1||f.enableZoom===!1||s!==u.NONE&&s!==u.ROTATE||(R.preventDefault(),f.dispatchEvent(n),we(R),f.dispatchEvent(l))}function Pe(R){f.enabled===!1||f.enablePan===!1||le(R)}function Oe(R){switch(We(R),z.length){case 1:switch(f.touches.ONE){case no.ROTATE:if(f.enableRotate===!1)return;oe(),s=u.TOUCH_ROTATE;break;case no.PAN:if(f.enablePan===!1)return;De(),s=u.TOUCH_PAN;break;default:s=u.NONE}break;case 2:switch(f.touches.TWO){case no.DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;me(),s=u.TOUCH_DOLLY_PAN;break;case no.DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;Te(),s=u.TOUCH_DOLLY_ROTATE;break;default:s=u.NONE}break;default:s=u.NONE}s!==u.NONE&&f.dispatchEvent(n)}function Be(R){switch(We(R),s){case u.TOUCH_ROTATE:if(f.enableRotate===!1)return;Le(R),f.update();break;case u.TOUCH_PAN:if(f.enablePan===!1)return;se(R),f.update();break;case u.TOUCH_DOLLY_PAN:if(f.enableZoom===!1&&f.enablePan===!1)return;ge(R),f.update();break;case u.TOUCH_DOLLY_ROTATE:if(f.enableZoom===!1&&f.enableRotate===!1)return;te(R),f.update();break;default:s=u.NONE}}function rt(R){f.enabled!==!1&&R.preventDefault()}function lt(R){z.push(R)}function Ve(R){delete J[R.pointerId];for(let ne=0;ne<z.length;ne++)if(z[ne].pointerId==R.pointerId){z.splice(ne,1);return}}function We(R){let ne=J[R.pointerId];ne===void 0&&(ne=new Dt,J[R.pointerId]=ne),ne.set(R.pageX,R.pageY)}function Me(R){const ne=R.pointerId===z[0].pointerId?z[1]:z[0];return J[ne.pointerId]}this.dollyIn=(R=X())=>{C(R),f.update()},this.dollyOut=(R=X())=>{I(R),f.update()},this.getScale=()=>y,this.setScale=R=>{j(R),f.update()},this.getZoomScale=()=>X(),v!==void 0&&this.connect(v),this.update()}};const qu=new Jo,Zi=new nt;class Hl extends xc{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const r=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],v=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],f=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(f),this.setAttribute("position",new xu(r,3)),this.setAttribute("uv",new xu(v,2))}applyMatrix4(r){const v=this.attributes.instanceStart,f=this.attributes.instanceEnd;return v!==void 0&&(v.applyMatrix4(r),f.applyMatrix4(r),v.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(r){let v;r instanceof Float32Array?v=r:Array.isArray(r)&&(v=new Float32Array(r));const f=new Dl(v,6,1);return this.setAttribute("instanceStart",new uo(f,3,0)),this.setAttribute("instanceEnd",new uo(f,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(r,v=3){let f;r instanceof Float32Array?f=r:Array.isArray(r)&&(f=new Float32Array(r));const o=new Dl(f,v*2,1);return this.setAttribute("instanceColorStart",new uo(o,v,0)),this.setAttribute("instanceColorEnd",new uo(o,v,v)),this}fromWireframeGeometry(r){return this.setPositions(r.attributes.position.array),this}fromEdgesGeometry(r){return this.setPositions(r.attributes.position.array),this}fromMesh(r){return this.fromWireframeGeometry(new nd(r.geometry)),this}fromLineSegments(r){const v=r.geometry;return this.setPositions(v.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Jo);const r=this.attributes.instanceStart,v=this.attributes.instanceEnd;r!==void 0&&v!==void 0&&(this.boundingBox.setFromBufferAttribute(r),qu.setFromBufferAttribute(v),this.boundingBox.union(qu))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nl),this.boundingBox===null&&this.computeBoundingBox();const r=this.attributes.instanceStart,v=this.attributes.instanceEnd;if(r!==void 0&&v!==void 0){const f=this.boundingSphere.center;this.boundingBox.getCenter(f);let o=0;for(let n=0,l=r.count;n<l;n++)Zi.fromBufferAttribute(r,n),o=Math.max(o,f.distanceToSquared(Zi)),Zi.fromBufferAttribute(v,n),o=Math.max(o,f.distanceToSquared(Zi));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(r){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(r)}}class Zc extends Hl{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(r){const v=r.length-3,f=new Float32Array(2*v);for(let o=0;o<v;o+=3)f[2*o]=r[o],f[2*o+1]=r[o+1],f[2*o+2]=r[o+2],f[2*o+3]=r[o+3],f[2*o+4]=r[o+4],f[2*o+5]=r[o+5];return super.setPositions(f),this}setColors(r,v=3){const f=r.length-v,o=new Float32Array(2*f);if(v===3)for(let n=0;n<f;n+=v)o[2*n]=r[n],o[2*n+1]=r[n+1],o[2*n+2]=r[n+2],o[2*n+3]=r[n+3],o[2*n+4]=r[n+4],o[2*n+5]=r[n+5];else for(let n=0;n<f;n+=v)o[2*n]=r[n],o[2*n+1]=r[n+1],o[2*n+2]=r[n+2],o[2*n+3]=r[n+3],o[2*n+4]=r[n+4],o[2*n+5]=r[n+5],o[2*n+6]=r[n+6],o[2*n+7]=r[n+7];return super.setColors(o,v),this}fromLine(r){const v=r.geometry;return this.setPositions(v.attributes.position.array),this}}class Vl extends Ec{constructor(r){super({type:"LineMaterial",uniforms:sa.clone(sa.merge([Eu.common,Eu.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Dt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${Kc>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(v){this.uniforms.diffuse.value=v}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(v){v===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(v){this.uniforms.linewidth.value=v}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(v){!!v!="USE_DASH"in this.defines&&(this.needsUpdate=!0),v===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(v){this.uniforms.dashScale.value=v}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(v){this.uniforms.dashSize.value=v}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(v){this.uniforms.dashOffset.value=v}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(v){this.uniforms.gapSize.value=v}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(v){this.uniforms.opacity.value=v}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(v){this.uniforms.resolution.value.copy(v)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(v){!!v!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),v===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(r)}}const kl=new hr,$u=new nt,ec=new nt,Ot=new hr,Ft=new hr,Bn=new hr,Pl=new nt,Cl=new kc,bt=new rd,tc=new nt,qi=new Jo,$i=new Nl,jn=new hr;let Gn,Lr;function nc(h,r,v){return jn.set(0,0,-r,1).applyMatrix4(h.projectionMatrix),jn.multiplyScalar(1/jn.w),jn.x=Lr/v.width,jn.y=Lr/v.height,jn.applyMatrix4(h.projectionMatrixInverse),jn.multiplyScalar(1/jn.w),Math.abs(Math.max(jn.x,jn.y))}function Oh(h,r){const v=h.matrixWorld,f=h.geometry,o=f.attributes.instanceStart,n=f.attributes.instanceEnd,l=Math.min(f.instanceCount,o.count);for(let u=0,s=l;u<s;u++){bt.start.fromBufferAttribute(o,u),bt.end.fromBufferAttribute(n,u),bt.applyMatrix4(v);const d=new nt,c=new nt;Gn.distanceSqToSegment(bt.start,bt.end,c,d),c.distanceTo(d)<Lr*.5&&r.push({point:c,pointOnLine:d,distance:Gn.origin.distanceTo(c),object:h,face:null,faceIndex:u,uv:null,[Jc]:null})}}function Fh(h,r,v){const f=r.projectionMatrix,n=h.material.resolution,l=h.matrixWorld,u=h.geometry,s=u.attributes.instanceStart,d=u.attributes.instanceEnd,c=Math.min(u.instanceCount,s.count),m=-r.near;Gn.at(1,Bn),Bn.w=1,Bn.applyMatrix4(r.matrixWorldInverse),Bn.applyMatrix4(f),Bn.multiplyScalar(1/Bn.w),Bn.x*=n.x/2,Bn.y*=n.y/2,Bn.z=0,Pl.copy(Bn),Cl.multiplyMatrices(r.matrixWorldInverse,l);for(let y=0,S=c;y<S;y++){if(Ot.fromBufferAttribute(s,y),Ft.fromBufferAttribute(d,y),Ot.w=1,Ft.w=1,Ot.applyMatrix4(Cl),Ft.applyMatrix4(Cl),Ot.z>m&&Ft.z>m)continue;if(Ot.z>m){const T=Ot.z-Ft.z,U=(Ot.z-m)/T;Ot.lerp(Ft,U)}else if(Ft.z>m){const T=Ft.z-Ot.z,U=(Ft.z-m)/T;Ft.lerp(Ot,U)}Ot.applyMatrix4(f),Ft.applyMatrix4(f),Ot.multiplyScalar(1/Ot.w),Ft.multiplyScalar(1/Ft.w),Ot.x*=n.x/2,Ot.y*=n.y/2,Ft.x*=n.x/2,Ft.y*=n.y/2,bt.start.copy(Ot),bt.start.z=0,bt.end.copy(Ft),bt.end.z=0;const _=bt.closestPointToPointParameter(Pl,!0);bt.at(_,tc);const x=Tc.lerp(Ot.z,Ft.z,_),k=x>=-1&&x<=1,E=Pl.distanceTo(tc)<Lr*.5;if(k&&E){bt.start.fromBufferAttribute(s,y),bt.end.fromBufferAttribute(d,y),bt.start.applyMatrix4(l),bt.end.applyMatrix4(l);const T=new nt,U=new nt;Gn.distanceSqToSegment(bt.start,bt.end,U,T),v.push({point:U,pointOnLine:T,distance:Gn.origin.distanceTo(U),object:h,face:null,faceIndex:y,uv:null,[Jc]:null})}}}class qc extends fa{constructor(r=new Hl,v=new Vl({color:Math.random()*16777215})){super(r,v),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const r=this.geometry,v=r.attributes.instanceStart,f=r.attributes.instanceEnd,o=new Float32Array(2*v.count);for(let l=0,u=0,s=v.count;l<s;l++,u+=2)$u.fromBufferAttribute(v,l),ec.fromBufferAttribute(f,l),o[u]=u===0?0:o[u-1],o[u+1]=o[u]+$u.distanceTo(ec);const n=new Dl(o,2,1);return r.setAttribute("instanceDistanceStart",new uo(n,1,0)),r.setAttribute("instanceDistanceEnd",new uo(n,1,1)),this}raycast(r,v){const f=this.material.worldUnits,o=r.camera;o===null&&!f&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const n=r.params.Line2!==void 0&&r.params.Line2.threshold||0;Gn=r.ray;const l=this.matrixWorld,u=this.geometry,s=this.material;Lr=s.linewidth+n,u.boundingSphere===null&&u.computeBoundingSphere(),$i.copy(u.boundingSphere).applyMatrix4(l);let d;if(f)d=Lr*.5;else{const m=Math.max(o.near,$i.distanceToPoint(Gn.origin));d=nc(o,m,s.resolution)}if($i.radius+=d,Gn.intersectsSphere($i)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),qi.copy(u.boundingBox).applyMatrix4(l);let c;if(f)c=Lr*.5;else{const m=Math.max(o.near,qi.distanceToPoint(Gn.origin));c=nc(o,m,s.resolution)}qi.expandByScalar(c),Gn.intersectsBox(qi)!==!1&&(f?Oh(this,v):Fh(this,o,v))}onBeforeRender(r){const v=this.material.uniforms;v&&v.resolution&&(r.getViewport(kl),this.material.uniforms.resolution.value.set(kl.z,kl.w))}}class Ih extends qc{constructor(r=new Zc,v=new Vl({color:Math.random()*16777215})){super(r,v),this.isLine2=!0,this.type="Line2"}}const qp=ae.forwardRef(function({points:r,color:v=16777215,vertexColors:f,linewidth:o,lineWidth:n,segments:l,dashed:u,...s},d){var c,m;const y=Qt(k=>k.size),S=ae.useMemo(()=>l?new qc:new Ih,[l]),[w]=ae.useState(()=>new Vl),_=(f==null||(c=f[0])==null?void 0:c.length)===4?4:3,x=ae.useMemo(()=>{const k=l?new Hl:new Zc,E=r.map(T=>{const U=Array.isArray(T);return T instanceof nt||T instanceof hr?[T.x,T.y,T.z]:T instanceof Dt?[T.x,T.y,0]:U&&T.length===3?[T[0],T[1],T[2]]:U&&T.length===2?[T[0],T[1],0]:T});if(k.setPositions(E.flat()),f){v=16777215;const T=f.map(U=>U instanceof Or?U.toArray():U);k.setColors(T.flat(),_)}return k},[r,l,f,_]);return ae.useLayoutEffect(()=>{S.computeLineDistances()},[r,S]),ae.useLayoutEffect(()=>{u?w.defines.USE_DASH="":delete w.defines.USE_DASH,w.needsUpdate=!0},[u,w]),ae.useEffect(()=>()=>{x.dispose(),w.dispose()},[x]),ae.createElement("primitive",er({object:S,ref:d},s),ae.createElement("primitive",{object:x,attach:"geometry"}),ae.createElement("primitive",er({object:w,attach:"material",color:v,vertexColors:!!f,resolution:[y.width,y.height],linewidth:(m=o??n)!==null&&m!==void 0?m:1,dashed:u,transparent:_===4},s)))});function bh(){var h=Object.create(null);function r(o,n){var l=o.id,u=o.name,s=o.dependencies;s===void 0&&(s=[]);var d=o.init;d===void 0&&(d=function(){});var c=o.getTransferables;if(c===void 0&&(c=null),!h[l])try{s=s.map(function(y){return y&&y.isWorkerModule&&(r(y,function(S){if(S instanceof Error)throw S}),y=h[y.id].value),y}),d=f("<"+u+">.init",d),c&&(c=f("<"+u+">.getTransferables",c));var m=null;typeof d=="function"?m=d.apply(void 0,s):console.error("worker module init function failed to rehydrate"),h[l]={id:l,value:m,getTransferables:c},n(m)}catch(y){y&&y.noLog||console.error(y),n(y)}}function v(o,n){var l,u=o.id,s=o.args;(!h[u]||typeof h[u].value!="function")&&n(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var d=(l=h[u]).value.apply(l,s);d&&typeof d.then=="function"?d.then(c,function(m){return n(m instanceof Error?m:new Error(""+m))}):c(d)}catch(m){n(m)}function c(m){try{var y=h[u].getTransferables&&h[u].getTransferables(m);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),n(m,y)}catch(S){console.error(S),n(S)}}}function f(o,n){var l=void 0;self.troikaDefine=function(s){return l=s};var u=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+n+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(s){console.error(s)}return URL.revokeObjectURL(u),delete self.troikaDefine,l}self.addEventListener("message",function(o){var n=o.data,l=n.messageId,u=n.action,s=n.data;try{u==="registerModule"&&r(s,function(d){d instanceof Error?postMessage({messageId:l,success:!1,error:d.message}):postMessage({messageId:l,success:!0,result:{isCallable:typeof d=="function"}})}),u==="callModule"&&v(s,function(d,c){d instanceof Error?postMessage({messageId:l,success:!1,error:d.message}):postMessage({messageId:l,success:!0,result:d},c||void 0)})}catch(d){postMessage({messageId:l,success:!1,error:d.stack})}})}function zh(h){var r=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return r._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,v);throw new Error("Worker module function was called but `init` did not return a callable function")})};return r._getInitResult=function(){var v=h.dependencies,f=h.init;v=Array.isArray(v)?v.map(function(n){return n&&(n=n.onMainThread||n,n._getInitResult&&(n=n._getInitResult())),n}):[];var o=Promise.all(v).then(function(n){return f.apply(null,n)});return r._getInitResult=function(){return o},o},r}var $c=function(){var h=!1;if(typeof window<"u"&&typeof window.document<"u")try{var r=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));r.terminate(),h=!0}catch(v){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+v.message+"]")}return $c=function(){return h},h},Nh=0,Bh=0,Ul=!1,Xo=Object.create(null),Qo=Object.create(null),Fl=Object.create(null);function ho(h){if((!h||typeof h.init!="function")&&!Ul)throw new Error("requires `options.init` function");var r=h.dependencies,v=h.init,f=h.getTransferables,o=h.workerId,n=zh(h);o==null&&(o="#default");var l="workerModule"+ ++Nh,u=h.name||l,s=null;r=r&&r.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(Ul=!0,c=ho({workerId:o,name:"<"+u+"> function dependency: "+c.name,init:`function(){return (
`+ia(c)+`
)}`}),Ul=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function d(){for(var c=[],m=arguments.length;m--;)c[m]=arguments[m];if(!$c())return n.apply(void 0,c);if(!s){s=rc(o,"registerModule",d.workerModuleData);var y=function(){s=null,Qo[o].delete(y)};(Qo[o]||(Qo[o]=new Set)).add(y)}return s.then(function(S){var w=S.isCallable;if(w)return rc(o,"callModule",{id:l,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return d.workerModuleData={isWorkerModule:!0,id:l,name:u,dependencies:r,init:ia(v),getTransferables:f&&ia(f)},d.onMainThread=n,d}function jh(h){Qo[h]&&Qo[h].forEach(function(r){r()}),Xo[h]&&(Xo[h].terminate(),delete Xo[h])}function ia(h){var r=h.toString();return!/^function/.test(r)&&/^\w+\s*\(/.test(r)&&(r="function "+r),r}function Gh(h){var r=Xo[h];if(!r){var v=ia(bh);r=Xo[h]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+h.replace(/\*/g,"")+` **/

;(`+v+")()"],{type:"application/javascript"}))),r.onmessage=function(f){var o=f.data,n=o.messageId,l=Fl[n];if(!l)throw new Error("WorkerModule response with empty or unknown messageId");delete Fl[n],l(o)}}return r}function rc(h,r,v){return new Promise(function(f,o){var n=++Bh;Fl[n]=function(l){l.success?f(l.result):o(new Error("Error in worker "+r+" call: "+l.error))},Gh(h).postMessage({messageId:n,action:r,data:v})})}function ef(){var h=function(r){function v(j,I,C,O,B,K,W,ee){var q=1-W;ee.x=q*q*j+2*q*W*C+W*W*B,ee.y=q*q*I+2*q*W*O+W*W*K}function f(j,I,C,O,B,K,W,ee,q,re){var fe=1-q;re.x=fe*fe*fe*j+3*fe*fe*q*C+3*fe*q*q*B+q*q*q*W,re.y=fe*fe*fe*I+3*fe*fe*q*O+3*fe*q*q*K+q*q*q*ee}function o(j,I){for(var C=/([MLQCZ])([^MLQCZ]*)/g,O,B,K,W,ee;O=C.exec(j);){var q=O[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(O[1]){case"M":W=B=q[0],ee=K=q[1];break;case"L":(q[0]!==W||q[1]!==ee)&&I("L",W,ee,W=q[0],ee=q[1]);break;case"Q":{I("Q",W,ee,W=q[2],ee=q[3],q[0],q[1]);break}case"C":{I("C",W,ee,W=q[4],ee=q[5],q[0],q[1],q[2],q[3]);break}case"Z":(W!==B||ee!==K)&&I("L",W,ee,B,K);break}}}function n(j,I,C){C===void 0&&(C=16);var O={x:0,y:0};o(j,function(B,K,W,ee,q,re,fe,we,le){switch(B){case"L":I(K,W,ee,q);break;case"Q":{for(var oe=K,De=W,Fe=1;Fe<C;Fe++)v(K,W,re,fe,ee,q,Fe/(C-1),O),I(oe,De,O.x,O.y),oe=O.x,De=O.y;break}case"C":{for(var me=K,Te=W,Le=1;Le<C;Le++)f(K,W,re,fe,we,le,ee,q,Le/(C-1),O),I(me,Te,O.x,O.y),me=O.x,Te=O.y;break}}})}var l="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",s=new WeakMap,d={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(j,I){var C=j.getContext?j.getContext("webgl",d):j,O=s.get(C);if(!O){let fe=function(me){var Te=K[me];if(!Te&&(Te=K[me]=C.getExtension(me),!Te))throw new Error(me+" not supported");return Te},we=function(me,Te){var Le=C.createShader(Te);return C.shaderSource(Le,me),C.compileShader(Le),Le},le=function(me,Te,Le,se){if(!W[me]){var Ee={},ge={},te=C.createProgram();C.attachShader(te,we(Te,C.VERTEX_SHADER)),C.attachShader(te,we(Le,C.FRAGMENT_SHADER)),C.linkProgram(te),W[me]={program:te,transaction:function(ve){C.useProgram(te),ve({setUniform:function(he,Ze){for(var ke=[],Pe=arguments.length-2;Pe-- >0;)ke[Pe]=arguments[Pe+2];var Oe=ge[Ze]||(ge[Ze]=C.getUniformLocation(te,Ze));C["uniform"+he].apply(C,[Oe].concat(ke))},setAttribute:function(he,Ze,ke,Pe,Oe){var Be=Ee[he];Be||(Be=Ee[he]={buf:C.createBuffer(),loc:C.getAttribLocation(te,he),data:null}),C.bindBuffer(C.ARRAY_BUFFER,Be.buf),C.vertexAttribPointer(Be.loc,Ze,C.FLOAT,!1,0,0),C.enableVertexAttribArray(Be.loc),B?C.vertexAttribDivisor(Be.loc,Pe):fe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Be.loc,Pe),Oe!==Be.data&&(C.bufferData(C.ARRAY_BUFFER,Oe,ke),Be.data=Oe)}})}}}W[me].transaction(se)},oe=function(me,Te){q++;try{C.activeTexture(C.TEXTURE0+q);var Le=ee[me];Le||(Le=ee[me]=C.createTexture(),C.bindTexture(C.TEXTURE_2D,Le),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST)),C.bindTexture(C.TEXTURE_2D,Le),Te(Le,q)}finally{q--}},De=function(me,Te,Le){var se=C.createFramebuffer();re.push(se),C.bindFramebuffer(C.FRAMEBUFFER,se),C.activeTexture(C.TEXTURE0+Te),C.bindTexture(C.TEXTURE_2D,me),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,me,0);try{Le(se)}finally{C.deleteFramebuffer(se),C.bindFramebuffer(C.FRAMEBUFFER,re[--re.length-1]||null)}},Fe=function(){K={},W={},ee={},q=-1,re.length=0};var B=typeof WebGL2RenderingContext<"u"&&C instanceof WebGL2RenderingContext,K={},W={},ee={},q=-1,re=[];C.canvas.addEventListener("webglcontextlost",function(me){Fe(),me.preventDefault()},!1),s.set(C,O={gl:C,isWebGL2:B,getExtension:fe,withProgram:le,withTexture:oe,withTextureFramebuffer:De,handleContextLoss:Fe})}I(O)}function m(j,I,C,O,B,K,W,ee){W===void 0&&(W=15),ee===void 0&&(ee=null),c(j,function(q){var re=q.gl,fe=q.withProgram,we=q.withTexture;we("copy",function(le,oe){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,B,K,0,re.RGBA,re.UNSIGNED_BYTE,I),fe("copy",l,u,function(De){var Fe=De.setUniform,me=De.setAttribute;me("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Fe("1i","image",oe),re.bindFramebuffer(re.FRAMEBUFFER,ee||null),re.disable(re.BLEND),re.colorMask(W&8,W&4,W&2,W&1),re.viewport(C,O,B,K),re.scissor(C,O,B,K),re.drawArrays(re.TRIANGLES,0,3)})})})}function y(j,I,C){var O=j.width,B=j.height;c(j,function(K){var W=K.gl,ee=new Uint8Array(O*B*4);W.readPixels(0,0,O,B,W.RGBA,W.UNSIGNED_BYTE,ee),j.width=I,j.height=C,m(W,ee,0,0,O,B)})}var S=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:m,resizeWebGLCanvasWithoutClearing:y});function w(j,I,C,O,B,K){K===void 0&&(K=1);var W=new Uint8Array(j*I),ee=O[2]-O[0],q=O[3]-O[1],re=[];n(C,function(me,Te,Le,se){re.push({x1:me,y1:Te,x2:Le,y2:se,minX:Math.min(me,Le),minY:Math.min(Te,se),maxX:Math.max(me,Le),maxY:Math.max(Te,se)})}),re.sort(function(me,Te){return me.maxX-Te.maxX});for(var fe=0;fe<j;fe++)for(var we=0;we<I;we++){var le=De(O[0]+ee*(fe+.5)/j,O[1]+q*(we+.5)/I),oe=Math.pow(1-Math.abs(le)/B,K)/2;le<0&&(oe=1-oe),oe=Math.max(0,Math.min(255,Math.round(oe*255))),W[we*j+fe]=oe}return W;function De(me,Te){for(var Le=1/0,se=1/0,Ee=re.length;Ee--;){var ge=re[Ee];if(ge.maxX+se<=me)break;if(me+se>ge.minX&&Te-se<ge.maxY&&Te+se>ge.minY){var te=k(me,Te,ge.x1,ge.y1,ge.x2,ge.y2);te<Le&&(Le=te,se=Math.sqrt(Le))}}return Fe(me,Te)&&(se=-se),se}function Fe(me,Te){for(var Le=0,se=re.length;se--;){var Ee=re[se];if(Ee.maxX<=me)break;var ge=Ee.y1>Te!=Ee.y2>Te&&me<(Ee.x2-Ee.x1)*(Te-Ee.y1)/(Ee.y2-Ee.y1)+Ee.x1;ge&&(Le+=Ee.y1<Ee.y2?1:-1)}return Le!==0}}function _(j,I,C,O,B,K,W,ee,q,re){K===void 0&&(K=1),ee===void 0&&(ee=0),q===void 0&&(q=0),re===void 0&&(re=0),x(j,I,C,O,B,K,W,null,ee,q,re)}function x(j,I,C,O,B,K,W,ee,q,re,fe){K===void 0&&(K=1),q===void 0&&(q=0),re===void 0&&(re=0),fe===void 0&&(fe=0);for(var we=w(j,I,C,O,B,K),le=new Uint8Array(we.length*4),oe=0;oe<we.length;oe++)le[oe*4+fe]=we[oe];m(W,le,q,re,j,I,1<<3-fe,ee)}function k(j,I,C,O,B,K){var W=B-C,ee=K-O,q=W*W+ee*ee,re=q?Math.max(0,Math.min(1,((j-C)*W+(I-O)*ee)/q)):0,fe=j-(C+re*W),we=I-(O+re*ee);return fe*fe+we*we}var E=Object.freeze({__proto__:null,generate:w,generateIntoCanvas:_,generateIntoFramebuffer:x}),T="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",U="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),b=null,N=!1,V={},z=new WeakMap;function J(j){if(!N&&!ie(j))throw new Error("WebGL generation not supported")}function D(j,I,C,O,B,K,W){if(K===void 0&&(K=1),W===void 0&&(W=null),!W&&(W=b,!W)){var ee=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ee)throw new Error("OffscreenCanvas or DOM canvas not supported");W=b=ee.getContext("webgl",{depth:!1})}J(W);var q=new Uint8Array(j*I*4);c(W,function(le){var oe=le.gl,De=le.withTexture,Fe=le.withTextureFramebuffer;De("readable",function(me,Te){oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,j,I,0,oe.RGBA,oe.UNSIGNED_BYTE,null),Fe(me,Te,function(Le){H(j,I,C,O,B,K,oe,Le,0,0,0),oe.readPixels(0,0,j,I,oe.RGBA,oe.UNSIGNED_BYTE,q)})})});for(var re=new Uint8Array(j*I),fe=0,we=0;fe<q.length;fe+=4)re[we++]=q[fe];return re}function X(j,I,C,O,B,K,W,ee,q,re){K===void 0&&(K=1),ee===void 0&&(ee=0),q===void 0&&(q=0),re===void 0&&(re=0),H(j,I,C,O,B,K,W,null,ee,q,re)}function H(j,I,C,O,B,K,W,ee,q,re,fe){K===void 0&&(K=1),q===void 0&&(q=0),re===void 0&&(re=0),fe===void 0&&(fe=0),J(W);var we=[];n(C,function(le,oe,De,Fe){we.push(le,oe,De,Fe)}),we=new Float32Array(we),c(W,function(le){var oe=le.gl,De=le.isWebGL2,Fe=le.getExtension,me=le.withProgram,Te=le.withTexture,Le=le.withTextureFramebuffer,se=le.handleContextLoss;if(Te("rawDistances",function(Ee,ge){(j!==Ee._lastWidth||I!==Ee._lastHeight)&&oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,Ee._lastWidth=j,Ee._lastHeight=I,0,oe.RGBA,oe.UNSIGNED_BYTE,null),me("main",T,U,function(te){var Ne=te.setAttribute,ve=te.setUniform,ye=!De&&Fe("ANGLE_instanced_arrays"),he=!De&&Fe("EXT_blend_minmax");Ne("aUV",2,oe.STATIC_DRAW,0,A),Ne("aLineSegment",4,oe.DYNAMIC_DRAW,1,we),ve.apply(void 0,["4f","uGlyphBounds"].concat(O)),ve("1f","uMaxDistance",B),ve("1f","uExponent",K),Le(Ee,ge,function(Ze){oe.enable(oe.BLEND),oe.colorMask(!0,!0,!0,!0),oe.viewport(0,0,j,I),oe.scissor(0,0,j,I),oe.blendFunc(oe.ONE,oe.ONE),oe.blendEquationSeparate(oe.FUNC_ADD,De?oe.MAX:he.MAX_EXT),oe.clear(oe.COLOR_BUFFER_BIT),De?oe.drawArraysInstanced(oe.TRIANGLES,0,3,we.length/4):ye.drawArraysInstancedANGLE(oe.TRIANGLES,0,3,we.length/4)})}),me("post",l,M,function(te){te.setAttribute("aUV",2,oe.STATIC_DRAW,0,A),te.setUniform("1i","tex",ge),oe.bindFramebuffer(oe.FRAMEBUFFER,ee),oe.disable(oe.BLEND),oe.colorMask(fe===0,fe===1,fe===2,fe===3),oe.viewport(q,re,j,I),oe.scissor(q,re,j,I),oe.drawArrays(oe.TRIANGLES,0,3)})}),oe.isContextLost())throw se(),new Error("webgl context lost")})}function ie(j){var I=!j||j===b?V:j.canvas||j,C=z.get(I);if(C===void 0){N=!0;var O=null;try{var B=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],K=D(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);C=K&&B.length===K.length&&K.every(function(W,ee){return W===B[ee]}),C||(O="bad trial run results",console.info(B,K))}catch(W){C=!1,O=W.message}O&&console.warn("WebGL SDF generation not supported:",O),N=!1,z.set(I,C)}return C}var $=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:X,generateIntoFramebuffer:H,isSupported:ie});function ce(j,I,C,O,B,K){B===void 0&&(B=Math.max(O[2]-O[0],O[3]-O[1])/2),K===void 0&&(K=1);try{return D.apply($,arguments)}catch(W){return console.info("WebGL SDF generation failed, falling back to JS",W),w.apply(E,arguments)}}function Y(j,I,C,O,B,K,W,ee,q,re){B===void 0&&(B=Math.max(O[2]-O[0],O[3]-O[1])/2),K===void 0&&(K=1),ee===void 0&&(ee=0),q===void 0&&(q=0),re===void 0&&(re=0);try{return X.apply($,arguments)}catch(fe){return console.info("WebGL SDF generation failed, falling back to JS",fe),_.apply(E,arguments)}}return r.forEachPathCommand=o,r.generate=ce,r.generateIntoCanvas=Y,r.javascript=E,r.pathToLineSegments=n,r.webgl=$,r.webglUtils=S,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return h}function Wh(){var h=function(r){var v={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},f={},o={};f.L=1,o[1]="L",Object.keys(v).forEach(function(se,Ee){f[se]=1<<Ee+1,o[f[se]]=se}),Object.freeze(f);var n=f.LRI|f.RLI|f.FSI,l=f.L|f.R|f.AL,u=f.B|f.S|f.WS|f.ON|f.FSI|f.LRI|f.RLI|f.PDI,s=f.BN|f.RLE|f.LRE|f.RLO|f.LRO|f.PDF,d=f.S|f.WS|f.B|n|f.PDI|s,c=null;function m(){if(!c){c=new Map;var se=function(ge){if(v.hasOwnProperty(ge)){var te=0;v[ge].split(",").forEach(function(Ne){var ve=Ne.split("+"),ye=ve[0],he=ve[1];ye=parseInt(ye,36),he=he?parseInt(he,36):0,c.set(te+=ye,f[ge]);for(var Ze=0;Ze<he;Ze++)c.set(++te,f[ge])})}};for(var Ee in v)se(Ee)}}function y(se){return m(),c.get(se.codePointAt(0))||f.L}function S(se){return o[y(se)]}var w={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function _(se,Ee){var ge=36,te=0,Ne=new Map,ve=Ee&&new Map,ye;return se.split(",").forEach(function he(Ze){if(Ze.indexOf("+")!==-1)for(var ke=+Ze;ke--;)he(ye);else{ye=Ze;var Pe=Ze.split(">"),Oe=Pe[0],Be=Pe[1];Oe=String.fromCodePoint(te+=parseInt(Oe,ge)),Be=String.fromCodePoint(te+=parseInt(Be,ge)),Ne.set(Oe,Be),Ee&&ve.set(Be,Oe)}}),{map:Ne,reverseMap:ve}}var x,k,E;function T(){if(!x){var se=_(w.pairs,!0),Ee=se.map,ge=se.reverseMap;x=Ee,k=ge,E=_(w.canonical,!1).map}}function U(se){return T(),x.get(se)||null}function M(se){return T(),k.get(se)||null}function A(se){return T(),E.get(se)||null}var b=f.L,N=f.R,V=f.EN,z=f.ES,J=f.ET,D=f.AN,X=f.CS,H=f.B,ie=f.S,$=f.ON,ce=f.BN,Y=f.NSM,j=f.AL,I=f.LRO,C=f.RLO,O=f.LRE,B=f.RLE,K=f.PDF,W=f.LRI,ee=f.RLI,q=f.FSI,re=f.PDI;function fe(se,Ee){for(var ge=125,te=new Uint32Array(se.length),Ne=0;Ne<se.length;Ne++)te[Ne]=y(se[Ne]);var ve=new Map;function ye(Ut,Vt){var gt=te[Ut];te[Ut]=Vt,ve.set(gt,ve.get(gt)-1),gt&u&&ve.set(u,ve.get(u)-1),ve.set(Vt,(ve.get(Vt)||0)+1),Vt&u&&ve.set(u,(ve.get(u)||0)+1)}for(var he=new Uint8Array(se.length),Ze=new Map,ke=[],Pe=null,Oe=0;Oe<se.length;Oe++)Pe||ke.push(Pe={start:Oe,end:se.length-1,level:Ee==="rtl"?1:Ee==="ltr"?0:Hr(Oe,!1)}),te[Oe]&H&&(Pe.end=Oe,Pe=null);for(var Be=B|O|C|I|n|re|K|H,rt=function(Ut){return Ut+(Ut&1?1:2)},lt=function(Ut){return Ut+(Ut&1?2:1)},Ve=0;Ve<ke.length;Ve++){Pe=ke[Ve];var We=[{_level:Pe.level,_override:0,_isolate:0}],Me=void 0,R=0,ne=0,xe=0;ve.clear();for(var Ce=Pe.start;Ce<=Pe.end;Ce++){var Se=te[Ce];if(Me=We[We.length-1],ve.set(Se,(ve.get(Se)||0)+1),Se&u&&ve.set(u,(ve.get(u)||0)+1),Se&Be)if(Se&(B|O)){he[Ce]=Me._level;var Ye=(Se===B?lt:rt)(Me._level);Ye<=ge&&!R&&!ne?We.push({_level:Ye,_override:0,_isolate:0}):R||ne++}else if(Se&(C|I)){he[Ce]=Me._level;var xt=(Se===C?lt:rt)(Me._level);xt<=ge&&!R&&!ne?We.push({_level:xt,_override:Se&C?N:b,_isolate:0}):R||ne++}else if(Se&n){Se&q&&(Se=Hr(Ce+1,!0)===1?ee:W),he[Ce]=Me._level,Me._override&&ye(Ce,Me._override);var ot=(Se===ee?lt:rt)(Me._level);ot<=ge&&R===0&&ne===0?(xe++,We.push({_level:ot,_override:0,_isolate:1,_isolInitIndex:Ce})):R++}else if(Se&re){if(R>0)R--;else if(xe>0){for(ne=0;!We[We.length-1]._isolate;)We.pop();var He=We[We.length-1]._isolInitIndex;He!=null&&(Ze.set(He,Ce),Ze.set(Ce,He)),We.pop(),xe--}Me=We[We.length-1],he[Ce]=Me._level,Me._override&&ye(Ce,Me._override)}else Se&K?(R===0&&(ne>0?ne--:!Me._isolate&&We.length>1&&(We.pop(),Me=We[We.length-1])),he[Ce]=Me._level):Se&H&&(he[Ce]=Pe.level);else he[Ce]=Me._level,Me._override&&Se!==ce&&ye(Ce,Me._override)}for(var qe=[],Je=null,ze=Pe.start;ze<=Pe.end;ze++){var $e=te[ze];if(!($e&s)){var ct=he[ze],dt=$e&n,mt=$e===re;Je&&ct===Je._level?(Je._end=ze,Je._endsWithIsolInit=dt):qe.push(Je={_start:ze,_end:ze,_level:ct,_startsWithPDI:mt,_endsWithIsolInit:dt})}}for(var $t=[],En=0;En<qe.length;En++){var en=qe[En];if(!en._startsWithPDI||en._startsWithPDI&&!Ze.has(en._start)){for(var Rn=[Je=en],tn=void 0;Je&&Je._endsWithIsolInit&&(tn=Ze.get(Je._end))!=null;)for(var Tn=En+1;Tn<qe.length;Tn++)if(qe[Tn]._start===tn){Rn.push(Je=qe[Tn]);break}for(var Lt=[],Wn=0;Wn<Rn.length;Wn++)for(var qo=Rn[Wn],po=qo._start;po<=qo._end;po++)Lt.push(po);for(var ha=he[Lt[0]],$o=Pe.level,pr=Lt[0]-1;pr>=0;pr--)if(!(te[pr]&s)){$o=he[pr];break}var vo=Lt[Lt.length-1],pa=he[vo],ei=Pe.level;if(!(te[vo]&n)){for(var Fr=vo+1;Fr<=Pe.end;Fr++)if(!(te[Fr]&s)){ei=he[Fr];break}}$t.push({_seqIndices:Lt,_sosType:Math.max($o,ha)%2?N:b,_eosType:Math.max(ei,pa)%2?N:b})}}for(var mo=0;mo<$t.length;mo++){var go=$t[mo],Ue=go._seqIndices,kn=go._sosType,yo=go._eosType,Dn=he[Ue[0]]&1?N:b;if(ve.get(Y))for(var Ir=0;Ir<Ue.length;Ir++){var br=Ue[Ir];if(te[br]&Y){for(var Ln=kn,nn=Ir-1;nn>=0;nn--)if(!(te[Ue[nn]]&s)){Ln=te[Ue[nn]];break}ye(br,Ln&(n|re)?$:Ln)}}if(ve.get(V))for(var it=0;it<Ue.length;it++){var at=Ue[it];if(te[at]&V)for(var rn=it-1;rn>=-1;rn--){var Et=rn===-1?kn:te[Ue[rn]];if(Et&l){Et===j&&ye(at,D);break}}}if(ve.get(j))for(var kt=0;kt<Ue.length;kt++){var An=Ue[kt];te[An]&j&&ye(An,N)}if(ve.get(z)||ve.get(X))for(var pn=1;pn<Ue.length-1;pn++){var Pt=Ue[pn];if(te[Pt]&(z|X)){for(var Pn=0,zr=0,Nr=pn-1;Nr>=0&&(Pn=te[Ue[Nr]],!!(Pn&s));Nr--);for(var tr=pn+1;tr<Ue.length&&(zr=te[Ue[tr]],!!(zr&s));tr++);Pn===zr&&(te[Pt]===z?Pn===V:Pn&(V|D))&&ye(Pt,Pn)}}if(ve.get(V))for(var on=0;on<Ue.length;on++){var an=Ue[on];if(te[an]&V){for(var Br=on-1;Br>=0&&te[Ue[Br]]&(J|s);Br--)ye(Ue[Br],V);for(on++;on<Ue.length&&te[Ue[on]]&(J|s|V);on++)te[Ue[on]]!==V&&ye(Ue[on],V)}}if(ve.get(J)||ve.get(z)||ve.get(X))for(var vr=0;vr<Ue.length;vr++){var ti=Ue[vr];if(te[ti]&(J|z|X)){ye(ti,$);for(var Hn=vr-1;Hn>=0&&te[Ue[Hn]]&s;Hn--)ye(Ue[Hn],$);for(var Vn=vr+1;Vn<Ue.length&&te[Ue[Vn]]&s;Vn++)ye(Ue[Vn],$)}}if(ve.get(V))for(var Yn=0,mr=kn;Yn<Ue.length;Yn++){var ni=Ue[Yn],So=te[ni];So&V?mr===b&&ye(ni,b):So&l&&(mr=So)}if(ve.get(u)){var Xn=N|V|D,jr=Xn|b,On=[];{for(var nr=[],Fn=0;Fn<Ue.length;Fn++)if(te[Ue[Fn]]&u){var Ke=se[Ue[Fn]],wo=void 0;if(U(Ke)!==null)if(nr.length<63)nr.push({char:Ke,seqIndex:Fn});else break;else if((wo=M(Ke))!==null)for(var Qn=nr.length-1;Qn>=0;Qn--){var Gr=nr[Qn].char;if(Gr===wo||Gr===M(A(Ke))||U(A(Gr))===Ke){On.push([nr[Qn].seqIndex,Fn]),nr.length=Qn;break}}}On.sort(function(Ut,Vt){return Ut[0]-Vt[0]})}for(var _o=0;_o<On.length;_o++){for(var ri=On[_o],ht=ri[0],gr=ri[1],oi=!1,Gt=0,xo=ht+1;xo<gr;xo++){var yr=Ue[xo];if(te[yr]&jr){oi=!0;var ln=te[yr]&Xn?N:b;if(ln===Dn){Gt=ln;break}}}if(oi&&!Gt){Gt=kn;for(var Eo=ht-1;Eo>=0;Eo--){var ii=Ue[Eo];if(te[ii]&jr){var sn=te[ii]&Xn?N:b;sn!==Dn?Gt=sn:Gt=Dn;break}}}if(Gt){if(te[Ue[ht]]=te[Ue[gr]]=Gt,Gt!==Dn){for(var Wt=ht+1;Wt<Ue.length;Wt++)if(!(te[Ue[Wt]]&s)){y(se[Ue[Wt]])&Y&&(te[Ue[Wt]]=Gt);break}}if(Gt!==Dn){for(var In=gr+1;In<Ue.length;In++)if(!(te[Ue[In]]&s)){y(se[Ue[In]])&Y&&(te[Ue[In]]=Gt);break}}}}for(var vn=0;vn<Ue.length;vn++)if(te[Ue[vn]]&u){for(var To=vn,ko=vn,Kt=kn,Sr=vn-1;Sr>=0;Sr--)if(te[Ue[Sr]]&s)To=Sr;else{Kt=te[Ue[Sr]]&Xn?N:b;break}for(var wr=yo,_r=vn+1;_r<Ue.length;_r++)if(te[Ue[_r]]&(u|s))ko=_r;else{wr=te[Ue[_r]]&Xn?N:b;break}for(var Ht=To;Ht<=ko;Ht++)te[Ue[Ht]]=Kt===wr?Kt:Dn;vn=ko}}}for(var Ct=Pe.start;Ct<=Pe.end;Ct++){var Wr=he[Ct],Cn=te[Ct];if(Wr&1?Cn&(b|V|D)&&he[Ct]++:Cn&N?he[Ct]++:Cn&(D|V)&&(he[Ct]+=2),Cn&s&&(he[Ct]=Ct===0?Pe.level:he[Ct-1]),Ct===Pe.end||y(se[Ct])&(ie|H))for(var rr=Ct;rr>=0&&y(se[rr])&d;rr--)he[rr]=Pe.level}}return{levels:he,paragraphs:ke};function Hr(Ut,Vt){for(var gt=Ut;gt<se.length;gt++){var yt=te[gt];if(yt&(N|j))return 1;if(yt&(H|b)||Vt&&yt===re)return 0;if(yt&n){var un=ai(gt);gt=un===-1?se.length:un}}return 0}function ai(Ut){for(var Vt=1,gt=Ut+1;gt<se.length;gt++){var yt=te[gt];if(yt&H)break;if(yt&re){if(--Vt===0)return gt}else yt&n&&Vt++}return-1}}var we="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",le;function oe(){if(!le){var se=_(we,!0),Ee=se.map,ge=se.reverseMap;ge.forEach(function(te,Ne){Ee.set(Ne,te)}),le=Ee}}function De(se){return oe(),le.get(se)||null}function Fe(se,Ee,ge,te){var Ne=se.length;ge=Math.max(0,ge==null?0:+ge),te=Math.min(Ne-1,te==null?Ne-1:+te);for(var ve=new Map,ye=ge;ye<=te;ye++)if(Ee[ye]&1){var he=De(se[ye]);he!==null&&ve.set(ye,he)}return ve}function me(se,Ee,ge,te){var Ne=se.length;ge=Math.max(0,ge==null?0:+ge),te=Math.min(Ne-1,te==null?Ne-1:+te);var ve=[];return Ee.paragraphs.forEach(function(ye){var he=Math.max(ge,ye.start),Ze=Math.min(te,ye.end);if(he<Ze){for(var ke=Ee.levels.slice(he,Ze+1),Pe=Ze;Pe>=he&&y(se[Pe])&d;Pe--)ke[Pe]=ye.level;for(var Oe=ye.level,Be=1/0,rt=0;rt<ke.length;rt++){var lt=ke[rt];lt>Oe&&(Oe=lt),lt<Be&&(Be=lt|1)}for(var Ve=Oe;Ve>=Be;Ve--)for(var We=0;We<ke.length;We++)if(ke[We]>=Ve){for(var Me=We;We+1<ke.length&&ke[We+1]>=Ve;)We++;We>Me&&ve.push([Me+he,We+he])}}}),ve}function Te(se,Ee,ge,te){var Ne=Le(se,Ee,ge,te),ve=[].concat(se);return Ne.forEach(function(ye,he){ve[he]=(Ee.levels[ye]&1?De(se[ye]):null)||se[ye]}),ve.join("")}function Le(se,Ee,ge,te){for(var Ne=me(se,Ee,ge,te),ve=[],ye=0;ye<se.length;ye++)ve[ye]=ye;return Ne.forEach(function(he){for(var Ze=he[0],ke=he[1],Pe=ve.slice(Ze,ke+1),Oe=Pe.length;Oe--;)ve[ke-Oe]=Pe[Oe]}),ve}return r.closingToOpeningBracket=M,r.getBidiCharType=y,r.getBidiCharTypeName=S,r.getCanonicalBracket=A,r.getEmbeddingLevels=fe,r.getMirroredCharacter=De,r.getMirroredCharactersMap=Fe,r.getReorderSegments=me,r.getReorderedIndices=Le,r.getReorderedString=Te,r.openingToClosingBracket=U,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return h}const tf=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Il(h){const r=/^[ \t]*#include +<([\w\d./]+)>/gm;function v(f,o){let n=ld[o];return n?Il(n):f}return h.replace(r,v)}const It=[];for(let h=0;h<256;h++)It[h]=(h<16?"0":"")+h.toString(16);function Hh(){const h=Math.random()*4294967295|0,r=Math.random()*4294967295|0,v=Math.random()*4294967295|0,f=Math.random()*4294967295|0;return(It[h&255]+It[h>>8&255]+It[h>>16&255]+It[h>>24&255]+"-"+It[r&255]+It[r>>8&255]+"-"+It[r>>16&15|64]+It[r>>24&255]+"-"+It[v&63|128]+It[v>>8&255]+"-"+It[v>>16&255]+It[v>>24&255]+It[f&255]+It[f>>8&255]+It[f>>16&255]+It[f>>24&255]).toUpperCase()}const Dr=Object.assign||function(){let h=arguments[0];for(let r=1,v=arguments.length;r<v;r++){let f=arguments[r];if(f)for(let o in f)Object.prototype.hasOwnProperty.call(f,o)&&(h[o]=f[o])}return h},Vh=Date.now(),oc=new WeakMap,ic=new Map;let Yh=1e10;function bl(h,r){const v=Jh(r);let f=oc.get(h);if(f||oc.set(h,f=Object.create(null)),f[v])return new f[v];const o=`_onBeforeCompile${v}`,n=function(d,c){h.onBeforeCompile.call(this,d,c);const m=this.customProgramCacheKey()+"|"+d.vertexShader+"|"+d.fragmentShader;let y=ic[m];if(!y){const S=Xh(this,d,r,v);y=ic[m]=S}d.vertexShader=y.vertexShader,d.fragmentShader=y.fragmentShader,Dr(d.uniforms,this.uniforms),r.timeUniform&&(d.uniforms[r.timeUniform]={get value(){return Date.now()-Vh}}),this[o]&&this[o](d)},l=function(){return u(r.chained?h:h.clone())},u=function(d){const c=Object.create(d,s);return Object.defineProperty(c,"baseMaterial",{value:h}),Object.defineProperty(c,"id",{value:Yh++}),c.uuid=Hh(),c.uniforms=Dr({},d.uniforms,r.uniforms),c.defines=Dr({},d.defines,r.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${v}`]="",c.extensions=Dr({},d.extensions,r.extensions),c._listeners=void 0,c},s={constructor:{value:l},isDerivedMaterial:{value:!0},type:{get:()=>h.type,set:d=>{h.type=d}},isDerivedFrom:{writable:!0,configurable:!0,value:function(d){const c=this.baseMaterial;return d===c||c.isDerivedMaterial&&c.isDerivedFrom(d)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return h.customProgramCacheKey()+"|"+v}},onBeforeCompile:{get(){return n},set(d){this[o]=d}},copy:{writable:!0,configurable:!0,value:function(d){return h.copy.call(this,d),!h.isShaderMaterial&&!h.isDerivedMaterial&&(Dr(this.extensions,d.extensions),Dr(this.defines,d.defines),Dr(this.uniforms,sa.clone(d.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const d=new h.constructor;return u(d).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let d=this._depthMaterial;return d||(d=this._depthMaterial=bl(h.isDerivedMaterial?h.getDepthMaterial():new od({depthPacking:id}),r),d.defines.IS_DEPTH_MATERIAL="",d.uniforms=this.uniforms),d}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let d=this._distanceMaterial;return d||(d=this._distanceMaterial=bl(h.isDerivedMaterial?h.getDistanceMaterial():new ad,r),d.defines.IS_DISTANCE_MATERIAL="",d.uniforms=this.uniforms),d}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:d,_distanceMaterial:c}=this;d&&d.dispose(),c&&c.dispose(),h.dispose.call(this)}}};return f[v]=l,new l}function Xh(h,{vertexShader:r,fragmentShader:v},f,o){let{vertexDefs:n,vertexMainIntro:l,vertexMainOutro:u,vertexTransform:s,fragmentDefs:d,fragmentMainIntro:c,fragmentMainOutro:m,fragmentColorTransform:y,customRewriter:S,timeUniform:w}=f;if(n=n||"",l=l||"",u=u||"",d=d||"",c=c||"",m=m||"",(s||S)&&(r=Il(r)),(y||S)&&(v=v.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),v=Il(v)),S){let _=S({vertexShader:r,fragmentShader:v});r=_.vertexShader,v=_.fragmentShader}if(y){let _=[];v=v.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(_.push(x),"")),m=`${y}
${_.join(`
`)}
${m}`}if(w){const _=`
uniform float ${w};
`;n=_+n,d=_+d}return s&&(r=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${r}
`,n=`${n}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,l=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${l}
`,r=r.replace(/\b(position|normal|uv)\b/g,(_,x,k,E)=>/\battribute\s+vec[23]\s+$/.test(E.substr(0,k))?x:`troika_${x}_${o}`),h.map&&h.map.channel>0||(r=r.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),r=ac(r,o,n,l,u),v=ac(v,o,d,c,m),{vertexShader:r,fragmentShader:v}}function ac(h,r,v,f,o){return(f||o||v)&&(h=h.replace(tf,`
${v}
void troikaOrigMain${r}() {`),h+=`
void main() {
  ${f}
  troikaOrigMain${r}();
  ${o}
}`),h}function Qh(h,r){return h==="uniforms"?void 0:typeof r=="function"?r.toString():r}let Kh=0;const lc=new Map;function Jh(h){const r=JSON.stringify(h,Qh);let v=lc.get(r);return v==null&&lc.set(r,v=++Kh),v}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Zh(){return typeof window>"u"&&(self.window=self),function(h){var r={parse:function(o){var n=r._bin,l=new Uint8Array(o);if(n.readASCII(l,0,4)=="ttcf"){var u=4;n.readUshort(l,u),u+=2,n.readUshort(l,u),u+=2;var s=n.readUint(l,u);u+=4;for(var d=[],c=0;c<s;c++){var m=n.readUint(l,u);u+=4,d.push(r._readFont(l,m))}return d}return[r._readFont(l,0)]},_readFont:function(o,n){var l=r._bin,u=n;l.readFixed(o,n),n+=4;var s=l.readUshort(o,n);n+=2,l.readUshort(o,n),n+=2,l.readUshort(o,n),n+=2,l.readUshort(o,n),n+=2;for(var d=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:o,_offset:u},m={},y=0;y<s;y++){var S=l.readASCII(o,n,4);n+=4,l.readUint(o,n),n+=4;var w=l.readUint(o,n);n+=4;var _=l.readUint(o,n);n+=4,m[S]={offset:w,length:_}}for(y=0;y<d.length;y++){var x=d[y];m[x]&&(c[x.trim()]=r[x.trim()].parse(o,m[x].offset,m[x].length,c))}return c},_tabOffset:function(o,n,l){for(var u=r._bin,s=u.readUshort(o,l+4),d=l+12,c=0;c<s;c++){var m=u.readASCII(o,d,4);d+=4,u.readUint(o,d),d+=4;var y=u.readUint(o,d);if(d+=4,u.readUint(o,d),d+=4,m==n)return y}return 0}};r._bin={readFixed:function(o,n){return(o[n]<<8|o[n+1])+(o[n+2]<<8|o[n+3])/65540},readF2dot14:function(o,n){return r._bin.readShort(o,n)/16384},readInt:function(o,n){return r._bin._view(o).getInt32(n)},readInt8:function(o,n){return r._bin._view(o).getInt8(n)},readShort:function(o,n){return r._bin._view(o).getInt16(n)},readUshort:function(o,n){return r._bin._view(o).getUint16(n)},readUshorts:function(o,n,l){for(var u=[],s=0;s<l;s++)u.push(r._bin.readUshort(o,n+2*s));return u},readUint:function(o,n){return r._bin._view(o).getUint32(n)},readUint64:function(o,n){return 4294967296*r._bin.readUint(o,n)+r._bin.readUint(o,n+4)},readASCII:function(o,n,l){for(var u="",s=0;s<l;s++)u+=String.fromCharCode(o[n+s]);return u},readUnicode:function(o,n,l){for(var u="",s=0;s<l;s++){var d=o[n++]<<8|o[n++];u+=String.fromCharCode(d)}return u},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,n,l){var u=r._bin._tdec;return u&&n==0&&l==o.length?u.decode(o):r._bin.readASCII(o,n,l)},readBytes:function(o,n,l){for(var u=[],s=0;s<l;s++)u.push(o[n+s]);return u},readASCIIArray:function(o,n,l){for(var u=[],s=0;s<l;s++)u.push(String.fromCharCode(o[n+s]));return u},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},r._lctf={},r._lctf.parse=function(o,n,l,u,s){var d=r._bin,c={},m=n;d.readFixed(o,n),n+=4;var y=d.readUshort(o,n);n+=2;var S=d.readUshort(o,n);n+=2;var w=d.readUshort(o,n);return n+=2,c.scriptList=r._lctf.readScriptList(o,m+y),c.featureList=r._lctf.readFeatureList(o,m+S),c.lookupList=r._lctf.readLookupList(o,m+w,s),c},r._lctf.readLookupList=function(o,n,l){var u=r._bin,s=n,d=[],c=u.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=u.readUshort(o,n);n+=2;var S=r._lctf.readLookupTable(o,s+y,l);d.push(S)}return d},r._lctf.readLookupTable=function(o,n,l){var u=r._bin,s=n,d={tabs:[]};d.ltype=u.readUshort(o,n),n+=2,d.flag=u.readUshort(o,n),n+=2;var c=u.readUshort(o,n);n+=2;for(var m=d.ltype,y=0;y<c;y++){var S=u.readUshort(o,n);n+=2;var w=l(o,m,s+S,d);d.tabs.push(w)}return d},r._lctf.numOfOnes=function(o){for(var n=0,l=0;l<32;l++)o>>>l&1&&n++;return n},r._lctf.readClassDef=function(o,n){var l=r._bin,u=[],s=l.readUshort(o,n);if(n+=2,s==1){var d=l.readUshort(o,n);n+=2;var c=l.readUshort(o,n);n+=2;for(var m=0;m<c;m++)u.push(d+m),u.push(d+m),u.push(l.readUshort(o,n)),n+=2}if(s==2){var y=l.readUshort(o,n);for(n+=2,m=0;m<y;m++)u.push(l.readUshort(o,n)),n+=2,u.push(l.readUshort(o,n)),n+=2,u.push(l.readUshort(o,n)),n+=2}return u},r._lctf.getInterval=function(o,n){for(var l=0;l<o.length;l+=3){var u=o[l],s=o[l+1];if(o[l+2],u<=n&&n<=s)return l}return-1},r._lctf.readCoverage=function(o,n){var l=r._bin,u={};u.fmt=l.readUshort(o,n),n+=2;var s=l.readUshort(o,n);return n+=2,u.fmt==1&&(u.tab=l.readUshorts(o,n,s)),u.fmt==2&&(u.tab=l.readUshorts(o,n,3*s)),u},r._lctf.coverageIndex=function(o,n){var l=o.tab;if(o.fmt==1)return l.indexOf(n);if(o.fmt==2){var u=r._lctf.getInterval(l,n);if(u!=-1)return l[u+2]+(n-l[u])}return-1},r._lctf.readFeatureList=function(o,n){var l=r._bin,u=n,s=[],d=l.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=l.readASCII(o,n,4);n+=4;var y=l.readUshort(o,n);n+=2;var S=r._lctf.readFeatureTable(o,u+y);S.tag=m.trim(),s.push(S)}return s},r._lctf.readFeatureTable=function(o,n){var l=r._bin,u=n,s={},d=l.readUshort(o,n);n+=2,d>0&&(s.featureParams=u+d);var c=l.readUshort(o,n);n+=2,s.tab=[];for(var m=0;m<c;m++)s.tab.push(l.readUshort(o,n+2*m));return s},r._lctf.readScriptList=function(o,n){var l=r._bin,u=n,s={},d=l.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=l.readASCII(o,n,4);n+=4;var y=l.readUshort(o,n);n+=2,s[m.trim()]=r._lctf.readScriptTable(o,u+y)}return s},r._lctf.readScriptTable=function(o,n){var l=r._bin,u=n,s={},d=l.readUshort(o,n);n+=2,d>0&&(s.default=r._lctf.readLangSysTable(o,u+d));var c=l.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=l.readASCII(o,n,4);n+=4;var S=l.readUshort(o,n);n+=2,s[y.trim()]=r._lctf.readLangSysTable(o,u+S)}return s},r._lctf.readLangSysTable=function(o,n){var l=r._bin,u={};l.readUshort(o,n),n+=2,u.reqFeature=l.readUshort(o,n),n+=2;var s=l.readUshort(o,n);return n+=2,u.features=l.readUshorts(o,n,s),u},r.CFF={},r.CFF.parse=function(o,n,l){var u=r._bin;(o=new Uint8Array(o.buffer,n,l))[n=0],o[++n],o[++n],o[++n],n++;var s=[];n=r.CFF.readIndex(o,n,s);for(var d=[],c=0;c<s.length-1;c++)d.push(u.readASCII(o,n+s[c],s[c+1]-s[c]));n+=s[s.length-1];var m=[];n=r.CFF.readIndex(o,n,m);var y=[];for(c=0;c<m.length-1;c++)y.push(r.CFF.readDict(o,n+m[c],n+m[c+1]));n+=m[m.length-1];var S=y[0],w=[];n=r.CFF.readIndex(o,n,w);var _=[];for(c=0;c<w.length-1;c++)_.push(u.readASCII(o,n+w[c],w[c+1]-w[c]));if(n+=w[w.length-1],r.CFF.readSubrs(o,n,S),S.CharStrings){n=S.CharStrings,w=[],n=r.CFF.readIndex(o,n,w);var x=[];for(c=0;c<w.length-1;c++)x.push(u.readBytes(o,n+w[c],w[c+1]-w[c]));S.CharStrings=x}if(S.ROS){n=S.FDArray;var k=[];for(n=r.CFF.readIndex(o,n,k),S.FDArray=[],c=0;c<k.length-1;c++){var E=r.CFF.readDict(o,n+k[c],n+k[c+1]);r.CFF._readFDict(o,E,_),S.FDArray.push(E)}n+=k[k.length-1],n=S.FDSelect,S.FDSelect=[];var T=o[n];if(n++,T!=3)throw T;var U=u.readUshort(o,n);for(n+=2,c=0;c<U+1;c++)S.FDSelect.push(u.readUshort(o,n),o[n+2]),n+=3}return S.Encoding&&(S.Encoding=r.CFF.readEncoding(o,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=r.CFF.readCharset(o,S.charset,S.CharStrings.length)),r.CFF._readFDict(o,S,_),S},r.CFF._readFDict=function(o,n,l){var u;for(var s in n.Private&&(u=n.Private[1],n.Private=r.CFF.readDict(o,u,u+n.Private[0]),n.Private.Subrs&&r.CFF.readSubrs(o,u+n.Private.Subrs,n.Private)),n)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(s)!=-1&&(n[s]=l[n[s]-426+35])},r.CFF.readSubrs=function(o,n,l){var u=r._bin,s=[];n=r.CFF.readIndex(o,n,s);var d,c=s.length;d=c<1240?107:c<33900?1131:32768,l.Bias=d,l.Subrs=[];for(var m=0;m<s.length-1;m++)l.Subrs.push(u.readBytes(o,n+s[m],s[m+1]-s[m]))},r.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],r.CFF.glyphByUnicode=function(o,n){for(var l=0;l<o.charset.length;l++)if(o.charset[l]==n)return l;return-1},r.CFF.glyphBySE=function(o,n){return n<0||n>255?-1:r.CFF.glyphByUnicode(o,r.CFF.tableSE[n])},r.CFF.readEncoding=function(o,n,l){r._bin;var u=[".notdef"],s=o[n];if(n++,s!=0)throw"error: unknown encoding format: "+s;var d=o[n];n++;for(var c=0;c<d;c++)u.push(o[n+c]);return u},r.CFF.readCharset=function(o,n,l){var u=r._bin,s=[".notdef"],d=o[n];if(n++,d==0)for(var c=0;c<l;c++){var m=u.readUshort(o,n);n+=2,s.push(m)}else{if(d!=1&&d!=2)throw"error: format: "+d;for(;s.length<l;){m=u.readUshort(o,n),n+=2;var y=0;for(d==1?(y=o[n],n++):(y=u.readUshort(o,n),n+=2),c=0;c<=y;c++)s.push(m),m++}}return s},r.CFF.readIndex=function(o,n,l){var u=r._bin,s=u.readUshort(o,n)+1,d=o[n+=2];if(n++,d==1)for(var c=0;c<s;c++)l.push(o[n+c]);else if(d==2)for(c=0;c<s;c++)l.push(u.readUshort(o,n+2*c));else if(d==3)for(c=0;c<s;c++)l.push(16777215&u.readUint(o,n+3*c-1));else if(s!=1)throw"unsupported offset size: "+d+", count: "+s;return(n+=s*d)-1},r.CFF.getCharString=function(o,n,l){var u=r._bin,s=o[n],d=o[n+1];o[n+2],o[n+3],o[n+4];var c=1,m=null,y=null;s<=20&&(m=s,c=1),s==12&&(m=100*s+d,c=2),21<=s&&s<=27&&(m=s,c=1),s==28&&(y=u.readShort(o,n+1),c=3),29<=s&&s<=31&&(m=s,c=1),32<=s&&s<=246&&(y=s-139,c=1),247<=s&&s<=250&&(y=256*(s-247)+d+108,c=2),251<=s&&s<=254&&(y=256*-(s-251)-d-108,c=2),s==255&&(y=u.readInt(o,n+1)/65535,c=5),l.val=y??"o"+m,l.size=c},r.CFF.readCharString=function(o,n,l){for(var u=n+l,s=r._bin,d=[];n<u;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,w=null;c<=20&&(S=c,y=1),c==12&&(S=100*c+m,y=2),c!=19&&c!=20||(S=c,y=2),21<=c&&c<=27&&(S=c,y=1),c==28&&(w=s.readShort(o,n+1),y=3),29<=c&&c<=31&&(S=c,y=1),32<=c&&c<=246&&(w=c-139,y=1),247<=c&&c<=250&&(w=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(w=256*-(c-251)-m-108,y=2),c==255&&(w=s.readInt(o,n+1)/65535,y=5),d.push(w??"o"+S),n+=y}return d},r.CFF.readDict=function(o,n,l){for(var u=r._bin,s={},d=[];n<l;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,w=null;if(c==28&&(w=u.readShort(o,n+1),y=3),c==29&&(w=u.readInt(o,n+1),y=5),32<=c&&c<=246&&(w=c-139,y=1),247<=c&&c<=250&&(w=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(w=256*-(c-251)-m-108,y=2),c==255)throw w=u.readInt(o,n+1)/65535,y=5,"unknown number";if(c==30){var _=[];for(y=1;;){var x=o[n+y];y++;var k=x>>4,E=15&x;if(k!=15&&_.push(k),E!=15&&_.push(E),E==15)break}for(var T="",U=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<_.length;M++)T+=U[_[M]];w=parseFloat(T)}c<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],y=1,c==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],y=2)),S!=null?(s[S]=d.length==1?d[0]:d,d=[]):d.push(w),n+=y}return s},r.cmap={},r.cmap.parse=function(o,n,l){o=new Uint8Array(o.buffer,n,l),n=0;var u=r._bin,s={};u.readUshort(o,n),n+=2;var d=u.readUshort(o,n);n+=2;var c=[];s.tables=[];for(var m=0;m<d;m++){var y=u.readUshort(o,n);n+=2;var S=u.readUshort(o,n);n+=2;var w=u.readUint(o,n);n+=4;var _="p"+y+"e"+S,x=c.indexOf(w);if(x==-1){var k;x=s.tables.length,c.push(w);var E=u.readUshort(o,w);E==0?k=r.cmap.parse0(o,w):E==4?k=r.cmap.parse4(o,w):E==6?k=r.cmap.parse6(o,w):E==12?k=r.cmap.parse12(o,w):console.debug("unknown format: "+E,y,S,w),s.tables.push(k)}if(s[_]!=null)throw"multiple tables for one platform+encoding";s[_]=x}return s},r.cmap.parse0=function(o,n){var l=r._bin,u={};u.format=l.readUshort(o,n),n+=2;var s=l.readUshort(o,n);n+=2,l.readUshort(o,n),n+=2,u.map=[];for(var d=0;d<s-6;d++)u.map.push(o[n+d]);return u},r.cmap.parse4=function(o,n){var l=r._bin,u=n,s={};s.format=l.readUshort(o,n),n+=2;var d=l.readUshort(o,n);n+=2,l.readUshort(o,n),n+=2;var c=l.readUshort(o,n);n+=2;var m=c/2;s.searchRange=l.readUshort(o,n),n+=2,s.entrySelector=l.readUshort(o,n),n+=2,s.rangeShift=l.readUshort(o,n),n+=2,s.endCount=l.readUshorts(o,n,m),n+=2*m,n+=2,s.startCount=l.readUshorts(o,n,m),n+=2*m,s.idDelta=[];for(var y=0;y<m;y++)s.idDelta.push(l.readShort(o,n)),n+=2;for(s.idRangeOffset=l.readUshorts(o,n,m),n+=2*m,s.glyphIdArray=[];n<u+d;)s.glyphIdArray.push(l.readUshort(o,n)),n+=2;return s},r.cmap.parse6=function(o,n){var l=r._bin,u={};u.format=l.readUshort(o,n),n+=2,l.readUshort(o,n),n+=2,l.readUshort(o,n),n+=2,u.firstCode=l.readUshort(o,n),n+=2;var s=l.readUshort(o,n);n+=2,u.glyphIdArray=[];for(var d=0;d<s;d++)u.glyphIdArray.push(l.readUshort(o,n)),n+=2;return u},r.cmap.parse12=function(o,n){var l=r._bin,u={};u.format=l.readUshort(o,n),n+=2,n+=2,l.readUint(o,n),n+=4,l.readUint(o,n),n+=4;var s=l.readUint(o,n);n+=4,u.groups=[];for(var d=0;d<s;d++){var c=n+12*d,m=l.readUint(o,c+0),y=l.readUint(o,c+4),S=l.readUint(o,c+8);u.groups.push([m,y,S])}return u},r.glyf={},r.glyf.parse=function(o,n,l,u){for(var s=[],d=0;d<u.maxp.numGlyphs;d++)s.push(null);return s},r.glyf._parseGlyf=function(o,n){var l=r._bin,u=o._data,s=r._tabOffset(u,"glyf",o._offset)+o.loca[n];if(o.loca[n]==o.loca[n+1])return null;var d={};if(d.noc=l.readShort(u,s),s+=2,d.xMin=l.readShort(u,s),s+=2,d.yMin=l.readShort(u,s),s+=2,d.xMax=l.readShort(u,s),s+=2,d.yMax=l.readShort(u,s),s+=2,d.xMin>=d.xMax||d.yMin>=d.yMax)return null;if(d.noc>0){d.endPts=[];for(var c=0;c<d.noc;c++)d.endPts.push(l.readUshort(u,s)),s+=2;var m=l.readUshort(u,s);if(s+=2,u.length-s<m)return null;d.instructions=l.readBytes(u,s,m),s+=m;var y=d.endPts[d.noc-1]+1;for(d.flags=[],c=0;c<y;c++){var S=u[s];if(s++,d.flags.push(S),(8&S)!=0){var w=u[s];s++;for(var _=0;_<w;_++)d.flags.push(S),c++}}for(d.xs=[],c=0;c<y;c++){var x=(2&d.flags[c])!=0,k=(16&d.flags[c])!=0;x?(d.xs.push(k?u[s]:-u[s]),s++):k?d.xs.push(0):(d.xs.push(l.readShort(u,s)),s+=2)}for(d.ys=[],c=0;c<y;c++)x=(4&d.flags[c])!=0,k=(32&d.flags[c])!=0,x?(d.ys.push(k?u[s]:-u[s]),s++):k?d.ys.push(0):(d.ys.push(l.readShort(u,s)),s+=2);var E=0,T=0;for(c=0;c<y;c++)E+=d.xs[c],T+=d.ys[c],d.xs[c]=E,d.ys[c]=T}else{var U;d.parts=[];do{U=l.readUshort(u,s),s+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(d.parts.push(M),M.glyphIndex=l.readUshort(u,s),s+=2,1&U){var A=l.readShort(u,s);s+=2;var b=l.readShort(u,s);s+=2}else A=l.readInt8(u,s),s++,b=l.readInt8(u,s),s++;2&U?(M.m.tx=A,M.m.ty=b):(M.p1=A,M.p2=b),8&U?(M.m.a=M.m.d=l.readF2dot14(u,s),s+=2):64&U?(M.m.a=l.readF2dot14(u,s),s+=2,M.m.d=l.readF2dot14(u,s),s+=2):128&U&&(M.m.a=l.readF2dot14(u,s),s+=2,M.m.b=l.readF2dot14(u,s),s+=2,M.m.c=l.readF2dot14(u,s),s+=2,M.m.d=l.readF2dot14(u,s),s+=2)}while(32&U);if(256&U){var N=l.readUshort(u,s);for(s+=2,d.instr=[],c=0;c<N;c++)d.instr.push(u[s]),s++}}return d},r.GDEF={},r.GDEF.parse=function(o,n,l,u){var s=n;n+=4;var d=r._bin.readUshort(o,n);return{glyphClassDef:d===0?null:r._lctf.readClassDef(o,s+d)}},r.GPOS={},r.GPOS.parse=function(o,n,l,u){return r._lctf.parse(o,n,l,u,r.GPOS.subt)},r.GPOS.subt=function(o,n,l,u){var s=r._bin,d=l,c={};if(c.fmt=s.readUshort(o,l),l+=2,n==1||n==2||n==3||n==7||n==8&&c.fmt<=2){var m=s.readUshort(o,l);l+=2,c.coverage=r._lctf.readCoverage(o,m+d)}if(n==1&&c.fmt==1){var y=s.readUshort(o,l);l+=2,y!=0&&(c.pos=r.GPOS.readValueRecord(o,l,y))}else if(n==2&&c.fmt>=1&&c.fmt<=2){y=s.readUshort(o,l),l+=2;var S=s.readUshort(o,l);l+=2;var w=r._lctf.numOfOnes(y),_=r._lctf.numOfOnes(S);if(c.fmt==1){c.pairsets=[];var x=s.readUshort(o,l);l+=2;for(var k=0;k<x;k++){var E=d+s.readUshort(o,l);l+=2;var T=s.readUshort(o,E);E+=2;for(var U=[],M=0;M<T;M++){var A=s.readUshort(o,E);E+=2,y!=0&&(D=r.GPOS.readValueRecord(o,E,y),E+=2*w),S!=0&&(X=r.GPOS.readValueRecord(o,E,S),E+=2*_),U.push({gid2:A,val1:D,val2:X})}c.pairsets.push(U)}}if(c.fmt==2){var b=s.readUshort(o,l);l+=2;var N=s.readUshort(o,l);l+=2;var V=s.readUshort(o,l);l+=2;var z=s.readUshort(o,l);for(l+=2,c.classDef1=r._lctf.readClassDef(o,d+b),c.classDef2=r._lctf.readClassDef(o,d+N),c.matrix=[],k=0;k<V;k++){var J=[];for(M=0;M<z;M++){var D=null,X=null;y!=0&&(D=r.GPOS.readValueRecord(o,l,y),l+=2*w),S!=0&&(X=r.GPOS.readValueRecord(o,l,S),l+=2*_),J.push({val1:D,val2:X})}c.matrix.push(J)}}}else if(n==4&&c.fmt==1)c.markCoverage=r._lctf.readCoverage(o,s.readUshort(o,l)+d),c.baseCoverage=r._lctf.readCoverage(o,s.readUshort(o,l+2)+d),c.markClassCount=s.readUshort(o,l+4),c.markArray=r.GPOS.readMarkArray(o,s.readUshort(o,l+6)+d),c.baseArray=r.GPOS.readBaseArray(o,s.readUshort(o,l+8)+d,c.markClassCount);else if(n==6&&c.fmt==1)c.mark1Coverage=r._lctf.readCoverage(o,s.readUshort(o,l)+d),c.mark2Coverage=r._lctf.readCoverage(o,s.readUshort(o,l+2)+d),c.markClassCount=s.readUshort(o,l+4),c.mark1Array=r.GPOS.readMarkArray(o,s.readUshort(o,l+6)+d),c.mark2Array=r.GPOS.readBaseArray(o,s.readUshort(o,l+8)+d,c.markClassCount);else{if(n==9&&c.fmt==1){var H=s.readUshort(o,l);l+=2;var ie=s.readUint(o,l);if(l+=4,u.ltype==9)u.ltype=H;else if(u.ltype!=H)throw"invalid extension substitution";return r.GPOS.subt(o,u.ltype,d+ie)}console.debug("unsupported GPOS table LookupType",n,"format",c.fmt)}return c},r.GPOS.readValueRecord=function(o,n,l){var u=r._bin,s=[];return s.push(1&l?u.readShort(o,n):0),n+=1&l?2:0,s.push(2&l?u.readShort(o,n):0),n+=2&l?2:0,s.push(4&l?u.readShort(o,n):0),n+=4&l?2:0,s.push(8&l?u.readShort(o,n):0),n+=8&l?2:0,s},r.GPOS.readBaseArray=function(o,n,l){var u=r._bin,s=[],d=n,c=u.readUshort(o,n);n+=2;for(var m=0;m<c;m++){for(var y=[],S=0;S<l;S++)y.push(r.GPOS.readAnchorRecord(o,d+u.readUshort(o,n))),n+=2;s.push(y)}return s},r.GPOS.readMarkArray=function(o,n){var l=r._bin,u=[],s=n,d=l.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=r.GPOS.readAnchorRecord(o,l.readUshort(o,n+2)+s);m.markClass=l.readUshort(o,n),u.push(m),n+=4}return u},r.GPOS.readAnchorRecord=function(o,n){var l=r._bin,u={};return u.fmt=l.readUshort(o,n),u.x=l.readShort(o,n+2),u.y=l.readShort(o,n+4),u},r.GSUB={},r.GSUB.parse=function(o,n,l,u){return r._lctf.parse(o,n,l,u,r.GSUB.subt)},r.GSUB.subt=function(o,n,l,u){var s=r._bin,d=l,c={};if(c.fmt=s.readUshort(o,l),l+=2,n!=1&&n!=2&&n!=4&&n!=5&&n!=6)return null;if(n==1||n==2||n==4||n==5&&c.fmt<=2||n==6&&c.fmt<=2){var m=s.readUshort(o,l);l+=2,c.coverage=r._lctf.readCoverage(o,d+m)}if(n==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=s.readShort(o,l),l+=2;else if(c.fmt==2){var y=s.readUshort(o,l);l+=2,c.newg=s.readUshorts(o,l,y),l+=2*c.newg.length}}else if(n==2&&c.fmt==1){y=s.readUshort(o,l),l+=2,c.seqs=[];for(var S=0;S<y;S++){var w=s.readUshort(o,l)+d;l+=2;var _=s.readUshort(o,w);c.seqs.push(s.readUshorts(o,w+2,_))}}else if(n==4)for(c.vals=[],y=s.readUshort(o,l),l+=2,S=0;S<y;S++){var x=s.readUshort(o,l);l+=2,c.vals.push(r.GSUB.readLigatureSet(o,d+x))}else if(n==5&&c.fmt==2){if(c.fmt==2){var k=s.readUshort(o,l);l+=2,c.cDef=r._lctf.readClassDef(o,d+k),c.scset=[];var E=s.readUshort(o,l);for(l+=2,S=0;S<E;S++){var T=s.readUshort(o,l);l+=2,c.scset.push(T==0?null:r.GSUB.readSubClassSet(o,d+T))}}}else if(n==6&&c.fmt==3){if(c.fmt==3){for(S=0;S<3;S++){y=s.readUshort(o,l),l+=2;for(var U=[],M=0;M<y;M++)U.push(r._lctf.readCoverage(o,d+s.readUshort(o,l+2*M)));l+=2*y,S==0&&(c.backCvg=U),S==1&&(c.inptCvg=U),S==2&&(c.ahedCvg=U)}y=s.readUshort(o,l),l+=2,c.lookupRec=r.GSUB.readSubstLookupRecords(o,l,y)}}else{if(n==7&&c.fmt==1){var A=s.readUshort(o,l);l+=2;var b=s.readUint(o,l);if(l+=4,u.ltype==9)u.ltype=A;else if(u.ltype!=A)throw"invalid extension substitution";return r.GSUB.subt(o,u.ltype,d+b)}console.debug("unsupported GSUB table LookupType",n,"format",c.fmt)}return c},r.GSUB.readSubClassSet=function(o,n){var l=r._bin.readUshort,u=n,s=[],d=l(o,n);n+=2;for(var c=0;c<d;c++){var m=l(o,n);n+=2,s.push(r.GSUB.readSubClassRule(o,u+m))}return s},r.GSUB.readSubClassRule=function(o,n){var l=r._bin.readUshort,u={},s=l(o,n),d=l(o,n+=2);n+=2,u.input=[];for(var c=0;c<s-1;c++)u.input.push(l(o,n)),n+=2;return u.substLookupRecords=r.GSUB.readSubstLookupRecords(o,n,d),u},r.GSUB.readSubstLookupRecords=function(o,n,l){for(var u=r._bin.readUshort,s=[],d=0;d<l;d++)s.push(u(o,n),u(o,n+2)),n+=4;return s},r.GSUB.readChainSubClassSet=function(o,n){var l=r._bin,u=n,s=[],d=l.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=l.readUshort(o,n);n+=2,s.push(r.GSUB.readChainSubClassRule(o,u+m))}return s},r.GSUB.readChainSubClassRule=function(o,n){for(var l=r._bin,u={},s=["backtrack","input","lookahead"],d=0;d<s.length;d++){var c=l.readUshort(o,n);n+=2,d==1&&c--,u[s[d]]=l.readUshorts(o,n,c),n+=2*u[s[d]].length}return c=l.readUshort(o,n),n+=2,u.subst=l.readUshorts(o,n,2*c),n+=2*u.subst.length,u},r.GSUB.readLigatureSet=function(o,n){var l=r._bin,u=n,s=[],d=l.readUshort(o,n);n+=2;for(var c=0;c<d;c++){var m=l.readUshort(o,n);n+=2,s.push(r.GSUB.readLigature(o,u+m))}return s},r.GSUB.readLigature=function(o,n){var l=r._bin,u={chain:[]};u.nglyph=l.readUshort(o,n),n+=2;var s=l.readUshort(o,n);n+=2;for(var d=0;d<s-1;d++)u.chain.push(l.readUshort(o,n)),n+=2;return u},r.head={},r.head.parse=function(o,n,l){var u=r._bin,s={};return u.readFixed(o,n),n+=4,s.fontRevision=u.readFixed(o,n),n+=4,u.readUint(o,n),n+=4,u.readUint(o,n),n+=4,s.flags=u.readUshort(o,n),n+=2,s.unitsPerEm=u.readUshort(o,n),n+=2,s.created=u.readUint64(o,n),n+=8,s.modified=u.readUint64(o,n),n+=8,s.xMin=u.readShort(o,n),n+=2,s.yMin=u.readShort(o,n),n+=2,s.xMax=u.readShort(o,n),n+=2,s.yMax=u.readShort(o,n),n+=2,s.macStyle=u.readUshort(o,n),n+=2,s.lowestRecPPEM=u.readUshort(o,n),n+=2,s.fontDirectionHint=u.readShort(o,n),n+=2,s.indexToLocFormat=u.readShort(o,n),n+=2,s.glyphDataFormat=u.readShort(o,n),n+=2,s},r.hhea={},r.hhea.parse=function(o,n,l){var u=r._bin,s={};return u.readFixed(o,n),n+=4,s.ascender=u.readShort(o,n),n+=2,s.descender=u.readShort(o,n),n+=2,s.lineGap=u.readShort(o,n),n+=2,s.advanceWidthMax=u.readUshort(o,n),n+=2,s.minLeftSideBearing=u.readShort(o,n),n+=2,s.minRightSideBearing=u.readShort(o,n),n+=2,s.xMaxExtent=u.readShort(o,n),n+=2,s.caretSlopeRise=u.readShort(o,n),n+=2,s.caretSlopeRun=u.readShort(o,n),n+=2,s.caretOffset=u.readShort(o,n),n+=2,n+=8,s.metricDataFormat=u.readShort(o,n),n+=2,s.numberOfHMetrics=u.readUshort(o,n),n+=2,s},r.hmtx={},r.hmtx.parse=function(o,n,l,u){for(var s=r._bin,d={aWidth:[],lsBearing:[]},c=0,m=0,y=0;y<u.maxp.numGlyphs;y++)y<u.hhea.numberOfHMetrics&&(c=s.readUshort(o,n),n+=2,m=s.readShort(o,n),n+=2),d.aWidth.push(c),d.lsBearing.push(m);return d},r.kern={},r.kern.parse=function(o,n,l,u){var s=r._bin,d=s.readUshort(o,n);if(n+=2,d==1)return r.kern.parseV1(o,n-2,l,u);var c=s.readUshort(o,n);n+=2;for(var m={glyph1:[],rval:[]},y=0;y<c;y++){n+=2,l=s.readUshort(o,n),n+=2;var S=s.readUshort(o,n);n+=2;var w=S>>>8;if((w&=15)!=0)throw"unknown kern table format: "+w;n=r.kern.readFormat0(o,n,m)}return m},r.kern.parseV1=function(o,n,l,u){var s=r._bin;s.readFixed(o,n),n+=4;var d=s.readUint(o,n);n+=4;for(var c={glyph1:[],rval:[]},m=0;m<d;m++){s.readUint(o,n),n+=4;var y=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2;var S=y>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;n=r.kern.readFormat0(o,n,c)}return c},r.kern.readFormat0=function(o,n,l){var u=r._bin,s=-1,d=u.readUshort(o,n);n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2;for(var c=0;c<d;c++){var m=u.readUshort(o,n);n+=2;var y=u.readUshort(o,n);n+=2;var S=u.readShort(o,n);n+=2,m!=s&&(l.glyph1.push(m),l.rval.push({glyph2:[],vals:[]}));var w=l.rval[l.rval.length-1];w.glyph2.push(y),w.vals.push(S),s=m}return n},r.loca={},r.loca.parse=function(o,n,l,u){var s=r._bin,d=[],c=u.head.indexToLocFormat,m=u.maxp.numGlyphs+1;if(c==0)for(var y=0;y<m;y++)d.push(s.readUshort(o,n+(y<<1))<<1);if(c==1)for(y=0;y<m;y++)d.push(s.readUint(o,n+(y<<2)));return d},r.maxp={},r.maxp.parse=function(o,n,l){var u=r._bin,s={},d=u.readUint(o,n);return n+=4,s.numGlyphs=u.readUshort(o,n),n+=2,d==65536&&(s.maxPoints=u.readUshort(o,n),n+=2,s.maxContours=u.readUshort(o,n),n+=2,s.maxCompositePoints=u.readUshort(o,n),n+=2,s.maxCompositeContours=u.readUshort(o,n),n+=2,s.maxZones=u.readUshort(o,n),n+=2,s.maxTwilightPoints=u.readUshort(o,n),n+=2,s.maxStorage=u.readUshort(o,n),n+=2,s.maxFunctionDefs=u.readUshort(o,n),n+=2,s.maxInstructionDefs=u.readUshort(o,n),n+=2,s.maxStackElements=u.readUshort(o,n),n+=2,s.maxSizeOfInstructions=u.readUshort(o,n),n+=2,s.maxComponentElements=u.readUshort(o,n),n+=2,s.maxComponentDepth=u.readUshort(o,n),n+=2),s},r.name={},r.name.parse=function(o,n,l){var u=r._bin,s={};u.readUshort(o,n),n+=2;var d=u.readUshort(o,n);n+=2,u.readUshort(o,n);for(var c,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=n+=2,S=0;S<d;S++){var w=u.readUshort(o,n);n+=2;var _=u.readUshort(o,n);n+=2;var x=u.readUshort(o,n);n+=2;var k=u.readUshort(o,n);n+=2;var E=u.readUshort(o,n);n+=2;var T=u.readUshort(o,n);n+=2;var U,M=m[k],A=y+12*d+T;if(w==0)U=u.readUnicode(o,A,E/2);else if(w==3&&_==0)U=u.readUnicode(o,A,E/2);else if(_==0)U=u.readASCII(o,A,E);else if(_==1)U=u.readUnicode(o,A,E/2);else if(_==3)U=u.readUnicode(o,A,E/2);else{if(w!=1)throw"unknown encoding "+_+", platformID: "+w;U=u.readASCII(o,A,E),console.debug("reading unknown MAC encoding "+_+" as ASCII")}var b="p"+w+","+x.toString(16);s[b]==null&&(s[b]={}),s[b][M!==void 0?M:k]=U,s[b]._lang=x}for(var N in s)if(s[N].postScriptName!=null&&s[N]._lang==1033)return s[N];for(var N in s)if(s[N].postScriptName!=null&&s[N]._lang==0)return s[N];for(var N in s)if(s[N].postScriptName!=null&&s[N]._lang==3084)return s[N];for(var N in s)if(s[N].postScriptName!=null)return s[N];for(var N in s){c=N;break}return console.debug("returning name table with languageID "+s[c]._lang),s[c]},r["OS/2"]={},r["OS/2"].parse=function(o,n,l){var u=r._bin.readUshort(o,n);n+=2;var s={};if(u==0)r["OS/2"].version0(o,n,s);else if(u==1)r["OS/2"].version1(o,n,s);else if(u==2||u==3||u==4)r["OS/2"].version2(o,n,s);else{if(u!=5)throw"unknown OS/2 table version: "+u;r["OS/2"].version5(o,n,s)}return s},r["OS/2"].version0=function(o,n,l){var u=r._bin;return l.xAvgCharWidth=u.readShort(o,n),n+=2,l.usWeightClass=u.readUshort(o,n),n+=2,l.usWidthClass=u.readUshort(o,n),n+=2,l.fsType=u.readUshort(o,n),n+=2,l.ySubscriptXSize=u.readShort(o,n),n+=2,l.ySubscriptYSize=u.readShort(o,n),n+=2,l.ySubscriptXOffset=u.readShort(o,n),n+=2,l.ySubscriptYOffset=u.readShort(o,n),n+=2,l.ySuperscriptXSize=u.readShort(o,n),n+=2,l.ySuperscriptYSize=u.readShort(o,n),n+=2,l.ySuperscriptXOffset=u.readShort(o,n),n+=2,l.ySuperscriptYOffset=u.readShort(o,n),n+=2,l.yStrikeoutSize=u.readShort(o,n),n+=2,l.yStrikeoutPosition=u.readShort(o,n),n+=2,l.sFamilyClass=u.readShort(o,n),n+=2,l.panose=u.readBytes(o,n,10),n+=10,l.ulUnicodeRange1=u.readUint(o,n),n+=4,l.ulUnicodeRange2=u.readUint(o,n),n+=4,l.ulUnicodeRange3=u.readUint(o,n),n+=4,l.ulUnicodeRange4=u.readUint(o,n),n+=4,l.achVendID=[u.readInt8(o,n),u.readInt8(o,n+1),u.readInt8(o,n+2),u.readInt8(o,n+3)],n+=4,l.fsSelection=u.readUshort(o,n),n+=2,l.usFirstCharIndex=u.readUshort(o,n),n+=2,l.usLastCharIndex=u.readUshort(o,n),n+=2,l.sTypoAscender=u.readShort(o,n),n+=2,l.sTypoDescender=u.readShort(o,n),n+=2,l.sTypoLineGap=u.readShort(o,n),n+=2,l.usWinAscent=u.readUshort(o,n),n+=2,l.usWinDescent=u.readUshort(o,n),n+=2},r["OS/2"].version1=function(o,n,l){var u=r._bin;return n=r["OS/2"].version0(o,n,l),l.ulCodePageRange1=u.readUint(o,n),n+=4,l.ulCodePageRange2=u.readUint(o,n),n+=4},r["OS/2"].version2=function(o,n,l){var u=r._bin;return n=r["OS/2"].version1(o,n,l),l.sxHeight=u.readShort(o,n),n+=2,l.sCapHeight=u.readShort(o,n),n+=2,l.usDefault=u.readUshort(o,n),n+=2,l.usBreak=u.readUshort(o,n),n+=2,l.usMaxContext=u.readUshort(o,n),n+=2},r["OS/2"].version5=function(o,n,l){var u=r._bin;return n=r["OS/2"].version2(o,n,l),l.usLowerOpticalPointSize=u.readUshort(o,n),n+=2,l.usUpperOpticalPointSize=u.readUshort(o,n),n+=2},r.post={},r.post.parse=function(o,n,l){var u=r._bin,s={};return s.version=u.readFixed(o,n),n+=4,s.italicAngle=u.readFixed(o,n),n+=4,s.underlinePosition=u.readShort(o,n),n+=2,s.underlineThickness=u.readShort(o,n),n+=2,s},r==null&&(r={}),r.U==null&&(r.U={}),r.U.codeToGlyph=function(o,n){var l=o.cmap,u=-1;if(l.p0e4!=null?u=l.p0e4:l.p3e1!=null?u=l.p3e1:l.p1e0!=null?u=l.p1e0:l.p0e3!=null&&(u=l.p0e3),u==-1)throw"no familiar platform and encoding!";var s=l.tables[u];if(s.format==0)return n>=s.map.length?0:s.map[n];if(s.format==4){for(var d=-1,c=0;c<s.endCount.length;c++)if(n<=s.endCount[c]){d=c;break}return d==-1||s.startCount[d]>n?0:65535&(s.idRangeOffset[d]!=0?s.glyphIdArray[n-s.startCount[d]+(s.idRangeOffset[d]>>1)-(s.idRangeOffset.length-d)]:n+s.idDelta[d])}if(s.format==12){if(n>s.groups[s.groups.length-1][1])return 0;for(c=0;c<s.groups.length;c++){var m=s.groups[c];if(m[0]<=n&&n<=m[1])return m[2]+(n-m[0])}return 0}throw"unknown cmap table format "+s.format},r.U.glyphToPath=function(o,n){var l={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[n]){var u=o.SVG.entries[n];return u==null?l:(typeof u=="string"&&(u=r.SVG.toPath(u),o.SVG.entries[n]=u),u)}if(o.CFF){var s={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},d=o.CFF,c=o.CFF.Private;if(d.ROS){for(var m=0;d.FDSelect[m+2]<=n;)m+=2;c=d.FDArray[d.FDSelect[m+1]].Private}r.U._drawCFF(o.CFF.CharStrings[n],s,d,c,l)}else o.glyf&&r.U._drawGlyf(n,o,l);return l},r.U._drawGlyf=function(o,n,l){var u=n.glyf[o];u==null&&(u=n.glyf[o]=r.glyf._parseGlyf(n,o)),u!=null&&(u.noc>-1?r.U._simpleGlyph(u,l):r.U._compoGlyph(u,n,l))},r.U._simpleGlyph=function(o,n){for(var l=0;l<o.noc;l++){for(var u=l==0?0:o.endPts[l-1]+1,s=o.endPts[l],d=u;d<=s;d++){var c=d==u?s:d-1,m=d==s?u:d+1,y=1&o.flags[d],S=1&o.flags[c],w=1&o.flags[m],_=o.xs[d],x=o.ys[d];if(d==u)if(y){if(!S){r.U.P.moveTo(n,_,x);continue}r.U.P.moveTo(n,o.xs[c],o.ys[c])}else S?r.U.P.moveTo(n,o.xs[c],o.ys[c]):r.U.P.moveTo(n,(o.xs[c]+_)/2,(o.ys[c]+x)/2);y?S&&r.U.P.lineTo(n,_,x):w?r.U.P.qcurveTo(n,_,x,o.xs[m],o.ys[m]):r.U.P.qcurveTo(n,_,x,(_+o.xs[m])/2,(x+o.ys[m])/2)}r.U.P.closePath(n)}},r.U._compoGlyph=function(o,n,l){for(var u=0;u<o.parts.length;u++){var s={cmds:[],crds:[]},d=o.parts[u];r.U._drawGlyf(d.glyphIndex,n,s);for(var c=d.m,m=0;m<s.crds.length;m+=2){var y=s.crds[m],S=s.crds[m+1];l.crds.push(y*c.a+S*c.b+c.tx),l.crds.push(y*c.c+S*c.d+c.ty)}for(m=0;m<s.cmds.length;m++)l.cmds.push(s.cmds[m])}},r.U._getGlyphClass=function(o,n){var l=r._lctf.getInterval(n,o);return l==-1?0:n[l+2]},r.U._applySubs=function(o,n,l,u){for(var s=o.length-n-1,d=0;d<l.tabs.length;d++)if(l.tabs[d]!=null){var c,m=l.tabs[d];if(!m.coverage||(c=r._lctf.coverageIndex(m.coverage,o[n]))!=-1){if(l.ltype==1)o[n],m.fmt==1?o[n]=o[n]+m.delta:o[n]=m.newg[c];else if(l.ltype==4)for(var y=m.vals[c],S=0;S<y.length;S++){var w=y[S],_=w.chain.length;if(!(_>s)){for(var x=!0,k=0,E=0;E<_;E++){for(;o[n+k+(1+E)]==-1;)k++;w.chain[E]!=o[n+k+(1+E)]&&(x=!1)}if(x){for(o[n]=w.nglyph,E=0;E<_+k;E++)o[n+E+1]=-1;break}}}else if(l.ltype==5&&m.fmt==2)for(var T=r._lctf.getInterval(m.cDef,o[n]),U=m.cDef[T+2],M=m.scset[U],A=0;A<M.length;A++){var b=M[A],N=b.input;if(!(N.length>s)){for(x=!0,E=0;E<N.length;E++){var V=r._lctf.getInterval(m.cDef,o[n+1+E]);if(T==-1&&m.cDef[V+2]!=N[E]){x=!1;break}}if(x){var z=b.substLookupRecords;for(S=0;S<z.length;S+=2)z[S],z[S+1]}}}else if(l.ltype==6&&m.fmt==3){if(!r.U._glsCovered(o,m.backCvg,n-m.backCvg.length)||!r.U._glsCovered(o,m.inptCvg,n)||!r.U._glsCovered(o,m.ahedCvg,n+m.inptCvg.length))continue;var J=m.lookupRec;for(A=0;A<J.length;A+=2){T=J[A];var D=u[J[A+1]];r.U._applySubs(o,n+T,D,u)}}}}},r.U._glsCovered=function(o,n,l){for(var u=0;u<n.length;u++)if(r._lctf.coverageIndex(n[u],o[l+u])==-1)return!1;return!0},r.U.glyphsToPath=function(o,n,l){for(var u={cmds:[],crds:[]},s=0,d=0;d<n.length;d++){var c=n[d];if(c!=-1){for(var m=d<n.length-1&&n[d+1]!=-1?n[d+1]:0,y=r.U.glyphToPath(o,c),S=0;S<y.crds.length;S+=2)u.crds.push(y.crds[S]+s),u.crds.push(y.crds[S+1]);for(l&&u.cmds.push(l),S=0;S<y.cmds.length;S++)u.cmds.push(y.cmds[S]);l&&u.cmds.push("X"),s+=o.hmtx.aWidth[c],d<n.length-1&&(s+=r.U.getPairAdjustment(o,c,m))}}return u},r.U.P={},r.U.P.moveTo=function(o,n,l){o.cmds.push("M"),o.crds.push(n,l)},r.U.P.lineTo=function(o,n,l){o.cmds.push("L"),o.crds.push(n,l)},r.U.P.curveTo=function(o,n,l,u,s,d,c){o.cmds.push("C"),o.crds.push(n,l,u,s,d,c)},r.U.P.qcurveTo=function(o,n,l,u,s){o.cmds.push("Q"),o.crds.push(n,l,u,s)},r.U.P.closePath=function(o){o.cmds.push("Z")},r.U._drawCFF=function(o,n,l,u,s){for(var d=n.stack,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open,w=0,_=n.x,x=n.y,k=0,E=0,T=0,U=0,M=0,A=0,b=0,N=0,V=0,z=0,J={val:0,size:0};w<o.length;){r.CFF.getCharString(o,w,J);var D=J.val;if(w+=J.size,D=="o1"||D=="o18")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0;else if(D=="o3"||D=="o23")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0;else if(D=="o4")d.length>1&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),S&&r.U.P.closePath(s),x+=d.pop(),r.U.P.moveTo(s,_,x),S=!0;else if(D=="o5")for(;d.length>0;)_+=d.shift(),x+=d.shift(),r.U.P.lineTo(s,_,x);else if(D=="o6"||D=="o7")for(var X=d.length,H=D=="o6",ie=0;ie<X;ie++){var $=d.shift();H?_+=$:x+=$,H=!H,r.U.P.lineTo(s,_,x)}else if(D=="o8"||D=="o24"){X=d.length;for(var ce=0;ce+6<=X;)k=_+d.shift(),E=x+d.shift(),T=k+d.shift(),U=E+d.shift(),_=T+d.shift(),x=U+d.shift(),r.U.P.curveTo(s,k,E,T,U,_,x),ce+=6;D=="o24"&&(_+=d.shift(),x+=d.shift(),r.U.P.lineTo(s,_,x))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(E=x,T=(k=_+d.shift())+d.shift(),z=U=E+d.shift(),A=U,N=x,_=(b=(M=(V=T+d.shift())+d.shift())+d.shift())+d.shift(),r.U.P.curveTo(s,k,E,T,U,V,z),r.U.P.curveTo(s,M,A,b,N,_,x)),D=="o1235"&&(k=_+d.shift(),E=x+d.shift(),T=k+d.shift(),U=E+d.shift(),V=T+d.shift(),z=U+d.shift(),M=V+d.shift(),A=z+d.shift(),b=M+d.shift(),N=A+d.shift(),_=b+d.shift(),x=N+d.shift(),d.shift(),r.U.P.curveTo(s,k,E,T,U,V,z),r.U.P.curveTo(s,M,A,b,N,_,x)),D=="o1236"&&(k=_+d.shift(),E=x+d.shift(),T=k+d.shift(),z=U=E+d.shift(),A=U,b=(M=(V=T+d.shift())+d.shift())+d.shift(),N=A+d.shift(),_=b+d.shift(),r.U.P.curveTo(s,k,E,T,U,V,z),r.U.P.curveTo(s,M,A,b,N,_,x)),D=="o1237"&&(k=_+d.shift(),E=x+d.shift(),T=k+d.shift(),U=E+d.shift(),V=T+d.shift(),z=U+d.shift(),M=V+d.shift(),A=z+d.shift(),b=M+d.shift(),N=A+d.shift(),Math.abs(b-_)>Math.abs(N-x)?_=b+d.shift():x=N+d.shift(),r.U.P.curveTo(s,k,E,T,U,V,z),r.U.P.curveTo(s,M,A,b,N,_,x));else if(D=="o14"){if(d.length>0&&!m&&(y=d.shift()+l.nominalWidthX,m=!0),d.length==4){var Y=d.shift(),j=d.shift(),I=d.shift(),C=d.shift(),O=r.CFF.glyphBySE(l,I),B=r.CFF.glyphBySE(l,C);r.U._drawCFF(l.CharStrings[O],n,l,u,s),n.x=Y,n.y=j,r.U._drawCFF(l.CharStrings[B],n,l,u,s)}S&&(r.U.P.closePath(s),S=!1)}else if(D=="o19"||D=="o20")d.length%2!=0&&!m&&(y=d.shift()+u.nominalWidthX),c+=d.length>>1,d.length=0,m=!0,w+=c+7>>3;else if(D=="o21")d.length>2&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),x+=d.pop(),_+=d.pop(),S&&r.U.P.closePath(s),r.U.P.moveTo(s,_,x),S=!0;else if(D=="o22")d.length>1&&!m&&(y=d.shift()+u.nominalWidthX,m=!0),_+=d.pop(),S&&r.U.P.closePath(s),r.U.P.moveTo(s,_,x),S=!0;else if(D=="o25"){for(;d.length>6;)_+=d.shift(),x+=d.shift(),r.U.P.lineTo(s,_,x);k=_+d.shift(),E=x+d.shift(),T=k+d.shift(),U=E+d.shift(),_=T+d.shift(),x=U+d.shift(),r.U.P.curveTo(s,k,E,T,U,_,x)}else if(D=="o26")for(d.length%2&&(_+=d.shift());d.length>0;)k=_,E=x+d.shift(),_=T=k+d.shift(),x=(U=E+d.shift())+d.shift(),r.U.P.curveTo(s,k,E,T,U,_,x);else if(D=="o27")for(d.length%2&&(x+=d.shift());d.length>0;)E=x,T=(k=_+d.shift())+d.shift(),U=E+d.shift(),_=T+d.shift(),x=U,r.U.P.curveTo(s,k,E,T,U,_,x);else if(D=="o10"||D=="o29"){var K=D=="o10"?u:l;if(d.length==0)console.debug("error: empty stack");else{var W=d.pop(),ee=K.Subrs[W+K.Bias];n.x=_,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S,r.U._drawCFF(ee,n,l,u,s),_=n.x,x=n.y,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open}}else if(D=="o30"||D=="o31"){var q=d.length,re=(ce=0,D=="o31");for(ce+=q-(X=-3&q);ce<X;)re?(E=x,T=(k=_+d.shift())+d.shift(),x=(U=E+d.shift())+d.shift(),X-ce==5?(_=T+d.shift(),ce++):_=T,re=!1):(k=_,E=x+d.shift(),T=k+d.shift(),U=E+d.shift(),_=T+d.shift(),X-ce==5?(x=U+d.shift(),ce++):x=U,re=!0),r.U.P.curveTo(s,k,E,T,U,_,x),ce+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,o),D;d.push(D)}}}n.x=_,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S};var v=r,f={Typr:v};return h.Typr=v,h.default=f,Object.defineProperty(h,"__esModule",{value:!0}),h}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function qh(){return function(h){var r=Uint8Array,v=Uint16Array,f=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(D,X){for(var H=new v(31),ie=0;ie<31;++ie)H[ie]=X+=1<<D[ie-1];var $=new f(H[30]);for(ie=1;ie<30;++ie)for(var ce=H[ie];ce<H[ie+1];++ce)$[ce]=ce-H[ie]<<5|ie;return[H,$]},s=u(o,2),d=s[0],c=s[1];d[28]=258,c[258]=28;for(var m=u(n,0)[0],y=new v(32768),S=0;S<32768;++S){var w=(43690&S)>>>1|(21845&S)<<1;w=(61680&(w=(52428&w)>>>2|(13107&w)<<2))>>>4|(3855&w)<<4,y[S]=((65280&w)>>>8|(255&w)<<8)>>>1}var _=function(D,X,H){for(var ie=D.length,$=0,ce=new v(X);$<ie;++$)++ce[D[$]-1];var Y,j=new v(X);for($=0;$<X;++$)j[$]=j[$-1]+ce[$-1]<<1;if(H){Y=new v(1<<X);var I=15-X;for($=0;$<ie;++$)if(D[$])for(var C=$<<4|D[$],O=X-D[$],B=j[D[$]-1]++<<O,K=B|(1<<O)-1;B<=K;++B)Y[y[B]>>>I]=C}else for(Y=new v(ie),$=0;$<ie;++$)D[$]&&(Y[$]=y[j[D[$]-1]++]>>>15-D[$]);return Y},x=new r(288);for(S=0;S<144;++S)x[S]=8;for(S=144;S<256;++S)x[S]=9;for(S=256;S<280;++S)x[S]=7;for(S=280;S<288;++S)x[S]=8;var k=new r(32);for(S=0;S<32;++S)k[S]=5;var E=_(x,9,1),T=_(k,5,1),U=function(D){for(var X=D[0],H=1;H<D.length;++H)D[H]>X&&(X=D[H]);return X},M=function(D,X,H){var ie=X/8|0;return(D[ie]|D[ie+1]<<8)>>(7&X)&H},A=function(D,X){var H=X/8|0;return(D[H]|D[H+1]<<8|D[H+2]<<16)>>(7&X)},b=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],N=function(D,X,H){var ie=new Error(X||b[D]);if(ie.code=D,Error.captureStackTrace&&Error.captureStackTrace(ie,N),!H)throw ie;return ie},V=function(D,X,H){var ie=D.length;if(!ie||H&&!H.l&&ie<5)return X||new r(0);var $=!X||H,ce=!H||H.i;H||(H={}),X||(X=new r(3*ie));var Y,j=function(Me){var R=X.length;if(Me>R){var ne=new r(Math.max(2*R,Me));ne.set(X),X=ne}},I=H.f||0,C=H.p||0,O=H.b||0,B=H.l,K=H.d,W=H.m,ee=H.n,q=8*ie;do{if(!B){H.f=I=M(D,C,1);var re=M(D,C+1,3);if(C+=3,!re){var fe=D[(ge=((Y=C)/8|0)+(7&Y&&1)+4)-4]|D[ge-3]<<8,we=ge+fe;if(we>ie){ce&&N(0);break}$&&j(O+fe),X.set(D.subarray(ge,we),O),H.b=O+=fe,H.p=C=8*we;continue}if(re==1)B=E,K=T,W=9,ee=5;else if(re==2){var le=M(D,C,31)+257,oe=M(D,C+10,15)+4,De=le+M(D,C+5,31)+1;C+=14;for(var Fe=new r(De),me=new r(19),Te=0;Te<oe;++Te)me[l[Te]]=M(D,C+3*Te,7);C+=3*oe;var Le=U(me),se=(1<<Le)-1,Ee=_(me,Le,1);for(Te=0;Te<De;){var ge,te=Ee[M(D,C,se)];if(C+=15&te,(ge=te>>>4)<16)Fe[Te++]=ge;else{var Ne=0,ve=0;for(ge==16?(ve=3+M(D,C,3),C+=2,Ne=Fe[Te-1]):ge==17?(ve=3+M(D,C,7),C+=3):ge==18&&(ve=11+M(D,C,127),C+=7);ve--;)Fe[Te++]=Ne}}var ye=Fe.subarray(0,le),he=Fe.subarray(le);W=U(ye),ee=U(he),B=_(ye,W,1),K=_(he,ee,1)}else N(1);if(C>q){ce&&N(0);break}}$&&j(O+131072);for(var Ze=(1<<W)-1,ke=(1<<ee)-1,Pe=C;;Pe=C){var Oe=(Ne=B[A(D,C)&Ze])>>>4;if((C+=15&Ne)>q){ce&&N(0);break}if(Ne||N(2),Oe<256)X[O++]=Oe;else{if(Oe==256){Pe=C,B=null;break}var Be=Oe-254;if(Oe>264){var rt=o[Te=Oe-257];Be=M(D,C,(1<<rt)-1)+d[Te],C+=rt}var lt=K[A(D,C)&ke],Ve=lt>>>4;if(lt||N(3),C+=15&lt,he=m[Ve],Ve>3&&(rt=n[Ve],he+=A(D,C)&(1<<rt)-1,C+=rt),C>q){ce&&N(0);break}$&&j(O+131072);for(var We=O+Be;O<We;O+=4)X[O]=X[O-he],X[O+1]=X[O+1-he],X[O+2]=X[O+2-he],X[O+3]=X[O+3-he];O=We}}H.l=B,H.p=Pe,H.b=O,B&&(I=1,H.m=W,H.d=K,H.n=ee)}while(!I);return O==X.length?X:function(Me,R,ne){(R==null||R<0)&&(R=0),(ne==null||ne>Me.length)&&(ne=Me.length);var xe=new(Me instanceof v?v:Me instanceof f?f:r)(ne-R);return xe.set(Me.subarray(R,ne)),xe}(X,0,O)},z=new r(0),J=typeof TextDecoder<"u"&&new TextDecoder;try{J.decode(z,{stream:!0})}catch{}return h.convert_streams=function(D){var X=new DataView(D),H=0;function ie(){var le=X.getUint16(H);return H+=2,le}function $(){var le=X.getUint32(H);return H+=4,le}function ce(le){fe.setUint16(we,le),we+=2}function Y(le){fe.setUint32(we,le),we+=4}for(var j={signature:$(),flavor:$(),length:$(),numTables:ie(),reserved:ie(),totalSfntSize:$(),majorVersion:ie(),minorVersion:ie(),metaOffset:$(),metaLength:$(),metaOrigLength:$(),privOffset:$(),privLength:$()},I=0;Math.pow(2,I)<=j.numTables;)I++;I--;for(var C=16*Math.pow(2,I),O=16*j.numTables-C,B=12,K=[],W=0;W<j.numTables;W++)K.push({tag:$(),offset:$(),compLength:$(),origLength:$(),origChecksum:$()}),B+=16;var ee,q=new Uint8Array(12+16*K.length+K.reduce(function(le,oe){return le+oe.origLength+4},0)),re=q.buffer,fe=new DataView(re),we=0;return Y(j.flavor),ce(j.numTables),ce(C),ce(I),ce(O),K.forEach(function(le){Y(le.tag),Y(le.origChecksum),Y(B),Y(le.origLength),le.outOffset=B,(B+=le.origLength)%4!=0&&(B+=4-B%4)}),K.forEach(function(le){var oe,De=D.slice(le.offset,le.offset+le.compLength);if(le.compLength!=le.origLength){var Fe=new Uint8Array(le.origLength);oe=new Uint8Array(De,2),V(oe,Fe)}else Fe=new Uint8Array(De);q.set(Fe,le.outOffset);var me=0;(B=le.outOffset+le.origLength)%4!=0&&(me=4-B%4),q.set(new Uint8Array(me).buffer,le.outOffset+le.origLength),ee=B+me}),re.slice(0,ee)},Object.defineProperty(h,"__esModule",{value:!0}),h}({}).convert_streams}function $h(h,r){const v={M:2,L:2,Q:4,C:6,Z:0},f={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,n=2,l=4,u=8,s=16,d=32;let c;function m(b){if(!c){const N={R:n,L:o,D:l,C:s,U:d,T:u};c=new Map;for(let V in f){let z=0;f[V].split(",").forEach(J=>{let[D,X]=J.split("+");D=parseInt(D,36),X=X?parseInt(X,36):0,c.set(z+=D,N[V]);for(let H=X;H--;)c.set(++z,N[V])})}}return c.get(b)||d}const y=1,S=2,w=3,_=4,x=[null,"isol","init","fina","medi"];function k(b){const N=new Uint8Array(b.length);let V=d,z=y,J=-1;for(let D=0;D<b.length;D++){const X=b.codePointAt(D);let H=m(X)|0,ie=y;H&u||(V&(o|l|s)?H&(n|l|s)?(ie=w,(z===y||z===w)&&N[J]++):H&(o|d)&&(z===S||z===_)&&N[J]--:V&(n|d)&&(z===S||z===_)&&N[J]--,z=N[D]=ie,V=H,J=D,X>65535&&D++)}return N}function E(b,N){const V=[];for(let J=0;J<N.length;J++){const D=N.codePointAt(J);D>65535&&J++,V.push(h.U.codeToGlyph(b,D))}const z=b.GSUB;if(z){const{lookupList:J,featureList:D}=z;let X;const H=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,ie=[];D.forEach($=>{if(H.test($.tag))for(let ce=0;ce<$.tab.length;ce++){if(ie[$.tab[ce]])continue;ie[$.tab[ce]]=!0;const Y=J[$.tab[ce]],j=/^(isol|init|fina|medi)$/.test($.tag);j&&!X&&(X=k(N));for(let I=0;I<V.length;I++)(!X||!j||x[X[I]]===$.tag)&&h.U._applySubs(V,I,Y,J)}})}return V}function T(b,N){const V=new Int16Array(N.length*3);let z=0;for(;z<N.length;z++){const H=N[z];if(H===-1)continue;V[z*3+2]=b.hmtx.aWidth[H];const ie=b.GPOS;if(ie){const $=ie.lookupList;for(let ce=0;ce<$.length;ce++){const Y=$[ce];for(let j=0;j<Y.tabs.length;j++){const I=Y.tabs[j];if(Y.ltype===1){if(h._lctf.coverageIndex(I.coverage,H)!==-1&&I.pos){X(I.pos,z);break}}else if(Y.ltype===2){let C=null,O=J();if(O!==-1){const B=h._lctf.coverageIndex(I.coverage,N[O]);if(B!==-1){if(I.fmt===1){const K=I.pairsets[B];for(let W=0;W<K.length;W++)K[W].gid2===H&&(C=K[W])}else if(I.fmt===2){const K=h.U._getGlyphClass(N[O],I.classDef1),W=h.U._getGlyphClass(H,I.classDef2);C=I.matrix[K][W]}if(C){C.val1&&X(C.val1,O),C.val2&&X(C.val2,z);break}}}}else if(Y.ltype===4){const C=h._lctf.coverageIndex(I.markCoverage,H);if(C!==-1){const O=J(D),B=O===-1?-1:h._lctf.coverageIndex(I.baseCoverage,N[O]);if(B!==-1){const K=I.markArray[C],W=I.baseArray[B][K.markClass];V[z*3]=W.x-K.x+V[O*3]-V[O*3+2],V[z*3+1]=W.y-K.y+V[O*3+1];break}}}else if(Y.ltype===6){const C=h._lctf.coverageIndex(I.mark1Coverage,H);if(C!==-1){const O=J();if(O!==-1){const B=N[O];if(U(b,B)===3){const K=h._lctf.coverageIndex(I.mark2Coverage,B);if(K!==-1){const W=I.mark1Array[C],ee=I.mark2Array[K][W.markClass];V[z*3]=ee.x-W.x+V[O*3]-V[O*3+2],V[z*3+1]=ee.y-W.y+V[O*3+1];break}}}}}}}}else if(b.kern&&!b.cff){const $=J();if($!==-1){const ce=b.kern.glyph1.indexOf(N[$]);if(ce!==-1){const Y=b.kern.rval[ce].glyph2.indexOf(H);Y!==-1&&(V[$*3+2]+=b.kern.rval[ce].vals[Y])}}}}return V;function J(H){for(let ie=z-1;ie>=0;ie--)if(N[ie]!==-1&&(!H||H(N[ie])))return ie;return-1}function D(H){return U(b,H)===1}function X(H,ie){for(let $=0;$<3;$++)V[ie*3+$]+=H[$]||0}}function U(b,N){const V=b.GDEF&&b.GDEF.glyphClassDef;return V?h.U._getGlyphClass(N,V):0}function M(...b){for(let N=0;N<b.length;N++)if(typeof b[N]=="number")return b[N]}function A(b){const N=Object.create(null),V=b["OS/2"],z=b.hhea,J=b.head.unitsPerEm,D=M(V&&V.sTypoAscender,z&&z.ascender,J),X={unitsPerEm:J,ascender:D,descender:M(V&&V.sTypoDescender,z&&z.descender,0),capHeight:M(V&&V.sCapHeight,D),xHeight:M(V&&V.sxHeight,D),lineGap:M(V&&V.sTypoLineGap,z&&z.lineGap),supportsCodePoint(H){return h.U.codeToGlyph(b,H)>0},forEachGlyph(H,ie,$,ce){let Y=0;const j=1/X.unitsPerEm*ie,I=E(b,H);let C=0;const O=T(b,I);return I.forEach((B,K)=>{if(B!==-1){let W=N[B];if(!W){const{cmds:ee,crds:q}=h.U.glyphToPath(b,B);let re="",fe=0;for(let Fe=0,me=ee.length;Fe<me;Fe++){const Te=v[ee[Fe]];re+=ee[Fe];for(let Le=1;Le<=Te;Le++)re+=(Le>1?",":"")+q[fe++]}let we,le,oe,De;if(q.length){we=le=1/0,oe=De=-1/0;for(let Fe=0,me=q.length;Fe<me;Fe+=2){let Te=q[Fe],Le=q[Fe+1];Te<we&&(we=Te),Le<le&&(le=Le),Te>oe&&(oe=Te),Le>De&&(De=Le)}}else we=oe=le=De=0;W=N[B]={index:B,advanceWidth:b.hmtx.aWidth[B],xMin:we,yMin:le,xMax:oe,yMax:De,path:re}}ce.call(null,W,Y+O[K*3]*j,O[K*3+1]*j,C),Y+=O[K*3+2]*j,$&&(Y+=$*ie)}C+=H.codePointAt(C)>65535?2:1}),Y}};return X}return function(N){const V=new Uint8Array(N,0,4),z=h._bin.readASCII(V,0,4);if(z==="wOFF")N=r(N);else if(z==="wOF2")throw new Error("woff2 fonts not supported");return A(h.parse(N)[0])}}const ep=ho({name:"Typr Font Parser",dependencies:[Zh,qh,$h],init(h,r,v){const f=h(),o=r();return v(f,o)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function tp(){return function(h){var r=function(){this.buckets=new Map};r.prototype.add=function(T){var U=T>>5;this.buckets.set(U,(this.buckets.get(U)||0)|1<<(31&T))},r.prototype.has=function(T){var U=this.buckets.get(T>>5);return U!==void 0&&(U&1<<(31&T))!=0},r.prototype.serialize=function(){var T=[];return this.buckets.forEach(function(U,M){T.push((+M).toString(36)+":"+U.toString(36))}),T.join(",")},r.prototype.deserialize=function(T){var U=this;this.buckets.clear(),T.split(",").forEach(function(M){var A=M.split(":");U.buckets.set(parseInt(A[0],36),parseInt(A[1],36))})};var v=Math.pow(2,8),f=v-1,o=~f;function n(T){var U=function(A){return A&o}(T).toString(16),M=function(A){return(A&o)+v-1}(T).toString(16);return"codepoint-index/plane"+(T>>16)+"/"+U+"-"+M+".json"}function l(T,U){var M=T&f,A=U.codePointAt(M/6|0);return((A=(A||48)-48)&1<<M%6)!=0}function u(T,U){var M;(M=T,M.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(A){return A.split("-").map(function(b){return parseInt(b.trim(),16)})})).forEach(function(A){var b=A[0],N=A[1];N===void 0&&(N=b),U(b,N)})}function s(T,U){u(T,function(M,A){for(var b=M;b<=A;b++)U(b)})}var d={},c={},m=new WeakMap,y="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(T){var U=m.get(T);return U||(U=new r,s(T.ranges,function(M){return U.add(M)}),m.set(T,U)),U}var w,_=new Map;function x(T,U,M){return T[U]?U:T[M]?M:function(A){for(var b in A)return b}(T)}function k(T,U){var M=U;if(!T.includes(M)){M=1/0;for(var A=0;A<T.length;A++)Math.abs(T[A]-U)<Math.abs(M-U)&&(M=T[A])}return M}function E(T){return w||(w=new Set,s("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(U){w.add(U)})),w.has(T)}return h.CodePointSet=r,h.clearCache=function(){d={},c={}},h.getFontsForString=function(T,U){U===void 0&&(U={});var M,A=U.lang;A===void 0&&(A=/\p{Script=Hangul}/u.test(M=T)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(M)?"ja":"en");var b=U.category;b===void 0&&(b="sans-serif");var N=U.style;N===void 0&&(N="normal");var V=U.weight;V===void 0&&(V=400);var z=(U.dataUrl||y).replace(/\/$/g,""),J=new Map,D=new Uint8Array(T.length),X={},H={},ie=new Array(T.length),$=new Map,ce=!1;function Y(C){var O=_.get(C);return O||(O=fetch(z+"/"+C).then(function(B){if(!B.ok)throw new Error(B.statusText);return B.json().then(function(K){if(!Array.isArray(K)||K[0]!==1)throw new Error("Incorrect schema version; need 1, got "+K[0]);return K[1]})}).catch(function(B){if(z!==y)return ce||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+z+'", trying default CDN. '+B.message),ce=!0),z=y,_.delete(C),Y(C);throw B}),_.set(C,O)),O}for(var j=function(C){var O=T.codePointAt(C),B=n(O);ie[C]=B,d[B]||$.has(B)||$.set(B,Y(B).then(function(K){d[B]=K})),O>65535&&(C++,I=C)},I=0;I<T.length;I++)j(I);return Promise.all($.values()).then(function(){$.clear();for(var C=function(B){var K=T.codePointAt(B),W=null,ee=d[ie[B]],q=void 0;for(var re in ee){var fe=H[re];if(fe===void 0&&(fe=H[re]=new RegExp(re).test(A||"en")),fe){for(var we in q=re,ee[re])if(l(K,ee[re][we])){W=we;break}break}}if(!W){e:for(var le in ee)if(le!==q){for(var oe in ee[le])if(l(K,ee[le][oe])){W=oe;break e}}}W||(console.debug("No font coverage for U+"+K.toString(16)),W="latin"),ie[B]=W,c[W]||$.has(W)||$.set(W,Y("font-meta/"+W+".json").then(function(De){c[W]=De})),K>65535&&(B++,O=B)},O=0;O<T.length;O++)C(O);return Promise.all($.values())}).then(function(){for(var C,O=null,B=0;B<T.length;B++){var K=T.codePointAt(B);if(O&&(E(K)||S(O).has(K)))D[B]=D[B-1];else{O=c[ie[B]];var W=X[O.id];if(!W){var ee=O.typeforms,q=x(ee,b,"sans-serif"),re=x(ee[q],N,"normal"),fe=k((C=ee[q])===null||C===void 0?void 0:C[re],V);W=X[O.id]=z+"/font-files/"+O.id+"/"+q+"."+re+"."+fe+".woff"}var we=J.get(W);we==null&&(we=J.size,J.set(W,we)),D[B]=we}K>65535&&(B++,D[B]=D[B-1])}return{fontUrls:Array.from(J.keys()),chars:D}})},Object.defineProperty(h,"__esModule",{value:!0}),h}({})}function np(h,r){const v=Object.create(null),f=Object.create(null);function o(l,u){const s=d=>{console.error(`Failure loading font ${l}`,d)};try{const d=new XMLHttpRequest;d.open("get",l,!0),d.responseType="arraybuffer",d.onload=function(){if(d.status>=400)s(new Error(d.statusText));else if(d.status>0)try{const c=h(d.response);c.src=l,u(c)}catch(c){s(c)}},d.onerror=s,d.send()}catch(d){s(d)}}function n(l,u){let s=v[l];s?u(s):f[l]?f[l].push(u):(f[l]=[u],o(l,d=>{d.src=l,v[l]=d,f[l].forEach(c=>c(d)),delete f[l]}))}return function(l,u,{lang:s,fonts:d=[],style:c="normal",weight:m="normal",unicodeFontsURL:y}={}){const S=new Uint8Array(l.length),w=[];l.length||E();const _=new Map,x=[];if(c!=="italic"&&(c="normal"),typeof m!="number"&&(m=m==="bold"?700:400),d&&!Array.isArray(d)&&(d=[d]),d=d.slice().filter(U=>!U.lang||U.lang.test(s)).reverse(),d.length){let b=0;(function N(V=0){for(let z=V,J=l.length;z<J;z++){const D=l.codePointAt(z);if(b===1&&w[S[z-1]].supportsCodePoint(D)||z>0&&/\s/.test(l[z]))S[z]=S[z-1],b===2&&(x[x.length-1][1]=z);else for(let X=S[z],H=d.length;X<=H;X++)if(X===H){const ie=b===2?x[x.length-1]:x[x.length]=[z,z];ie[1]=z,b=2}else{S[z]=X;const{src:ie,unicodeRange:$}=d[X];if(!$||T(D,$)){const ce=v[ie];if(!ce){n(ie,()=>{N(z)});return}if(ce.supportsCodePoint(D)){let Y=_.get(ce);typeof Y!="number"&&(Y=w.length,w.push(ce),_.set(ce,Y)),S[z]=Y,b=1;break}}}D>65535&&z+1<J&&(S[z+1]=S[z],z++,b===2&&(x[x.length-1][1]=z))}k()})()}else x.push([0,l.length-1]),k();function k(){if(x.length){const U=x.map(M=>l.substring(M[0],M[1]+1)).join(`
`);r.getFontsForString(U,{lang:s||void 0,style:c,weight:m,dataUrl:y}).then(({fontUrls:M,chars:A})=>{const b=w.length;let N=0;x.forEach(z=>{for(let J=0,D=z[1]-z[0];J<=D;J++)S[z[0]+J]=A[N++]+b;N++});let V=0;M.forEach((z,J)=>{n(z,D=>{w[J+b]=D,++V===M.length&&E()})})})}else E()}function E(){u({chars:S,fonts:w})}function T(U,M){for(let A=0;A<M.length;A++){const[b,N=b]=M[A];if(b<=U&&U<=N)return!0}return!1}}}const rp=ho({name:"FontResolver",dependencies:[np,ep,tp],init(h,r,v){return h(r,v())}});function op(h,r){const f=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o="[^\\S\\u00A0]",n=new RegExp(`${o}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function l({text:w,lang:_,fonts:x,style:k,weight:E,preResolvedFonts:T,unicodeFontsURL:U},M){const A=({chars:b,fonts:N})=>{let V,z;const J=[];for(let D=0;D<b.length;D++)b[D]!==z?(z=b[D],J.push(V={start:D,end:D,fontObj:N[b[D]]})):V.end=D;M(J)};T?A(T):h(w,A,{lang:_,fonts:x,style:k,weight:E,unicodeFontsURL:U})}function u({text:w="",font:_,lang:x,sdfGlyphSize:k=64,fontSize:E=400,fontWeight:T=1,fontStyle:U="normal",letterSpacing:M=0,lineHeight:A="normal",maxWidth:b=1/0,direction:N,textAlign:V="left",textIndent:z=0,whiteSpace:J="normal",overflowWrap:D="normal",anchorX:X=0,anchorY:H=0,metricsOnly:ie=!1,unicodeFontsURL:$,preResolvedFonts:ce=null,includeCaretPositions:Y=!1,chunkedBoundsSize:j=8192,colorRanges:I=null},C){const O=m(),B={fontLoad:0,typesetting:0};w.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),w=w.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,M=+M,b=+b,A=A||"normal",z=+z,l({text:w,lang:x,style:U,weight:T,fonts:typeof _=="string"?[{src:_}]:_,unicodeFontsURL:$,preResolvedFonts:ce},K=>{B.fontLoad=m()-O;const W=isFinite(b);let ee=null,q=null,re=null,fe=null,we=null,le=null,oe=null,De=null,Fe=0,me=0,Te=J!=="nowrap";const Le=new Map,se=m();let Ee=z,ge=0,te=new y;const Ne=[te];K.forEach(ke=>{const{fontObj:Pe}=ke,{ascender:Oe,descender:Be,unitsPerEm:rt,lineGap:lt,capHeight:Ve,xHeight:We}=Pe;let Me=Le.get(Pe);if(!Me){const Se=E/rt,Ye=A==="normal"?(Oe-Be+lt)*Se:A*E,xt=(Ye-(Oe-Be)*Se)/2,ot=Math.min(Ye,(Oe-Be)*Se),He=(Oe+Be)/2*Se+ot/2;Me={index:Le.size,src:Pe.src,fontObj:Pe,fontSizeMult:Se,unitsPerEm:rt,ascender:Oe*Se,descender:Be*Se,capHeight:Ve*Se,xHeight:We*Se,lineHeight:Ye,baseline:-xt-Oe*Se,caretTop:He,caretBottom:He-ot},Le.set(Pe,Me)}const{fontSizeMult:R}=Me,ne=w.slice(ke.start,ke.end+1);let xe,Ce;Pe.forEachGlyph(ne,E,M,(Se,Ye,xt,ot)=>{Ye+=ge,ot+=ke.start,xe=Ye,Ce=Se;const He=w.charAt(ot),qe=Se.advanceWidth*R,Je=te.count;let ze;if("isEmpty"in Se||(Se.isWhitespace=!!He&&new RegExp(o).test(He),Se.canBreakAfter=!!He&&n.test(He),Se.isEmpty=Se.xMin===Se.xMax||Se.yMin===Se.yMax||f.test(He)),!Se.isWhitespace&&!Se.isEmpty&&me++,Te&&W&&!Se.isWhitespace&&Ye+qe+Ee>b&&Je){if(te.glyphAt(Je-1).glyphObj.canBreakAfter)ze=new y,Ee=-Ye;else for(let ct=Je;ct--;)if(ct===0&&D==="break-word"){ze=new y,Ee=-Ye;break}else if(te.glyphAt(ct).glyphObj.canBreakAfter){ze=te.splitAt(ct+1);const dt=ze.glyphAt(0).x;Ee-=dt;for(let mt=ze.count;mt--;)ze.glyphAt(mt).x-=dt;break}ze&&(te.isSoftWrapped=!0,te=ze,Ne.push(te),Fe=b)}let $e=te.glyphAt(te.count);$e.glyphObj=Se,$e.x=Ye+Ee,$e.y=xt,$e.width=qe,$e.charIndex=ot,$e.fontData=Me,He===`
`&&(te=new y,Ne.push(te),Ee=-(Ye+qe+M*E)+z)}),ge=xe+Ce.advanceWidth*R+M*E});let ve=0;Ne.forEach(ke=>{let Pe=!0;for(let Oe=ke.count;Oe--;){const Be=ke.glyphAt(Oe);Pe&&!Be.glyphObj.isWhitespace&&(ke.width=Be.x+Be.width,ke.width>Fe&&(Fe=ke.width),Pe=!1);let{lineHeight:rt,capHeight:lt,xHeight:Ve,baseline:We}=Be.fontData;rt>ke.lineHeight&&(ke.lineHeight=rt);const Me=We-ke.baseline;Me<0&&(ke.baseline+=Me,ke.cap+=Me,ke.ex+=Me),ke.cap=Math.max(ke.cap,ke.baseline+lt),ke.ex=Math.max(ke.ex,ke.baseline+Ve)}ke.baseline-=ve,ke.cap-=ve,ke.ex-=ve,ve+=ke.lineHeight});let ye=0,he=0;if(X&&(typeof X=="number"?ye=-X:typeof X=="string"&&(ye=-Fe*(X==="left"?0:X==="center"?.5:X==="right"?1:d(X)))),H&&(typeof H=="number"?he=-H:typeof H=="string"&&(he=H==="top"?0:H==="top-baseline"?-Ne[0].baseline:H==="top-cap"?-Ne[0].cap:H==="top-ex"?-Ne[0].ex:H==="middle"?ve/2:H==="bottom"?ve:H==="bottom-baseline"?-Ne[Ne.length-1].baseline:d(H)*ve)),!ie){const ke=r.getEmbeddingLevels(w,N);ee=new Uint16Array(me),q=new Uint8Array(me),re=new Float32Array(me*2),fe={},oe=[1/0,1/0,-1/0,-1/0],De=[],Y&&(le=new Float32Array(w.length*4)),I&&(we=new Uint8Array(me*3));let Pe=0,Oe=-1,Be=-1,rt,lt;if(Ne.forEach((Ve,We)=>{let{count:Me,width:R}=Ve;if(Me>0){let ne=0;for(let ot=Me;ot--&&Ve.glyphAt(ot).glyphObj.isWhitespace;)ne++;let xe=0,Ce=0;if(V==="center")xe=(Fe-R)/2;else if(V==="right")xe=Fe-R;else if(V==="justify"&&Ve.isSoftWrapped){let ot=0;for(let He=Me-ne;He--;)Ve.glyphAt(He).glyphObj.isWhitespace&&ot++;Ce=(Fe-R)/ot}if(Ce||xe){let ot=0;for(let He=0;He<Me;He++){let qe=Ve.glyphAt(He);const Je=qe.glyphObj;qe.x+=xe+ot,Ce!==0&&Je.isWhitespace&&He<Me-ne&&(ot+=Ce,qe.width+=Ce)}}const Se=r.getReorderSegments(w,ke,Ve.glyphAt(0).charIndex,Ve.glyphAt(Ve.count-1).charIndex);for(let ot=0;ot<Se.length;ot++){const[He,qe]=Se[ot];let Je=1/0,ze=-1/0;for(let $e=0;$e<Me;$e++)if(Ve.glyphAt($e).charIndex>=He){let ct=$e,dt=$e;for(;dt<Me;dt++){let mt=Ve.glyphAt(dt);if(mt.charIndex>qe)break;dt<Me-ne&&(Je=Math.min(Je,mt.x),ze=Math.max(ze,mt.x+mt.width))}for(let mt=ct;mt<dt;mt++){const $t=Ve.glyphAt(mt);$t.x=ze-($t.x+$t.width-Je)}break}}let Ye;const xt=ot=>Ye=ot;for(let ot=0;ot<Me;ot++){const He=Ve.glyphAt(ot);Ye=He.glyphObj;const qe=Ye.index,Je=ke.levels[He.charIndex]&1;if(Je){const ze=r.getMirroredCharacter(w[He.charIndex]);ze&&He.fontData.fontObj.forEachGlyph(ze,0,0,xt)}if(Y){const{charIndex:ze,fontData:$e}=He,ct=He.x+ye,dt=He.x+He.width+ye;le[ze*4]=Je?dt:ct,le[ze*4+1]=Je?ct:dt,le[ze*4+2]=Ve.baseline+$e.caretBottom+he,le[ze*4+3]=Ve.baseline+$e.caretTop+he;const mt=ze-Oe;mt>1&&c(le,Oe,mt),Oe=ze}if(I){const{charIndex:ze}=He;for(;ze>Be;)Be++,I.hasOwnProperty(Be)&&(lt=I[Be])}if(!Ye.isWhitespace&&!Ye.isEmpty){const ze=Pe++,{fontSizeMult:$e,src:ct,index:dt}=He.fontData,mt=fe[ct]||(fe[ct]={});mt[qe]||(mt[qe]={path:Ye.path,pathBounds:[Ye.xMin,Ye.yMin,Ye.xMax,Ye.yMax]});const $t=He.x+ye,En=He.y+Ve.baseline+he;re[ze*2]=$t,re[ze*2+1]=En;const en=$t+Ye.xMin*$e,Rn=En+Ye.yMin*$e,tn=$t+Ye.xMax*$e,Tn=En+Ye.yMax*$e;en<oe[0]&&(oe[0]=en),Rn<oe[1]&&(oe[1]=Rn),tn>oe[2]&&(oe[2]=tn),Tn>oe[3]&&(oe[3]=Tn),ze%j===0&&(rt={start:ze,end:ze,rect:[1/0,1/0,-1/0,-1/0]},De.push(rt)),rt.end++;const Lt=rt.rect;if(en<Lt[0]&&(Lt[0]=en),Rn<Lt[1]&&(Lt[1]=Rn),tn>Lt[2]&&(Lt[2]=tn),Tn>Lt[3]&&(Lt[3]=Tn),ee[ze]=qe,q[ze]=dt,I){const Wn=ze*3;we[Wn]=lt>>16&255,we[Wn+1]=lt>>8&255,we[Wn+2]=lt&255}}}}}),le){const Ve=w.length-Oe;Ve>1&&c(le,Oe,Ve)}}const Ze=[];Le.forEach(({index:ke,src:Pe,unitsPerEm:Oe,ascender:Be,descender:rt,lineHeight:lt,capHeight:Ve,xHeight:We})=>{Ze[ke]={src:Pe,unitsPerEm:Oe,ascender:Be,descender:rt,lineHeight:lt,capHeight:Ve,xHeight:We}}),B.typesetting=m()-se,C({glyphIds:ee,glyphFontIndices:q,glyphPositions:re,glyphData:fe,fontData:Ze,caretPositions:le,glyphColors:we,chunkedBounds:De,fontSize:E,topBaseline:he+Ne[0].baseline,blockBounds:[ye,he-ve,ye+Fe,he],visibleBounds:oe,timings:B})})}function s(w,_){u({...w,metricsOnly:!0},x=>{const[k,E,T,U]=x.blockBounds;_({width:T-k,height:U-E})})}function d(w){let _=w.match(/^([\d.]+)%$/),x=_?parseFloat(_[1]):NaN;return isNaN(x)?0:x/100}function c(w,_,x){const k=w[_*4],E=w[_*4+1],T=w[_*4+2],U=w[_*4+3],M=(E-k)/x;for(let A=0;A<x;A++){const b=(_+A)*4;w[b]=k+M*A,w[b+1]=k+M*(A+1),w[b+2]=T,w[b+3]=U}}function m(){return(self.performance||Date).now()}function y(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return y.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(w){let _=y.flyweight;return _.data=this.data,_.index=w,_},splitAt(w){let _=new y;return _.data=this.data.splice(w*S.length),_}},y.flyweight=S.reduce((w,_,x,k)=>(Object.defineProperty(w,_,{get(){return this.data[this.index*S.length+x]},set(E){this.data[this.index*S.length+x]=E}}),w),{data:null,index:0}),{typeset:u,measure:s}}const Ar=()=>(self.performance||Date).now(),da=ef();let sc;function ip(h,r,v,f,o,n,l,u,s,d,c=!0){return c?lp(h,r,v,f,o,n,l,u,s,d).then(null,m=>(sc||(console.warn("WebGL SDF generation failed, falling back to JS",m),sc=!0),cc(h,r,v,f,o,n,l,u,s,d))):cc(h,r,v,f,o,n,l,u,s,d)}const aa=[],ap=5;let zl=0;function nf(){const h=Ar();for(;aa.length&&Ar()-h<ap;)aa.shift()();zl=aa.length?setTimeout(nf,0):0}const lp=(...h)=>new Promise((r,v)=>{aa.push(()=>{const f=Ar();try{da.webgl.generateIntoCanvas(...h),r({timing:Ar()-f})}catch(o){v(o)}}),zl||(zl=setTimeout(nf,0))}),sp=4,up=2e3,uc={};let cp=0;function cc(h,r,v,f,o,n,l,u,s,d){const c="TroikaTextSDFGenerator_JS_"+cp++%sp;let m=uc[c];return m||(m=uc[c]={workerModule:ho({name:c,workerId:c,dependencies:[ef,Ar],init(y,S){const w=y().javascript.generate;return function(..._){const x=S();return{textureData:w(..._),timing:S()-x}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(h,r,v,f,o,n).then(({textureData:y,timing:S})=>{const w=Ar(),_=new Uint8Array(y.length*4);for(let x=0;x<y.length;x++)_[x*4+d]=y[x];return da.webglUtils.renderImageData(l,_,u,s,h,r,1<<3-d),S+=Ar()-w,--m.requests===0&&(m.idleTimer=setTimeout(()=>{jh(c)},up)),{timing:S}})}function fp(h){h._warm||(da.webgl.isSupported(h),h._warm=!0)}const dp=da.webglUtils.resizeWebGLCanvasWithoutClearing,so={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},hp=new Or;function io(){return(self.performance||Date).now()}const fc=Object.create(null);function rf(h,r){h=mp({},h);const v=io(),{defaultFontURL:f}=so,o=[];if(f&&o.push({label:"default",src:dc(f)}),h.font&&o.push({label:"user",src:dc(h.font)}),h.font=o,h.text=""+h.text,h.sdfGlyphSize=h.sdfGlyphSize||so.sdfGlyphSize,h.unicodeFontsURL=h.unicodeFontsURL||so.unicodeFontsURL,h.colorRanges!=null){let S={};for(let w in h.colorRanges)if(h.colorRanges.hasOwnProperty(w)){let _=h.colorRanges[w];typeof _!="number"&&(_=hp.set(_).getHex()),S[w]=_}h.colorRanges=S}Object.freeze(h);const{textureWidth:n,sdfExponent:l}=so,{sdfGlyphSize:u}=h,s=n/u*4;let d=fc[u];if(!d){const S=document.createElement("canvas");S.width=n,S.height=u*256/s,d=fc[u]={glyphCount:0,sdfGlyphSize:u,sdfCanvas:S,sdfTexture:new sd(S,void 0,void 0,void 0,ua,ua),contextLost:!1,glyphsByFont:new Map},d.sdfTexture.generateMipmaps=!1,pp(d)}const{sdfTexture:c,sdfCanvas:m}=d;lf(h).then(S=>{const{glyphIds:w,glyphFontIndices:_,fontData:x,glyphPositions:k,fontSize:E,timings:T}=S,U=[],M=new Float32Array(w.length*4);let A=0,b=0;const N=io(),V=x.map(H=>{let ie=d.glyphsByFont.get(H.src);return ie||d.glyphsByFont.set(H.src,ie=new Map),ie});w.forEach((H,ie)=>{const $=_[ie],{src:ce,unitsPerEm:Y}=x[$];let j=V[$].get(H);if(!j){const{path:K,pathBounds:W}=S.glyphData[ce][H],ee=Math.max(W[2]-W[0],W[3]-W[1])/u*(so.sdfMargin*u+.5),q=d.glyphCount++,re=[W[0]-ee,W[1]-ee,W[2]+ee,W[3]+ee];V[$].set(H,j={path:K,atlasIndex:q,sdfViewBox:re}),U.push(j)}const{sdfViewBox:I}=j,C=k[b++],O=k[b++],B=E/Y;M[A++]=C+I[0]*B,M[A++]=O+I[1]*B,M[A++]=C+I[2]*B,M[A++]=O+I[3]*B,w[ie]=j.atlasIndex}),T.quads=(T.quads||0)+(io()-N);const z=io();T.sdf={};const J=m.height,D=Math.ceil(d.glyphCount/s),X=Math.pow(2,Math.ceil(Math.log2(D*u)));X>J&&(console.info(`Increasing SDF texture size ${J}->${X}`),dp(m,n,X),c.dispose()),Promise.all(U.map(H=>of(H,d,h.gpuAccelerateSDF).then(({timing:ie})=>{T.sdf[H.atlasIndex]=ie}))).then(()=>{U.length&&!d.contextLost&&(af(d),c.needsUpdate=!0),T.sdfTotal=io()-z,T.total=io()-v,r(Object.freeze({parameters:h,sdfTexture:c,sdfGlyphSize:u,sdfExponent:l,glyphBounds:M,glyphAtlasIndices:w,glyphColors:S.glyphColors,caretPositions:S.caretPositions,chunkedBounds:S.chunkedBounds,ascender:S.ascender,descender:S.descender,lineHeight:S.lineHeight,capHeight:S.capHeight,xHeight:S.xHeight,topBaseline:S.topBaseline,blockBounds:S.blockBounds,visibleBounds:S.visibleBounds,timings:S.timings}))})}),Promise.resolve().then(()=>{d.contextLost||fp(m)})}function of({path:h,atlasIndex:r,sdfViewBox:v},{sdfGlyphSize:f,sdfCanvas:o,contextLost:n},l){if(n)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:s}=so,d=Math.max(v[2]-v[0],v[3]-v[1]),c=Math.floor(r/4),m=c%(u/f)*f,y=Math.floor(c/(u/f))*f,S=r%4;return ip(f,f,h,v,d,s,o,m,y,S,l)}function pp(h){const r=h.sdfCanvas;r.addEventListener("webglcontextlost",v=>{console.log("Context Lost",v),v.preventDefault(),h.contextLost=!0}),r.addEventListener("webglcontextrestored",v=>{console.log("Context Restored",v),h.contextLost=!1;const f=[];h.glyphsByFont.forEach(o=>{o.forEach(n=>{f.push(of(n,h,!0))})}),Promise.all(f).then(()=>{af(h),h.sdfTexture.needsUpdate=!0})})}function vp({font:h,characters:r,sdfGlyphSize:v},f){let o=Array.isArray(r)?r.join(`
`):""+r;rf({font:h,sdfGlyphSize:v,text:o},f)}function mp(h,r){for(let v in r)r.hasOwnProperty(v)&&(h[v]=r[v]);return h}let ea;function dc(h){return ea||(ea=typeof document>"u"?{}:document.createElement("a")),ea.href=h,ea.href}function af(h){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:r,sdfTexture:v}=h,{width:f,height:o}=r,n=h.sdfCanvas.getContext("webgl");let l=v.image.data;(!l||l.length!==f*o*4)&&(l=new Uint8Array(f*o*4),v.image={width:f,height:o,data:l},v.flipY=!1,v.isDataTexture=!0),n.readPixels(0,0,f,o,n.RGBA,n.UNSIGNED_BYTE,l)}}const gp=ho({name:"Typesetter",dependencies:[op,rp,Wh],init(h,r,v){return h(r,v())}}),lf=ho({name:"Typesetter",dependencies:[gp],init(h){return function(r){return new Promise(v=>{h.typeset(r,v)})}},getTransferables(h){const r=[];for(let v in h)h[v]&&h[v].buffer&&r.push(h[v].buffer);return r}});lf.onMainThread;const hc={};function yp(h){let r=hc[h];return r||(r=hc[h]=new Bl(1,1,h,h).translate(.5,.5,0)),r}const Sp="aTroikaGlyphBounds",pc="aTroikaGlyphIndex",wp="aTroikaGlyphColor";class _p extends xc{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Nl,this.boundingBox=new Jo}computeBoundingSphere(){}computeBoundingBox(){}set detail(r){if(r!==this._detail){this._detail=r,(typeof r!="number"||r<1)&&(r=1);let v=yp(r);["position","normal","uv"].forEach(f=>{this.attributes[f]=v.attributes[f].clone()}),this.setIndex(v.getIndex().clone())}}get detail(){return this._detail}set curveRadius(r){r!==this._curveRadius&&(this._curveRadius=r,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(r,v,f,o,n){this.updateAttributeData(Sp,r,4),this.updateAttributeData(pc,v,1),this.updateAttributeData(wp,n,3),this._blockBounds=f,this._chunkedBounds=o,this.instanceCount=v.length,this._updateBounds()}_updateBounds(){const r=this._blockBounds;if(r){const{curveRadius:v,boundingBox:f}=this;if(v){const{PI:o,floor:n,min:l,max:u,sin:s,cos:d}=Math,c=o/2,m=o*2,y=Math.abs(v),S=r[0]/y,w=r[2]/y,_=n((S+c)/m)!==n((w+c)/m)?-y:l(s(S)*y,s(w)*y),x=n((S-c)/m)!==n((w-c)/m)?y:u(s(S)*y,s(w)*y),k=n((S+o)/m)!==n((w+o)/m)?y*2:u(y-d(S)*y,y-d(w)*y);f.min.set(_,r[1],v<0?-k:0),f.max.set(x,r[3],v<0?0:k)}else f.min.set(r[0],r[1],0),f.max.set(r[2],r[3],0);f.getBoundingSphere(this.boundingSphere)}}applyClipRect(r){let v=this.getAttribute(pc).count,f=this._chunkedBounds;if(f)for(let o=f.length;o--;){v=f[o].end;let n=f[o].rect;if(n[1]<r.w&&n[3]>r.y&&n[0]<r.z&&n[2]>r.x)break}this.instanceCount=v}updateAttributeData(r,v,f){const o=this.getAttribute(r);v?o&&o.array.length===v.length?(o.array.set(v),o.needsUpdate=!0):(this.setAttribute(r,new ud(v,f)),delete this._maxInstanceCount,this.dispose()):o&&this.deleteAttribute(r)}}const xp=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Ep=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Tp=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,kp=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Pp(h){const r=bl(h,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Dt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new hr(0,0,0,0)},uTroikaClipRect:{value:new hr(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Dt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Or},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new cd},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:xp,vertexTransform:Ep,fragmentDefs:Tp,fragmentColorTransform:kp,customRewriter({vertexShader:v,fragmentShader:f}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(f)&&(f=f.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(v)||(v=v.replace(tf,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:v,fragmentShader:f}}});return r.transparent=!0,r.forceSinglePass=!0,Object.defineProperties(r,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),r}const Yl=new fd({color:16777215,side:dd,transparent:!0}),vc=8421504,mc=new kc,ta=new nt,Ml=new nt,Yo=[],Cp=new nt,Rl="+x+y";function gc(h){return Array.isArray(h)?h[0]:h}let sf=()=>{const h=new fa(new Bl(1,1),Yl);return sf=()=>h,h},uf=()=>{const h=new fa(new Bl(1,1,32,1),Yl);return uf=()=>h,h};const Up={type:"syncstart"},Mp={type:"synccomplete"},cf=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Rp=cf.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let ff=class extends fa{constructor(){const r=new _p;super(r,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=vc,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Rl,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(r){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(r):(this._isSyncing=!0,this.dispatchEvent(Up),rf({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},v=>{this._isSyncing=!1,this._textRenderInfo=v,this.geometry.updateGlyphs(v.glyphBounds,v.glyphAtlasIndices,v.blockBounds,v.chunkedBounds,v.glyphColors);const f=this._queuedSyncs;f&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{f.forEach(o=>o&&o())})),this.dispatchEvent(Mp),r&&r()})))}onBeforeRender(r,v,f,o,n,l){this.sync(),n.isTroikaTextMaterial&&this._prepareForRender(n)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(r){return Pp(r)}get material(){let r=this._derivedMaterial;const v=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Yl.clone());if((!r||!r.isDerivedFrom(v))&&(r=this._derivedMaterial=this.createDerivedMaterial(v),v.addEventListener("dispose",function f(){v.removeEventListener("dispose",f),r.dispose()})),this.hasOutline()){let f=r._outlineMtl;return f||(f=r._outlineMtl=Object.create(r,{id:{value:r.id+.1}}),f.isTextOutlineMaterial=!0,f.depthWrite=!1,f.map=null,r.addEventListener("dispose",function o(){r.removeEventListener("dispose",o),f.dispose()})),[f,r]}else return r}set material(r){r&&r.isTroikaTextMaterial?(this._derivedMaterial=r,this._baseMaterial=r.baseMaterial):this._baseMaterial=r}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(r){this.geometry.detail=r}get curveRadius(){return this.geometry.curveRadius}set curveRadius(r){this.geometry.curveRadius=r}get customDepthMaterial(){return gc(this.material).getDepthMaterial()}set customDepthMaterial(r){}get customDistanceMaterial(){return gc(this.material).getDistanceMaterial()}set customDistanceMaterial(r){}_prepareForRender(r){const v=r.isTextOutlineMaterial,f=r.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:u,blockBounds:s}=o;f.uTroikaSDFTexture.value=u,f.uTroikaSDFTextureSize.value.set(u.image.width,u.image.height),f.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,f.uTroikaSDFExponent.value=o.sdfExponent,f.uTroikaTotalBounds.value.fromArray(s),f.uTroikaUseGlyphColors.value=!v&&!!o.glyphColors;let d=0,c=0,m=0,y,S,w,_=0,x=0;if(v){let{outlineWidth:E,outlineOffsetX:T,outlineOffsetY:U,outlineBlur:M,outlineOpacity:A}=this;d=this._parsePercent(E)||0,c=Math.max(0,this._parsePercent(M)||0),y=A,_=this._parsePercent(T)||0,x=this._parsePercent(U)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(w=this.strokeColor,f.uTroikaStrokeColor.value.set(w??vc),S=this.strokeOpacity,S==null&&(S=1)),y=this.fillOpacity;f.uTroikaEdgeOffset.value=d,f.uTroikaPositionOffset.value.set(_,x),f.uTroikaBlurRadius.value=c,f.uTroikaStrokeWidth.value=m,f.uTroikaStrokeOpacity.value=S,f.uTroikaFillOpacity.value=y??1,f.uTroikaCurveRadius.value=this.curveRadius||0;let k=this.clipRect;if(k&&Array.isArray(k)&&k.length===4)f.uTroikaClipRect.value.fromArray(k);else{const E=(this.fontSize||.1)*100;f.uTroikaClipRect.value.set(s[0]-E,s[1]-E,s[2]+E,s[3]+E)}this.geometry.applyClipRect(f.uTroikaClipRect.value)}f.uTroikaSDFDebug.value=!!this.debugSDF,r.polygonOffset=!!this.depthOffset,r.polygonOffsetFactor=r.polygonOffsetUnits=this.depthOffset||0;const n=v?this.outlineColor||0:this.color;if(n==null)delete r.color;else{const u=r.hasOwnProperty("color")?r.color:r.color=new Or;(n!==u._input||typeof n=="object")&&u.set(u._input=n)}let l=this.orientation||Rl;if(l!==r._orientation){let u=f.uTroikaOrient.value;l=l.replace(/[^-+xyz]/g,"");let s=l!==Rl&&l.match(/^([-+])([xyz])([-+])([xyz])$/);if(s){let[,d,c,m,y]=s;ta.set(0,0,0)[c]=d==="-"?1:-1,Ml.set(0,0,0)[y]=m==="-"?-1:1,mc.lookAt(Cp,ta.cross(Ml),Ml),u.setFromMatrix4(mc)}else u.identity();r._orientation=l}}_parsePercent(r){if(typeof r=="string"){let v=r.match(/^(-?[\d.]+)%$/),f=v?parseFloat(v[1]):NaN;r=(isNaN(f)?0:f/100)*this.fontSize}return r}localPositionToTextCoords(r,v=new Dt){v.copy(r);const f=this.curveRadius;return f&&(v.x=Math.atan2(r.x,Math.abs(f)-Math.abs(r.z))*Math.abs(f)),v}worldPositionToTextCoords(r,v=new Dt){return ta.copy(r),this.localPositionToTextCoords(this.worldToLocal(ta),v)}raycast(r,v){const{textRenderInfo:f,curveRadius:o}=this;if(f){const n=f.blockBounds,l=o?uf():sf(),u=l.geometry,{position:s,uv:d}=u.attributes;for(let c=0;c<d.count;c++){let m=n[0]+d.getX(c)*(n[2]-n[0]);const y=n[1]+d.getY(c)*(n[3]-n[1]);let S=0;o&&(S=o-Math.cos(m/o)*o,m=Math.sin(m/o)*o),s.setXYZ(c,m,y,S)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,l.matrixWorld=this.matrixWorld,l.material.side=this.material.side,Yo.length=0,l.raycast(r,Yo);for(let c=0;c<Yo.length;c++)Yo[c].object=this,v.push(Yo[c])}}copy(r){const v=this.geometry;return super.copy(r),this.geometry=v,Rp.forEach(f=>{this[f]=r[f]}),this}clone(){return new this.constructor().copy(this)}};cf.forEach(h=>{const r="_private_"+h;Object.defineProperty(ff.prototype,h,{get(){return this[r]},set(v){v!==this[r]&&(this[r]=v,this._needsSync=!0)}})});new Jo;new Or;const ev=ae.forwardRef(({sdfGlyphSize:h=64,anchorX:r="center",anchorY:v="middle",font:f,fontSize:o=1,children:n,characters:l,onSync:u,...s},d)=>{const c=Qt(({invalidate:w})=>w),[m]=ae.useState(()=>new ff),[y,S]=ae.useMemo(()=>{const w=[];let _="";return ae.Children.forEach(n,x=>{typeof x=="string"||typeof x=="number"?_+=x:w.push(x)}),[w,_]},[n]);return Nd(()=>new Promise(w=>vp({font:f,characters:l},w)),["troika-text",f,l]),ae.useLayoutEffect(()=>void m.sync(()=>{c(),u&&u(m)})),ae.useEffect(()=>()=>m.dispose(),[m]),ae.createElement("primitive",er({object:m,ref:d,font:f,text:S,anchorX:r,anchorY:v,fontSize:o,sdfGlyphSize:h},s),y)});function Dp(h,r,v,f){const o=class extends Ec{constructor(l={}){const u=Object.entries(h);super({uniforms:u.reduce((s,[d,c])=>{const m=sa.clone({[d]:{value:c}});return{...s,...m}},{}),vertexShader:r,fragmentShader:v}),this.key="",u.forEach(([s])=>Object.defineProperty(this,s,{get:()=>this.uniforms[s].value,set:d=>this.uniforms[s].value=d})),Object.assign(this,l),f&&f(this)}};return o.key=Tc.generateUUID(),o}const Lp=()=>parseInt(wc.replace(/\D+/g,"")),Ap=Lp();function Op(h,r,v){const f=Qt(y=>y.size),o=Qt(y=>y.viewport),n=typeof h=="number"?h:f.width*o.dpr,l=typeof r=="number"?r:f.height*o.dpr,u=(typeof h=="number"?v:h)||{},{samples:s=0,depth:d,...c}=u,m=ae.useMemo(()=>{const y=new hd(n,l,{minFilter:ua,magFilter:ua,type:pd,...c});return d&&(y.depthTexture=new vd(n,l,md)),y.samples=s,y},[]);return ae.useLayoutEffect(()=>{m.setSize(n,l),s&&(m.samples=s)},[s,m,n,l]),ae.useEffect(()=>()=>m.dispose(),[]),m}const Fp=h=>typeof h=="function",nv=ae.forwardRef(({envMap:h,resolution:r=256,frames:v=1/0,makeDefault:f,children:o,...n},l)=>{const u=Qt(({set:x})=>x),s=Qt(({camera:x})=>x),d=Qt(({size:x})=>x),c=ae.useRef(null);ae.useImperativeHandle(l,()=>c.current,[]);const m=ae.useRef(null),y=Op(r);ae.useLayoutEffect(()=>{n.manual||(c.current.aspect=d.width/d.height)},[d,n]),ae.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let S=0,w=null;const _=Fp(o);return Gl(x=>{_&&(v===1/0||S<v)&&(m.current.visible=!1,x.gl.setRenderTarget(y),w=x.scene.background,h&&(x.scene.background=h),x.gl.render(x.scene,c.current),x.scene.background=w,x.gl.setRenderTarget(null),m.current.visible=!0,S++)}),ae.useLayoutEffect(()=>{if(f){const x=s;return u(()=>({camera:c.current})),()=>u(()=>({camera:x}))}},[c,f,u]),ae.createElement(ae.Fragment,null,ae.createElement("perspectiveCamera",er({ref:c},n),!_&&o),ae.createElement("group",{ref:m},_&&o(y.texture)))}),rv=ae.forwardRef(({makeDefault:h,camera:r,regress:v,domElement:f,enableDamping:o=!0,keyEvents:n=!1,onChange:l,onStart:u,onEnd:s,...d},c)=>{const m=Qt(A=>A.invalidate),y=Qt(A=>A.camera),S=Qt(A=>A.gl),w=Qt(A=>A.events),_=Qt(A=>A.setEvents),x=Qt(A=>A.set),k=Qt(A=>A.get),E=Qt(A=>A.performance),T=r||y,U=f||w.connected||S.domElement,M=ae.useMemo(()=>new Ah(T),[T]);return Gl(()=>{M.enabled&&M.update()},-1),ae.useEffect(()=>(n&&M.connect(n===!0?U:n),M.connect(U),()=>void M.dispose()),[n,U,v,M,m]),ae.useEffect(()=>{const A=V=>{m(),v&&E.regress(),l&&l(V)},b=V=>{u&&u(V)},N=V=>{s&&s(V)};return M.addEventListener("change",A),M.addEventListener("start",b),M.addEventListener("end",N),()=>{M.removeEventListener("start",b),M.removeEventListener("end",N),M.removeEventListener("change",A)}},[l,u,s,M,m,_]),ae.useEffect(()=>{if(h){const A=k().controls;return x({controls:M}),()=>x({controls:A})}},[h,M]),ae.createElement("primitive",er({ref:c,object:M,enableDamping:o},d))}),Ip=Dp({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new Or,sectionColor:new Or,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new nt,worldPlanePosition:new nt},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Ap>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),ov=ae.forwardRef(({args:h,cellColor:r="#000000",sectionColor:v="#2080ff",cellSize:f=.5,sectionSize:o=1,followCamera:n=!1,infiniteGrid:l=!1,fadeDistance:u=100,fadeStrength:s=1,fadeFrom:d=1,cellThickness:c=.5,sectionThickness:m=1,side:y=gd,...S},w)=>{Mc({GridMaterial:Ip});const _=ae.useRef(null);ae.useImperativeHandle(w,()=>_.current,[]);const x=new _c,k=new nt(0,1,0),E=new nt(0,0,0);Gl(M=>{x.setFromNormalAndCoplanarPoint(k,E).applyMatrix4(_.current.matrixWorld);const A=_.current.material,b=A.uniforms.worldCamProjPosition,N=A.uniforms.worldPlanePosition;x.projectPoint(M.camera.position,b.value),N.value.set(0,0,0).applyMatrix4(_.current.matrixWorld)});const T={cellSize:f,sectionSize:o,cellColor:r,sectionColor:v,cellThickness:c,sectionThickness:m},U={fadeDistance:u,fadeStrength:s,fadeFrom:d,infiniteGrid:l,followCamera:n};return ae.createElement("mesh",er({ref:_,frustumCulled:!1},S),ae.createElement("gridMaterial",er({transparent:!0,"extensions-derivatives":!0,side:y},T,U)),ae.createElement("planeGeometry",{args:h}))});var la={exports:{}},bp=la.exports,yc;function zp(){return yc||(yc=1,function(h,r){(function(v,f){h.exports=f()})(bp,function(){var v=function(){function f(S){return l.appendChild(S.dom),S}function o(S){for(var w=0;w<l.children.length;w++)l.children[w].style.display=w===S?"block":"none";n=S}var n=0,l=document.createElement("div");l.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",l.addEventListener("click",function(S){S.preventDefault(),o(++n%l.children.length)},!1);var u=(performance||Date).now(),s=u,d=0,c=f(new v.Panel("FPS","#0ff","#002")),m=f(new v.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var y=f(new v.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:l,addPanel:f,showPanel:o,begin:function(){u=(performance||Date).now()},end:function(){d++;var S=(performance||Date).now();if(m.update(S-u,200),S>s+1e3&&(c.update(1e3*d/(S-s),100),s=S,d=0,y)){var w=performance.memory;y.update(w.usedJSHeapSize/1048576,w.jsHeapSizeLimit/1048576)}return S},update:function(){u=this.end()},domElement:l,setMode:o}};return v.Panel=function(f,o,n){var l=1/0,u=0,s=Math.round,d=s(window.devicePixelRatio||1),c=80*d,m=48*d,y=3*d,S=2*d,w=3*d,_=15*d,x=74*d,k=30*d,E=document.createElement("canvas");E.width=c,E.height=m,E.style.cssText="width:80px;height:48px";var T=E.getContext("2d");return T.font="bold "+9*d+"px Helvetica,Arial,sans-serif",T.textBaseline="top",T.fillStyle=n,T.fillRect(0,0,c,m),T.fillStyle=o,T.fillText(f,y,S),T.fillRect(w,_,x,k),T.fillStyle=n,T.globalAlpha=.9,T.fillRect(w,_,x,k),{dom:E,update:function(U,M){l=Math.min(l,U),u=Math.max(u,U),T.fillStyle=n,T.globalAlpha=1,T.fillRect(0,0,c,_),T.fillStyle=o,T.fillText(s(U)+" "+f+" ("+s(l)+"-"+s(u)+")",y,S),T.drawImage(E,w+d,_,x-d,k,w,_,x-d,k),T.fillRect(w+x-d,_,d,k),T.fillStyle=n,T.globalAlpha=.9,T.fillRect(w+x-d,_,d,s((1-U/M)*k))}}},v})}(la)),la.exports}var Np=zp();const Bp=Cc(Np);function Sc(h,r){typeof h=="function"?h(r):h!=null&&(h.current=r)}function jp(h,r=[],v){const[f,o]=ae.useState();return ae.useLayoutEffect(()=>{const n=h();return o(n),Sc(v,n),()=>Sc(v,null)},r),f}function iv({showPanel:h=0,className:r,parent:v}){const f=jp(()=>new Bp,[]);return ae.useEffect(()=>{if(f){const o=v&&v.current||document.body;f.showPanel(h),o==null||o.appendChild(f.dom);const n=(r??"").split(" ").filter(s=>s);n.length&&f.dom.classList.add(...n);const l=rh(()=>f.begin()),u=oh(()=>f.end());return()=>{n.length&&f.dom.classList.remove(...n),o==null||o.removeChild(f.dom),l(),u()}}},[v,f,r,h]),null}export{Jp as C,ov as G,qp as L,rv as O,nv as P,iv as S,ev as T,Kp as _,Gl as a,Vp as c,Yp as d,Mn as j,Qp as p,Xp as s,Qt as u};
